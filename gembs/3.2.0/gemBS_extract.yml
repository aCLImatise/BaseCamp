&id003 !Command
positional: []
named:
- !Flag
  description: Number of parallel jobs
  synonyms:
  - -j
  - --jobs
  args: !SimpleFlagArg
    name: JOBS
  optional: true
- !Flag
  description: Name of sample to be filtered
  synonyms:
  - -n
  - --sample-name
  args: !SimpleFlagArg
    name: SAMPLE_NAME
  optional: true
- !Flag
  description: Barcode of sample to be filtered
  synonyms:
  - -b
  - --barcode
  args: !SimpleFlagArg
    name: SAMPLE_BARCODE
  optional: true
- !Flag
  description: Output separate lines for each strand.
  synonyms:
  - -s
  - --strand-specific
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Min threshold for genotype phred score.
  synonyms:
  - -q
  - --phred-threshold
  args: !SimpleFlagArg
    name: PHRED
  optional: true
- !Flag
  description: Min threshold for informative reads.
  synonyms:
  - -I
  - --min-inform
  args: !SimpleFlagArg
    name: INFORM
  optional: true
- !Flag
  description: Min threshold for non-converted reads for non CpG sites.
  synonyms:
  - -M
  - --min-nc
  args: !SimpleFlagArg
    name: MIN_NC
  optional: true
- !Flag
  description: Allow both heterozygous and homozgyous sites.
  synonyms:
  - -H
  - --allow-het
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Allow both heterozygous and homozgyous sites.
  synonyms:
  - -R
  - --reference-bias
  args: !SimpleFlagArg
    name: REF_BIAS
  optional: true
- !Flag
  description: Output gemBS bed with cpg sites.
  synonyms:
  - -c
  - --cpg
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Output gemBS bed with non-cpg sites.
  synonyms:
  - -N
  - --non-cpg
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Output bedMethyl files (bed and bigBed)
  synonyms:
  - -B
  - --bed-methyl
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Output bigWig file
  synonyms:
  - -w
  - --bigwig
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Output SNPs
  synonyms:
  - -S
  - --snps
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: List of SNPs to output
  synonyms:
  - --snp-list
  args: !SimpleFlagArg
    name: SNP_LIST
  optional: true
- !Flag
  description: dbSNP_idx processed SNP idx
  synonyms:
  - --snp-db
  args: !SimpleFlagArg
    name: SNP_DB
  optional: true
- !Flag
  description: Output mapping commands without execution
  synonyms:
  - --dry-run
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: FILE      Output JSON file with details of pending commands
  synonyms:
  - --json
  args: !SimpleFlagArg
    name: JSON
  optional: true
- !Flag
  description: Ignore database for --dry-run and --json commands
  synonyms:
  - --ignore-db
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Ignore dependencies for --dry-run and --json commands
  synonyms:
  - --ignore-dep
  args: !EmptyFlagArg {}
  optional: true
command:
- gemBS
- extract
parent: &id001 !Command
  positional: []
  named:
  - !Flag
    description: Log level (error, warn, info, debug)
    synonyms:
    - --loglevel
    args: !SimpleFlagArg
      name: LOGLEVEL
    optional: true
  - !Flag
    description: Location of gemBS JSON file
    synonyms:
    - -j
    - --json-file
    args: !SimpleFlagArg
      name: JSON
    optional: true
  - !Flag
    description: Set working directory
    synonyms:
    - -d
    - --dir
    args: !SimpleFlagArg
      name: DIR
    optional: true
  - !Flag
    description: ''
    synonyms:
    - -v
    args: !EmptyFlagArg {}
    optional: true
  command:
  - gemBS
  parent:
  subcommands:
  - !Command
    positional: []
    named:
    - !Flag
      description: Text config file with gemBS parameters.
      synonyms:
      - -c
      - --config
      args: !SimpleFlagArg
        name: CONFIG
      optional: true
    - !Flag
      description: Sample metadata in csv file. See documentation for description
        of file format.
      synonyms:
      - -t
      - --text-metadata
      args: !SimpleFlagArg
        name: TEXT_METADATA
      optional: true
    - !Flag
      description: Output JSON file. See documentation for description of file format.
      synonyms:
      - -o
      - --output
      args: !SimpleFlagArg
        name: OUTPUT
      optional: true
    - !Flag
      description: Do not use disk base database.
      synonyms:
      - -D
      - --no-db
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Specify location for database file.
      synonyms:
      - -d
      - --db-file
      args: !SimpleFlagArg
        name: DBFILE
      optional: true
    - !Flag
      description: Lims CNAG subproject JSON file.
      synonyms:
      - -l
      - --lims-cnag-json
      args: !SimpleFlagArg
        name: LIMS_CNAG_JSON
      optional: true
    command:
    - gemBS
    - prepare
    parent: *id001
    subcommands: []
    help_flag: !Flag
      description: show this help message and exit
      synonyms:
      - -h
      - --help
      args: !EmptyFlagArg {}
      optional: true
    usage_flag:
    version_flag:
    help_text: "usage: gemBS prepare [-h] -c CONFIG [-t TEXT_METADATA] [-o OUTPUT]\
      \ [-D]\n                     [-d DBFILE] [-l LIMS_CNAG_JSON]\n\nSets up pipeline\
      \ directories and controls files. Input Files: Two files are\nrequired, a configuration\
      \ file describing the model parameters and analysis\ndirectory structure, and\
      \ second file describing the sample metadata and\nassociated data files. The\
      \ sample file will normally be a text file in CSV\nformat with an optional (although\
      \ recommended) header line, although there is\nalso the option to import a JSON\
      \ file from the CNAG LIMS. A full description\nof the input file formats can\
      \ be found in the gemBS documentation. The prepare\ncommand reads in the configuration\
      \ files and writes a JSON file with the data\nfrom both files, that is used\
      \ by the subsequent gemBS commands. Any parameters\nsupplied in the configuration\
      \ files is used as the default by the other gemBS\ncommands, so judicious use\
      \ can prevent a lot of typing and help standardize\nanalyses. The prepare command\
      \ will then check that the mimum required\ninformation has been provided, and\
      \ will check for the existence of key input\nfiles (notable the genome reference\
      \ fasta file). A persistant (disk-based)\nsqlite3 database is used by default\
      \ so that gemBS can track at what stage the\npipeline has reached and handle\
      \ pipeline steps that failed. This allows normal\noperation and restarting of\
      \ the pipeline to be achieved using minimal input\nfrom the user. The use of\
      \ the disk-base database is recommended for normal\noperations but does require\
      \ a shared filesystem (that supports non-local file\nlocks) across all instances\
      \ of gemBS that are running on the same datafiles.\nIf this is not the case\
      \ then this can be turned off using the --no-db option.\nUse of this option\
      \ will require that the user tracks the state of the analysis\nthemselves. Note\
      \ that if multiple instances of gemBS are run simultaneously on\ncommon analysis\
      \ directories (i.e., using a shared filesystem, stroing output\nfiles in the\
      \ same locations) then the disk based database must be used to\navoid interference\
      \ between the different gemBS instances. By default the\ndatabase (if used)\
      \ is stored in the file .gemBS/gemBS.db and the output JSON\nfile is stored\
      \ in .gemBS/gemBS.json. If the -no-db option is set then the JSON\nfile will\
      \ be stored to the file gemBS.json in the current directory. The\n--output option\
      \ can be used to specify an alternate locationn for the JSON\nfile and the --db-file\
      \ option can specify an alternate locaiton for the\ndatabase file. The database\
      \ location is stored in the JSON file so that it can\nbe recovered by subsequent\
      \ calls to gemBS. However if the default location is\nnot used for the JSON\
      \ file them it will be necessary to specify the location\nof the JSON file for\
      \ each gemBS command. It is therefore advised to stay with\nthe default option\
      \ if possible.\n\noptional arguments:\n  -h, --help            show this help\
      \ message and exit\n  -c CONFIG, --config CONFIG\n                        Text\
      \ config file with gemBS parameters.\n  -t TEXT_METADATA, --text-metadata TEXT_METADATA\n\
      \                        Sample metadata in csv file. See documentation for\n\
      \                        description of file format.\n  -o OUTPUT, --output\
      \ OUTPUT\n                        Output JSON file. See documentation for description\
      \ of\n                        file format.\n  -D, --no-db           Do not use\
      \ disk base database.\n  -d DBFILE, --db-file DBFILE\n                     \
      \   Specify location for database file.\n  -l LIMS_CNAG_JSON, --lims-cnag-json\
      \ LIMS_CNAG_JSON\n                        Lims CNAG subproject JSON file.\n"
    generated_using: &id002
    - --help
  - !Command
    positional:
    - !Positional
      description: ''
      position: 0
      name: gemBS
      optional: false
    - !Positional
      description: ''
      position: 1
      name: gemBS
      optional: false
    named:
    - !Flag
      description: ''
      synonyms:
      - --loglevel
      args: !SimpleFlagArg
        name: LOGLEVEL
      optional: true
    - !Flag
      description: ''
      synonyms:
      - -v
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: ''
      synonyms:
      - -j
      args: !SimpleFlagArg
        name: JSON
      optional: true
    - !Flag
      description: ''
      synonyms:
      - -d
      args: !SimpleFlagArg
        name: DIR
      optional: true
    command:
    - gemBS
    - index
    parent: *id001
    subcommands: []
    help_flag: !Flag
      description: ''
      synonyms:
      - -h
      args: !EmptyFlagArg {}
      optional: true
    usage_flag:
    version_flag:
    help_text: "usage: gemBS [-h] [--loglevel LOGLEVEL] [-v] [-j JSON] [-d DIR] <command>\
      \ ...\ngemBS: error: unrecognized arguments: --usage\n"
    generated_using: &id004
    - --usage
  - !Command
    positional: []
    named:
    - !Flag
      description: Dataset to be mapped.
      synonyms:
      - -D
      - --dataset
      args: !SimpleFlagArg
        name: DATASET
      optional: true
    - !Flag
      description: Name of sample to be mapped.
      synonyms:
      - -n
      - --sample-name
      args: !SimpleFlagArg
        name: SAMPLE
      optional: true
    - !Flag
      description: Barcode of sample to be mapped.
      synonyms:
      - -b
      - --barcode
      args: !SimpleFlagArg
        name: BARCODE
      optional: true
    - !Flag
      description: 'Temporary folder to perform sorting operations. Default: /tmp'
      synonyms:
      - -d
      - --tmp-dir
      args: !SimpleFlagArg
        name: PATH
      optional: true
    - !Flag
      description: Number of threads to perform sorting operations.
      synonyms:
      - -t
      - --threads
      args: !SimpleFlagArg
        name: THREADS
      optional: true
    - !Flag
      description: Type of data file (PAIRED, SINGLE, INTERLEAVED, STREAM, BAM)
      synonyms:
      - -T
      - --type
      args: !SimpleFlagArg
        name: FTYPE
      optional: true
    - !Flag
      description: Input data is Paired End
      synonyms:
      - -p
      - --paired-end
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Remove individual BAM files after merging.
      synonyms:
      - -r
      - --remove
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Automatically selects the proper C->T and G->A read conversions
        based on the level of Cs and Gs on the read.
      synonyms:
      - -s
      - --read-non-stranded
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Name of unmethylated sequencing control.
      synonyms:
      - -u
      - --underconversion-sequence
      args: !SimpleFlagArg
        name: SEQUENCE
      optional: true
    - !Flag
      description: Name of methylated sequencing control.
      synonyms:
      - -v
      - --overconversion-sequence
      args: !SimpleFlagArg
        name: SEQUENCE
      optional: true
    - !Flag
      description: Use regular (non bisulfite) index
      synonyms:
      - --non-bs
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Do not automatically merge BAMs
      synonyms:
      - --no-merge
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Output mapping commands without execution
      synonyms:
      - --dry-run
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: FILE      Output JSON file with details of pending commands
      synonyms:
      - --json
      args: !SimpleFlagArg
        name: JSON
      optional: true
    - !Flag
      description: Ignore database for --dry-run and --json commands
      synonyms:
      - --ignore-db
      args: !EmptyFlagArg {}
      optional: true
    command:
    - gemBS
    - map
    parent: *id001
    subcommands: []
    help_flag: !Flag
      description: show this help message and exit
      synonyms:
      - -h
      - --help
      args: !EmptyFlagArg {}
      optional: true
    usage_flag:
    version_flag:
    help_text: "usage: gemBS map [-h] [-D DATASET] [-n SAMPLE] [-b BARCODE] [-d PATH]\n\
      \                 [-t THREADS] [-T FTYPE] [-p] [-r] [-s] [-u SEQUENCE]\n   \
      \              [-v SEQUENCE] [--non-bs] [--no-merge] [--dry-run]\n         \
      \        [--json JSON FILE] [--ignore-db]\n\nMaps single end or paired end bisulfite\
      \ sequence using the GEM3 mapper. By\ndefault the map command will try and perform\
      \ mapping on all datafiles that it\nknows about that have not already been mapped.\
      \ If all datafiles for a sample\nhave been mapped then the map command will\
      \ merge the BAM files if multiple\nBAMs exist for the sample. The resulting\
      \ BAM will then be indexed and the md5\nsum calculated. If the option --remove\
      \ is set or 'remove_individual_bams' is\nset to True in the configuration file\
      \ then the individual BAM files will be\ndeleted after the merge step has been\
      \ successfully completed. The --no-merge\noptions will prevent this automatic\
      \ merging - this can be useful for batch\nprocessing. Aside from the --no-merge\
      \ option, if no disk based database is\nbeing used for gemBS and separate instances\
      \ of gemBS are being run on non-\nshared file systems then the merging will\
      \ not always be performed\nautomatically. When the merging is not performed\
      \ automatically for whatever\nreason, it can be invoked manually using the merge-bams\
      \ command. The mapping\nprocess can be restricted to a single sample using the\
      \ option '-n <SAMPLE\nNAME>' or '-b <SAMPLE BARCODE>'. The mapping can also\
      \ be restricted to a\nsingle dataset ID using the option '-D <DATASET>' The\
      \ locations of the input\nand output data are given by the configuration files;\
      \ see the gemBS\ndocumentation for details. The --dry-run option will output\
      \ a list of the\nmapping / merging operations that would be run by the map command\
      \ without\nexecuting any of the commands. The --json <JSON OUTPUT> options is\
      \ similar to\n--dry-run, but writes the commands to be executed in JSON format\
      \ to the\nsupplied output file, including information about the input and output\
      \ files\nfor the commands. The --ignore-db option modifies the --dry-run and\
      \ --json\noptions such that the database is not consulted (i.e., gemBS assumes\
      \ that\nnothing has already been completed.\n\noptional arguments:\n  -h, --help\
      \            show this help message and exit\n  -D DATASET, --dataset DATASET\n\
      \                        Dataset to be mapped.\n  -n SAMPLE, --sample-name SAMPLE\n\
      \                        Name of sample to be mapped.\n  -b BARCODE, --barcode\
      \ BARCODE\n                        Barcode of sample to be mapped.\n  -d PATH,\
      \ --tmp-dir PATH\n                        Temporary folder to perform sorting\
      \ operations.\n                        Default: /tmp\n  -t THREADS, --threads\
      \ THREADS\n                        Number of threads to perform sorting operations.\n\
      \  -T FTYPE, --type FTYPE\n                        Type of data file (PAIRED,\
      \ SINGLE, INTERLEAVED,\n                        STREAM, BAM)\n  -p, --paired-end\
      \      Input data is Paired End\n  -r, --remove          Remove individual BAM\
      \ files after merging.\n  -s, --read-non-stranded\n                        Automatically\
      \ selects the proper C->T and G->A read\n                        conversions\
      \ based on the level of Cs and Gs on the\n                        read.\n  -u\
      \ SEQUENCE, --underconversion-sequence SEQUENCE\n                        Name\
      \ of unmethylated sequencing control.\n  -v SEQUENCE, --overconversion-sequence\
      \ SEQUENCE\n                        Name of methylated sequencing control.\n\
      \  --non-bs              Use regular (non bisulfite) index\n  --no-merge   \
      \         Do not automatically merge BAMs\n  --dry-run             Output mapping\
      \ commands without execution\n  --json JSON FILE      Output JSON file with\
      \ details of pending commands\n  --ignore-db           Ignore database for --dry-run\
      \ and --json commands\n"
    generated_using: *id002
  - !Command
    positional: []
    named:
    - !Flag
      description: 'Number of threads, Default: 1'
      synonyms:
      - -t
      - --threads
      args: !SimpleFlagArg
        name: THREADS
      optional: true
    - !Flag
      description: Sample to be merged
      synonyms:
      - -n
      - --sample_name
      args: !SimpleFlagArg
        name: SAMPLE
      optional: true
    - !Flag
      description: Sample to be merged
      synonyms:
      - -b
      - --barcode
      args: !SimpleFlagArg
        name: SAMPLE
      optional: true
    - !Flag
      description: Remove individual BAM files after merging.
      synonyms:
      - -r
      - --remove
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Output mapping commands without execution
      synonyms:
      - --dry-run
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: FILE      Output JSON file with details of pending commands
      synonyms:
      - --json
      args: !SimpleFlagArg
        name: JSON
      optional: true
    - !Flag
      description: Ignore database for --dry-run and --json commands
      synonyms:
      - --ignore-db
      args: !EmptyFlagArg {}
      optional: true
    command:
    - gemBS
    - merge-bams
    parent: *id001
    subcommands: []
    help_flag: !Flag
      description: show this help message and exit
      synonyms:
      - -h
      - --help
      args: !EmptyFlagArg {}
      optional: true
    usage_flag:
    version_flag:
    help_text: "usage: gemBS merge-bams [-h] [-t THREADS] [-n SAMPLE] [-b SAMPLE]\
      \ [-r]\n                        [--dry-run] [--json JSON FILE] [--ignore-db]\n\
      \nMerges all bam alignments involved in a given Bisulfite project or for a given\n\
      sample. The resulting merged BAMs are then indexed and the MD5 singatures\n\
      calculated. This is normally performed automatically during the mapping stage,\n\
      but may be required if gemBS is being run on a non-shared file system or the\n\
      different datasets for a given sample are mapped by different instances of\n\
      gemBS in different directories. If the option --remove is set or\n'remove_individual_bams'\
      \ is set to True in the configuration file then the\nindividual BAM files will\
      \ be deleted after the merge step has been\nsuccessfully completed. By default\
      \ gemBS will attempt the merge for all\nsamples, and can be restricted to a\
      \ single sample using the options '-n\n<SAMPLE NAME>' or '-b <SAMPLE_BARCODE>.\
      \ The --dry-run option will output a\nlist of the merging operations that would\
      \ be run by the merge-bam command\nwithout executing any of the commands. The\
      \ --json <JSON OUTPUT> options is\nsimilar to --dry-run, but writes the commands\
      \ to be executed in JSON format to\nthe supplied output file, including information\
      \ about the input and output\nfiles for the commands. The --ignore-db option\
      \ modifies the --dry-run and\n--json options such that the database is not consulted\
      \ (i.e., gemBS assumes\nthat nothing has already been completed.\n\noptional\
      \ arguments:\n  -h, --help            show this help message and exit\n  -t\
      \ THREADS, --threads THREADS\n                        Number of threads, Default:\
      \ 1\n  -n SAMPLE, --sample_name SAMPLE\n                        Sample to be\
      \ merged\n  -b SAMPLE, --barcode SAMPLE\n                        Sample to be\
      \ merged\n  -r, --remove          Remove individual BAM files after merging.\n\
      \  --dry-run             Output mapping commands without execution\n  --json\
      \ JSON FILE      Output JSON file with details of pending commands\n  --ignore-db\
      \           Ignore database for --dry-run and --json commands\n"
    generated_using: *id002
  - !Command
    positional: []
    named:
    - !Flag
      description: List of contigs on which to perform the methylation calling.
      synonyms:
      - -l
      - --contig-list
      args: !RepeatFlagArg
        name: CONTIGS
      optional: true
    - !Flag
      description: Name of sample to be called
      synonyms:
      - -n
      - --sample-name
      args: !SimpleFlagArg
        name: SAMPLE
      optional: true
    - !Flag
      description: Barcode of sample to be called
      synonyms:
      - -b
      - --barcode
      args: !SimpleFlagArg
        name: BARCODE
      optional: true
    - !Flag
      description: Threshold for MAPQ scores
      synonyms:
      - -q
      - --mapq-threshold
      args: !SimpleFlagArg
        name: MAPQ_THRESHOLD
      optional: true
    - !Flag
      description: Threshold for base quality scores
      synonyms:
      - -Q
      - --qual-threshold
      args: !SimpleFlagArg
        name: QUAL_THRESHOLD
      optional: true
    - !Flag
      description: 'Bases to trim from right of read pair, Default: 0'
      synonyms:
      - -g
      - --right-trim
      args: !SimpleFlagArg
        name: BASES
      optional: true
    - !Flag
      description: 'Bases to trim from left of read pair, Default: 5'
      synonyms:
      - -f
      - --left-trim
      args: !SimpleFlagArg
        name: BASES
      optional: true
    - !Flag
      description: 'Number of threads, Default: 1'
      synonyms:
      - -t
      - --threads
      args: !SimpleFlagArg
        name: THREADS
      optional: true
    - !Flag
      description: Number of parallel jobs
      synonyms:
      - -j
      - --jobs
      args: !SimpleFlagArg
        name: JOBS
      optional: true
    - !Flag
      description: Do not merge duplicate reads.
      synonyms:
      - -u
      - --keep-duplicates
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Ignore duplicate flag from SAM/BAM files.
      synonyms:
      - -U
      - --ignore_duplicate_flag
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Do not discard reads that do not form proper pairs.
      synonyms:
      - -k
      - --keep-unmatched
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: 'Sample species name. Default: None'
      synonyms:
      - -e
      - --species
      args: !SimpleFlagArg
        name: SPECIES
      optional: true
    - !Flag
      description: Remove individual BCF files after merging.
      synonyms:
      - -r
      - --remove
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Force genotype calls to be homozygous
      synonyms:
      - '-1'
      - --haploid
      args: !SimpleFlagArg
        name: HAPLOID
      optional: true
    - !Flag
      description: Set under and over conversion rates (under,over)
      synonyms:
      - -C
      - --conversion
      args: !SimpleFlagArg
        name: CONVERSION
      optional: true
    - !Flag
      description: Set bias to reference homozygote
      synonyms:
      - -R
      - --reference-bias
      args: !SimpleFlagArg
        name: REF_BIAS
      optional: true
    - !Flag
      description: Only perform merging BCF files.
      synonyms:
      - -x
      - --concat-only
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Do not automatically merge BCFs
      synonyms:
      - --no-merge
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Contig pool on which to perform the methylation calling.
      synonyms:
      - --pool
      args: !SimpleFlagArg
        name: POOL
      optional: true
    - !Flag
      description: '[LEVEL]  List contig pools and exit. Level 1 - list names, level
        > 1 - list pool composition'
      synonyms:
      - --list-pools
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Output mapping commands without execution
      synonyms:
      - --dry-run
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: FILE      Output JSON file with details of pending commands
      synonyms:
      - --json
      args: !SimpleFlagArg
        name: JSON
      optional: true
    - !Flag
      description: Ignore database for --dry-run and --json commands
      synonyms:
      - --ignore-db
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Ignore dependencies for --dry-run and --json commands
      synonyms:
      - --ignore-dep
      args: !EmptyFlagArg {}
      optional: true
    command:
    - gemBS
    - call
    parent: *id001
    subcommands: []
    help_flag: !Flag
      description: show this help message and exit
      synonyms:
      - -h
      - --help
      args: !EmptyFlagArg {}
      optional: true
    usage_flag:
    version_flag:
    help_text: "usage: gemBS call [-h] [-l CONTIGS [CONTIGS ...]] [-n SAMPLE] [-b\
      \ BARCODE]\n                  [-q MAPQ_THRESHOLD] [-Q QUAL_THRESHOLD] [-g BASES]\n\
      \                  [-f BASES] [-t THREADS] [-j JOBS] [-u] [-U] [-k]\n      \
      \            [-e SPECIES] [-r] [-1 HAPLOID] [-C CONVERSION] [-R REF_BIAS]\n\
      \                  [-x] [--no-merge] [--pool POOL] [--list-pools [LEVEL]]\n\
      \                  [--dry-run] [--json JSON FILE] [--ignore-db] [--ignore-dep]\n\
      \nPerforms a methylation and SNV calling from bam aligned files. This process\
      \ is\nperformed (optionally in parallel) over contigs. Smaller contigs are processed\n\
      together in pools to increaes efficiency. By default gemBS will analyze all\n\
      contigs / contig pools for all samples that have not already been processed.\n\
      After all contigs have been processed for one sample, the resulting BCFs are\n\
      merged into a single BCF for the sample. This sample BCF is then indexed and\n\
      the md5 signature calculated. If the option --remove is set or\n'remove_individual_bcfs'\
      \ is set to True in the configuration file then the\nindividual BAM files will\
      \ be deleted after the merge step has been\nsuccessfully completed. The --no-merge\
      \ options will prevent this automatic\nmerging - this can be useful for batch\
      \ processing. Aside from the --no-merge\noption, if no disk based database is\
      \ being used for gemBS and separate\ninstances of gemBS are being run on non-shared\
      \ file systems then the merging\nwill not always be performed automatically.\
      \ When the merging is not performed\nautomatically for whatever reason, it can\
      \ be invoked manually using the merge-\nbcfs command. The calling process can\
      \ be restricted to a single sample using\nthe option '-n <SAMPLE NAME>' or '-b\
      \ <SAMPLE BARCODE>'. The mapping can also\nbe restricted to a list of contigs\
      \ or contig pool using the option '-l\n<contig1, contig2, ...>' or '--pool <pool>'.\
      \ The --list-pools option will list\nthe available contig pools and exit. More\
      \ information on how contig pools are\ndetermined is given in the gemBS documentation.\
      \ If the dbSNP_index key has\nbeen set in the configuration file (and the index\
      \ has been gemerated) then\nthis will be used by the caller to add public IDs\
      \ in the BCF file where\navailable. The locations of the input and output data\
      \ are given by the\nconfiguration file; see the gemBS documentation for details.\
      \ The --dry-run\noption will output a list of the calling / merging operations\
      \ that would be\nrun by the call command without executing any of the commands.\
      \ The --json\n<JSON OUTPUT> options is similar to --dry-run, but writes the\
      \ commands to be\nexecuted in JSON format to the supplied output file, including\
      \ information\nabout the input and output files for the commands. The --ignore-db\
      \ option\nmodifies the --dry-run and --json options such that the database is\
      \ not\nconsulted (i.e., gemBS assumes that no calling has already been completed\
      \ but\nthat all dependencies (i.e., BAM files) are available. The --ignore-dep\
      \ option\nis similar - it ignores dependencies, but does check whether a task\
      \ has\nalready been completed.\n\noptional arguments:\n  -h, --help        \
      \    show this help message and exit\n  -l CONTIGS [CONTIGS ...], --contig-list\
      \ CONTIGS [CONTIGS ...]\n                        List of contigs on which to\
      \ perform the methylation\n                        calling.\n  -n SAMPLE, --sample-name\
      \ SAMPLE\n                        Name of sample to be called\n  -b BARCODE,\
      \ --barcode BARCODE\n                        Barcode of sample to be called\n\
      \  -q MAPQ_THRESHOLD, --mapq-threshold MAPQ_THRESHOLD\n                    \
      \    Threshold for MAPQ scores\n  -Q QUAL_THRESHOLD, --qual-threshold QUAL_THRESHOLD\n\
      \                        Threshold for base quality scores\n  -g BASES, --right-trim\
      \ BASES\n                        Bases to trim from right of read pair, Default:\
      \ 0\n  -f BASES, --left-trim BASES\n                        Bases to trim from\
      \ left of read pair, Default: 5\n  -t THREADS, --threads THREADS\n         \
      \               Number of threads, Default: 1\n  -j JOBS, --jobs JOBS  Number\
      \ of parallel jobs\n  -u, --keep-duplicates\n                        Do not\
      \ merge duplicate reads.\n  -U, --ignore_duplicate_flag\n                  \
      \      Ignore duplicate flag from SAM/BAM files.\n  -k, --keep-unmatched  Do\
      \ not discard reads that do not form proper pairs.\n  -e SPECIES, --species\
      \ SPECIES\n                        Sample species name. Default: None\n  -r,\
      \ --remove          Remove individual BCF files after merging.\n  -1 HAPLOID,\
      \ --haploid HAPLOID\n                        Force genotype calls to be homozygous\n\
      \  -C CONVERSION, --conversion CONVERSION\n                        Set under\
      \ and over conversion rates (under,over)\n  -R REF_BIAS, --reference-bias REF_BIAS\n\
      \                        Set bias to reference homozygote\n  -x, --concat-only\
      \     Only perform merging BCF files.\n  --no-merge            Do not automatically\
      \ merge BCFs\n  --pool POOL           Contig pool on which to perform the methylation\n\
      \                        calling.\n  --list-pools [LEVEL]  List contig pools\
      \ and exit. Level 1 - list names,\n                        level > 1 - list\
      \ pool composition\n  --dry-run             Output mapping commands without\
      \ execution\n  --json JSON FILE      Output JSON file with details of pending\
      \ commands\n  --ignore-db           Ignore database for --dry-run and --json\
      \ commands\n  --ignore-dep          Ignore dependencies for --dry-run and --json\
      \ commands\n"
    generated_using: *id002
  - !Command
    positional: []
    named:
    - !Flag
      description: Nmae of sample to be merged
      synonyms:
      - -n
      - --sample-name
      args: !SimpleFlagArg
        name: SAMPLE
      optional: true
    - !Flag
      description: Barcode of sample to be merged
      synonyms:
      - -b
      - --sample-barcode
      args: !SimpleFlagArg
        name: BARCODE
      optional: true
    - !Flag
      description: Number of threads
      synonyms:
      - -t
      - --threads
      args: !SimpleFlagArg
        name: THREADS
      optional: true
    - !Flag
      description: Remove individual BAM files after merging.
      synonyms:
      - -r
      - --remove
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: Number of parallel jobs
      synonyms:
      - -j
      - --jobs
      args: !SimpleFlagArg
        name: JOBS
      optional: true
    - !Flag
      description: Output mapping commands without execution
      synonyms:
      - --dry-run
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: FILE      Output JSON file with details of pending commands
      synonyms:
      - --json
      args: !SimpleFlagArg
        name: JSON
      optional: true
    - !Flag
      description: Ignore database for --dry-run and --json commands
      synonyms:
      - --ignore-db
      args: !EmptyFlagArg {}
      optional: true
    command:
    - gemBS
    - merge-bcfs
    parent: *id001
    subcommands: []
    help_flag: !Flag
      description: show this help message and exit
      synonyms:
      - -h
      - --help
      args: !EmptyFlagArg {}
      optional: true
    usage_flag:
    version_flag:
    help_text: "usage: gemBS merge-bcfs [-h] [-n SAMPLE] [-b BARCODE] [-t THREADS]\
      \ [-r]\n                        [-j JOBS] [--dry-run] [--json JSON FILE] [--ignore-db]\n\
      \nMerges all BCF call files involved in a given Bisulfite project or for a given\n\
      sample. The resulting merged BCFs are then indexed and the MD5 singatures\n\
      calculated. This is normally performed automatically during the calling stage,\n\
      but may be required if gemBS is being run on a non-shared file system or the\n\
      different datasets for a given sample are mapped by different instances of\n\
      gemBS in different directories. If the option --remove is set or\n'remove_individual_bams'\
      \ is set to True in the configuration file then the\nindividual BAM files will\
      \ be deleted after the merge step has been\nsuccessfully completed. By default\
      \ gemBS will attempt the merge for all\nsamples, and can be restricted to a\
      \ single sample using the options '-n\n<SAMPLE NAME>' or '-b <SAMPLE_BARCODE>.\
      \ The --dry-run option will output a\nlist of the merging operations that would\
      \ be run by the merge-bcfs command\nwithout executing any of the commands. The\
      \ --json <JSON OUTPUT> options is\nsimilar to --dry-run, but writes the commands\
      \ to be executed in JSON format to\nthe supplied output file, including information\
      \ about the input and output\nfiles for the commands. The --ignore-db option\
      \ modifies the --dry-run and\n--json options such that the database is not consulted\
      \ (i.e., gemBS assumes\nthat no calling has already been completed but that\
      \ all dependencies (i.e.,\nBAM files) are available. The --ignore-dep option\
      \ is similar - it ignores\ndependencies, but does check whether a task has already\
      \ been completed.\n\noptional arguments:\n  -h, --help            show this\
      \ help message and exit\n  -n SAMPLE, --sample-name SAMPLE\n               \
      \         Nmae of sample to be merged\n  -b BARCODE, --sample-barcode BARCODE\n\
      \                        Barcode of sample to be merged\n  -t THREADS, --threads\
      \ THREADS\n                        Number of threads\n  -r, --remove       \
      \   Remove individual BAM files after merging.\n  -j JOBS, --jobs JOBS  Number\
      \ of parallel jobs\n  --dry-run             Output mapping commands without\
      \ execution\n  --json JSON FILE      Output JSON file with details of pending\
      \ commands\n  --ignore-db           Ignore database for --dry-run and --json\
      \ commands\n"
    generated_using: *id002
  - *id003
  - !Command
    positional:
    - !Positional
      description: ''
      position: 0
      name: gemBS
      optional: false
    - !Positional
      description: ''
      position: 1
      name: gemBS
      optional: false
    named:
    - !Flag
      description: ''
      synonyms:
      - --loglevel
      args: !SimpleFlagArg
        name: LOGLEVEL
      optional: true
    - !Flag
      description: ''
      synonyms:
      - -v
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: ''
      synonyms:
      - -j
      args: !SimpleFlagArg
        name: JSON
      optional: true
    - !Flag
      description: ''
      synonyms:
      - -d
      args: !SimpleFlagArg
        name: DIR
      optional: true
    command:
    - gemBS
    - map-report
    parent: *id001
    subcommands: []
    help_flag: !Flag
      description: ''
      synonyms:
      - -h
      args: !EmptyFlagArg {}
      optional: true
    usage_flag:
    version_flag:
    help_text: "usage: gemBS [-h] [--loglevel LOGLEVEL] [-v] [-j JSON] [-d DIR] <command>\
      \ ...\ngemBS: error: unrecognized arguments: --usage\n"
    generated_using: *id004
  - !Command
    positional:
    - !Positional
      description: ''
      position: 0
      name: gemBS
      optional: false
    - !Positional
      description: ''
      position: 1
      name: gemBS
      optional: false
    named:
    - !Flag
      description: ''
      synonyms:
      - --loglevel
      args: !SimpleFlagArg
        name: LOGLEVEL
      optional: true
    - !Flag
      description: ''
      synonyms:
      - -v
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: ''
      synonyms:
      - -j
      args: !SimpleFlagArg
        name: JSON
      optional: true
    - !Flag
      description: ''
      synonyms:
      - -d
      args: !SimpleFlagArg
        name: DIR
      optional: true
    command:
    - gemBS
    - call-report
    parent: *id001
    subcommands: []
    help_flag: !Flag
      description: ''
      synonyms:
      - -h
      args: !EmptyFlagArg {}
      optional: true
    usage_flag:
    version_flag:
    help_text: "usage: gemBS [-h] [--loglevel LOGLEVEL] [-v] [-j JSON] [-d DIR] <command>\
      \ ...\ngemBS: error: unrecognized arguments: --usage\n"
    generated_using: *id004
  - !Command
    positional:
    - !Positional
      description: ''
      position: 0
      name: gemBS
      optional: false
    - !Positional
      description: ''
      position: 1
      name: gemBS
      optional: false
    named:
    - !Flag
      description: ''
      synonyms:
      - --loglevel
      args: !SimpleFlagArg
        name: LOGLEVEL
      optional: true
    - !Flag
      description: ''
      synonyms:
      - -v
      args: !EmptyFlagArg {}
      optional: true
    - !Flag
      description: ''
      synonyms:
      - -j
      args: !SimpleFlagArg
        name: JSON
      optional: true
    - !Flag
      description: ''
      synonyms:
      - -d
      args: !SimpleFlagArg
        name: DIR
      optional: true
    command:
    - gemBS
    - db-sync
    parent: *id001
    subcommands: []
    help_flag: !Flag
      description: ''
      synonyms:
      - -h
      args: !EmptyFlagArg {}
      optional: true
    usage_flag:
    version_flag:
    help_text: "usage: gemBS [-h] [--loglevel LOGLEVEL] [-v] [-j JSON] [-d DIR] <command>\
      \ ...\ngemBS: error: unrecognized arguments: --usage\n"
    generated_using: *id004
  help_flag: !Flag
    description: show this help message and exit
    synonyms:
    - -h
    - --help
    args: !EmptyFlagArg {}
    optional: true
  usage_flag:
  version_flag: !Flag
    description: show program's version number and exit
    synonyms:
    - -v
    - --version
    args: !EmptyFlagArg {}
    optional: true
  help_text: "usage: gemBS [-h] [--loglevel LOGLEVEL] [-v] [-j JSON] [-d DIR] <command>\
    \ ...\n\ngemBS is a bioinformatic pipeline to perform the different steps involved\
    \ in\nthe Bisulfite Sequencing Analysis.\n\noptional arguments:\n  -h, --help\
    \            show this help message and exit\n  --loglevel LOGLEVEL   Log level\
    \ (error, warn, info, debug)\n  -v, --version         show program's version number\
    \ and exit\n  -j JSON, --json-file JSON\n                        Location of gemBS\
    \ JSON file\n  -d DIR, --dir DIR     Set working directory\n\ncommands:\n  Available\
    \ commands\n\n  <command>\n    prepare             Prepare\n    index        \
    \       Index genomes\n    map                 Bisulphite mapping\n    merge-bams\
    \          Merging BAMs\n    call                Methylation Calling\n    merge-bcfs\
    \          Merging BCFs.\n    extract             Methylation & SNP Extraction.\n\
    \    map-report          Bisulfite Mapping reports\n    call-report         BS\
    \ Calls reports\n    db-sync             Synchronize database\n"
  generated_using: *id002
subcommands: []
help_flag: !Flag
  description: show this help message and exit
  synonyms:
  - -h
  - --help
  args: !EmptyFlagArg {}
  optional: true
usage_flag:
version_flag:
help_text: "usage: gemBS extract [-h] [-j JOBS] [-n SAMPLE_NAME] [-b SAMPLE_BARCODE]\
  \ [-s]\n                     [-q PHRED] [-I INFORM] [-M MIN_NC] [-H] [-R REF_BIAS]\n\
  \                     [-c] [-N] [-B] [-w] [-S] [--snp-list SNP_LIST]\n         \
  \            [--snp-db SNP_DB] [--dry-run] [--json JSON FILE]\n                \
  \     [--ignore-db] [--ignore-dep]\n\nExtracts summary files from BCF files generated\
  \ for all or a subset of samples\nto produce a series of summary output files. The\
  \ detailed formats of the\noutput files are given in the gemBS docuemntation. The\
  \ default output are CpG\nfiles. These are BED3+8 format files with information\
  \ on methylation and\ngenotypes. A list of non-CpG sites in the same basic format\
  \ can also be\nproduced. Various options on filtering these files on genotype quality\
  \ and\ncoverage are available. By default the CpG files have 1 output line per CpG\n\
  (so the information from the two strands is combined). This can be changed to\n\
  give strand specific information using the -s option. Standard filtering\nstrategy\
  \ is to only output sites where the sample genotype is called as being\nhomozygous\
  \ CG/CG with a phred score >= to the theshold set using the -q option\n(default\
  \ 20). Using the --allow-het option will allow heterozygous CpG sites\nto be included\
  \ in the output. The sitest can also be filtered on minimum\ninformative coverage\
  \ using the -I option (default = 1). For non-CpG sites the\nstrategy is to only\
  \ output sites with a minimum number of non-converted reads.\nThis level can be\
  \ set using the --min-nc option (default = 1). A second set of\nextracted outputs\
  \ that correspond to the ENCODE WGBS pipeline are also\navailable using the --bed-methyl\
  \ and --bigwig options. The --bed-methyl option\nwill produce three files per sample\
  \ for all covered sites in CpG, CHG and CHH\ncontext in BED9+5 format. Each of the\
  \ files will also be generated in bigBed\nformat for display in genome browsers.\
  \ The --bigwig option will produce a\nbigWig file giving the methylation percentage\
  \ at all covered cytosine sites\n(informative coverage > 0). For the ENCODE output\
  \ files, not further filtering\nis performed. In addition to the methylation result,\
  \ SNP genotypes can also be\nextract with the --snps options. By default, this will\
  \ return a file with\ngenotypes on all SNPs covered by the experiment that were\
  \ in the dbSNP_idx\nfile used for the calling stage. This selection can be refined\
  \ uwing the\n--snp-list option, which is a file with a list of SNP ids, one id per\
  \ line. An\nalternate dbSNP_idx file can also be supplied using the --snp-db option,\n\
  allowing SNPs that were not in the original dbSNP_idx file used for calling to\n\
  be extracted. The --dry-run option will output a list of the merging\noperations\
  \ that would be run by the merge-bcfs command without executing any\nof the commands.\
  \ The --json <JSON OUTPUT> options is similar to --dry-run, but\nwrites the commands\
  \ to be executed in JSON format to the supplied output file,\nincluding information\
  \ about the input and output files for the commands. The\n--ignore-db option modifies\
  \ the --dry-run and --json options such that the\ndatabase is not consulted (i.e.,\
  \ gemBS assumes that no calling has already\nbeen completed but that all dependencies\
  \ (i.e., BAM files) are available. The\n--ignore-dep option is similar - it ignores\
  \ dependencies, but does check\nwhether a task has already been completed.\n\noptional\
  \ arguments:\n  -h, --help            show this help message and exit\n  -j JOBS,\
  \ --jobs JOBS  Number of parallel jobs\n  -n SAMPLE_NAME, --sample-name SAMPLE_NAME\n\
  \                        Name of sample to be filtered\n  -b SAMPLE_BARCODE, --barcode\
  \ SAMPLE_BARCODE\n                        Barcode of sample to be filtered\n  -s,\
  \ --strand-specific\n                        Output separate lines for each strand.\n\
  \  -q PHRED, --phred-threshold PHRED\n                        Min threshold for\
  \ genotype phred score.\n  -I INFORM, --min-inform INFORM\n                    \
  \    Min threshold for informative reads.\n  -M MIN_NC, --min-nc MIN_NC\n      \
  \                  Min threshold for non-converted reads for non CpG\n         \
  \               sites.\n  -H, --allow-het       Allow both heterozygous and homozgyous\
  \ sites.\n  -R REF_BIAS, --reference-bias REF_BIAS\n                        Allow\
  \ both heterozygous and homozgyous sites.\n  -c, --cpg             Output gemBS\
  \ bed with cpg sites.\n  -N, --non-cpg         Output gemBS bed with non-cpg sites.\n\
  \  -B, --bed-methyl      Output bedMethyl files (bed and bigBed)\n  -w, --bigwig\
  \          Output bigWig file\n  -S, --snps            Output SNPs\n  --snp-list\
  \ SNP_LIST   List of SNPs to output\n  --snp-db SNP_DB       dbSNP_idx processed\
  \ SNP idx\n  --dry-run             Output mapping commands without execution\n \
  \ --json JSON FILE      Output JSON file with details of pending commands\n  --ignore-db\
  \           Ignore database for --dry-run and --json commands\n  --ignore-dep  \
  \        Ignore dependencies for --dry-run and --json commands\n"
generated_using: *id002
