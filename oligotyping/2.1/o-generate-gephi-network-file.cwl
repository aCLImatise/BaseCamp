#!/usr/bin/env cwl-runner

baseCommand:
- o-generate-gephi-network-file
class: CommandLineTool
cwlVersion: v1.0
id: o-generate-gephi-network-file
inputs:
- doc: Environment file that is generated by the pipeline
  id: file
  inputBinding:
    position: 0
  type: File
- doc: Providing a sample mapping file will make Gephi file much more useful.
  id: sample_mapping
  inputBinding:
    prefix: --sample-mapping
  type: File
- doc: Structurally, unit mapping is identical to sample mapping file, instead, it
    describes properties of units.
  id: unit_mapping
  inputBinding:
    prefix: --unit-mapping
  type: File
- doc: 'Sample node size. Default: 8'
  id: sample_size
  inputBinding:
    prefix: --sample-size
  type: long
- doc: 'Unit node size. Default: 2'
  id: unit_size
  inputBinding:
    prefix: --unit-size
  type: long
- doc: Minimum abundance of a unit to be included in the network. It usually a good
    idea to give some cut-off since each unit (whether it is an oligotype or an MED
    node) is going to be a part of the network (total number of reads divided by 10,000
    might be a good start).
  id: min_abundance
  inputBinding:
    prefix: --min-abundance
  type: long
- doc: This defines the minimum sum normalized percent for an oligotype or MED node
    in a sample to form an edge in the network. Sum normalization takes an oligotype
    or MED node, generates a vector from its percent occurence in all samples, then
    normalizes the percent abundances so the total of the vector adds up to 100%.
    The default is 1, but it might be a good idea to set it to 0 for samples with
    a lot of samples (such as more than 100 samples).
  id: min_sum_normalized_percent
  inputBinding:
    prefix: --min-sum-normalized-percent
  type: long
- doc: Leave sample labels blank.
  id: skip_sample_labels
  inputBinding:
    prefix: --skip-sample-labels
  type: boolean
- doc: Leave unit labels blank.
  id: skip_unit_labels
  inputBinding:
    prefix: --skip-unit-labels
  type: boolean
