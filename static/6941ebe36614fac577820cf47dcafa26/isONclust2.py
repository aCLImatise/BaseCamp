from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Boolean, Float, Directory

Isonclust2_V0_1_0 = CommandToolBuilder(tool="isONclust2", base_command=["isONclust2"], inputs=[ToolInput(tag="in_batch_size", input_type=Boolean(optional=True), prefix="--batch-size", doc=InputDocumentation(doc="Batch size in kilobases (default: 50000)")), ToolInput(tag="in_batch_max_seq", input_type=Boolean(optional=True), prefix="--batch-max-seq", doc=InputDocumentation(doc="Maximum number of sequences per batch (default: 3000).")), ToolInput(tag="in_km_er_size", input_type=Boolean(optional=True), prefix="--kmer-size", doc=InputDocumentation(doc="Kmer size (default: 11).")), ToolInput(tag="in_window_size", input_type=Boolean(optional=True), prefix="--window-size", doc=InputDocumentation(doc="Window size (default: 15).")), ToolInput(tag="in_min_shared", input_type=Boolean(optional=True), prefix="--min-shared", doc=InputDocumentation(doc="Minimum number of minimizers shared between read and cluster (default: 5).")), ToolInput(tag="in_min_qual", input_type=Boolean(optional=True), prefix="--min-qual", doc=InputDocumentation(doc="Minimum average quality value (default: 7.0).")), ToolInput(tag="in_mode", input_type=Boolean(optional=True), prefix="--mode", doc=InputDocumentation(doc="Clustering mode:\n* sahlin (default): use minimizers first, alignment second\n* fast: use minimizers only\n* furious: always use alignment")), ToolInput(tag="in_low_cons_size", input_type=Boolean(optional=True), prefix="--low-cons-size", doc=InputDocumentation(doc="Use all sequences for consensus below this size (default: 20).")), ToolInput(tag="in_max_cons_size", input_type=Boolean(optional=True), prefix="--max-cons-size", doc=InputDocumentation(doc="Maximum number of sequences used for consensus (default: 150).")), ToolInput(tag="in_cons_period", input_type=Boolean(optional=True), prefix="--cons-period", doc=InputDocumentation(doc="Do not recalculate consensus after this many seuqences added (default: 500).")), ToolInput(tag="in_mapped_threshold", input_type=Boolean(optional=True), prefix="--mapped-threshold", doc=InputDocumentation(doc="Minmum mapped fraction of read to be     included in cluster (default: 0.65).")), ToolInput(tag="in_aligned_threshold", input_type=Float(optional=True), prefix="--aligned-threshold", doc=InputDocumentation(doc="aligned fraction of read to be included in cluster (default: 0.2).")), ToolInput(tag="in_min_fraction", input_type=Boolean(optional=True), prefix="--min-fraction", doc=InputDocumentation(doc="Minimum fraction of minimizers shared compared to best hit, in order to continue mapping (default: 0.8).")), ToolInput(tag="in_min_prob_no_hits", input_type=Boolean(optional=True), prefix="--min-prob-no-hits", doc=InputDocumentation(doc="Minimum probability for i consecutive    minimizers to be different between read and representative (default: 0.1)")), ToolInput(tag="in_min_cls_size", input_type=Boolean(optional=True), prefix="--min-cls-size", doc=InputDocumentation(doc="Skip clusters smaller than this in the left batch (default: 3).")), ToolInput(tag="in_out_folder", input_type=Directory(optional=True), prefix="--outfolder", doc=InputDocumentation(doc="Output folder (default:  ./isONclust2_batches).")), ToolInput(tag="in_verbose", input_type=Boolean(optional=True), prefix="--verbose", doc=InputDocumentation(doc="Verbose output.")), ToolInput(tag="in_debug", input_type=Boolean(optional=True), prefix="--debug", doc=InputDocumentation(doc="Print debug info.")), ToolInput(tag="in_left_batch", input_type=Boolean(optional=True), prefix="--left-batch", doc=InputDocumentation(doc="Left input batch (mandatory).")), ToolInput(tag="in_right_batch", input_type=Boolean(optional=True), prefix="--right-batch", doc=InputDocumentation(doc="Right input batch (optional).")), ToolInput(tag="in_outfile", input_type=Boolean(optional=True), prefix="--outfile", doc=InputDocumentation(doc="Output batch.")), ToolInput(tag="in_spo_a_algo", input_type=Boolean(optional=True), prefix="--spoa-algo", doc=InputDocumentation(doc="spoa alignment algorithm:\n* 0 (default): local\n* 1 : global\n* 1 : semi-global")), ToolInput(tag="in_min_purge", input_type=Boolean(optional=True), prefix="--min-purge", doc=InputDocumentation(doc="Purge minimizer database from output batch.")), ToolInput(tag="in_keep_seq", input_type=Boolean(optional=True), prefix="--keep-seq", doc=InputDocumentation(doc="Do not purge non-representative sequences from output batches.")), ToolInput(tag="in_quiet", input_type=Boolean(optional=True), prefix="--quiet", doc=InputDocumentation(doc="Supress progress bar.")), ToolInput(tag="in_outdir", input_type=Directory(optional=True), prefix="--outdir", doc=InputDocumentation(doc="Output directory.")), ToolInput(tag="in_index", input_type=Boolean(optional=True), prefix="--index", doc=InputDocumentation(doc="Index of sorted reads."))], outputs=[ToolOutput(tag="out_out_folder", output_type=Directory(optional=True), selector=InputSelector(input_to_select="in_out_folder", type_hint=File()), doc=OutputDocumentation(doc="Output folder (default:  ./isONclust2_batches).")), ToolOutput(tag="out_outdir", output_type=Directory(optional=True), selector=InputSelector(input_to_select="in_outdir", type_hint=File()), doc=OutputDocumentation(doc="Output directory."))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Isonclust2_V0_1_0().translate("wdl", allow_empty_container=True)

