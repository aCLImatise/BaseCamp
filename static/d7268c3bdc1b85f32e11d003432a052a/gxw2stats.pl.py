from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import File, Boolean, Int, String, Float

Gxw2Stats_Pl_V0_1_0 = CommandToolBuilder(tool="gxw2stats.pl", base_command=["gxw2stats.pl"], inputs=[ToolInput(tag="in_matrices_file_gxw", input_type=File(optional=True), prefix="-m", doc=InputDocumentation(doc=":         matrices file (gxw format)")), ToolInput(tag="in_use_matrix_matrices", input_type=File(optional=True), prefix="-n", doc=InputDocumentation(doc=":         use this matrix only out of the gxw file (default: use all matrices)")), ToolInput(tag="in_pws", input_type=Boolean(optional=True), prefix="-pws", doc=InputDocumentation(doc=":             process weight matrices separately (applicable to all commands)")), ToolInput(tag="in_sequences_file_fasta", input_type=File(optional=True), prefix="-s", doc=InputDocumentation(doc=":         sequences file (fasta format)")), ToolInput(tag="in_use_only_sequences", input_type=File(optional=True), prefix="-l", doc=InputDocumentation(doc=":         use only these sequences from the file <str> (default: use all sequences in fasta file)")), ToolInput(tag="in_sil", input_type=Int(optional=True), prefix="-sil", doc=InputDocumentation(doc=":       use sliding window on sequence: this parameter specifies substring iterator length")), ToolInput(tag="in_siw", input_type=Int(optional=True), prefix="-siw", doc=InputDocumentation(doc=":       use sliding window on sequence: this parameter specifies distance between two substrings")), ToolInput(tag="in_no_preload", input_type=Boolean(optional=True), prefix="-no_preload", doc=InputDocumentation(doc=":      load the sequences one by one (default: preload the sequences)")), ToolInput(tag="in_temp", input_type=Int(optional=True), prefix="-temp", doc=InputDocumentation(doc=":      Temperature scaling (default: 1.0)")), ToolInput(tag="in_background_order_default", input_type=Int(optional=True), prefix="-b", doc=InputDocumentation(doc=":         background order (default: 0)")), ToolInput(tag="in_bck", input_type=File(optional=True), prefix="-bck", doc=InputDocumentation(doc=":       Background matrix file to load (optional, background will be computed form the sequences otherwise)")), ToolInput(tag="in_bc_kr", input_type=Int(optional=True), prefix="-bckr", doc=InputDocumentation(doc=":      Background matrix to matrices ratio (default: -1 for equal value between background and matrices)")), ToolInput(tag="in_local_bck", input_type=Boolean(optional=True), prefix="-local_bck", doc=InputDocumentation(doc=":       Compute the background locally for each sequence (as opposed to a single global matrix)")), ToolInput(tag="in_rsf", input_type=Int(optional=True), prefix="-rsf", doc=InputDocumentation(doc=":       Regulator scaling factor (default: -1 for using the background ratios.\nFormat: <num> or <min>,<max>,<mul> where the latter is to go from min to max in multiplication jumps <mul>")), ToolInput(tag="in_sff", input_type=Int(optional=True), prefix="-sff", doc=InputDocumentation(doc=":       Regulator scaling factor file")), ToolInput(tag="in_coop", input_type=File(optional=True), prefix="-coop", doc=InputDocumentation(doc=":      Cooperativity parameters file")), ToolInput(tag="in_mcd", input_type=Int(optional=True), prefix="-mcd", doc=InputDocumentation(doc=":       Max cooperativity distance in basepairs (default: 100)")), ToolInput(tag="in_g_hmm", input_type=File(optional=True), prefix="-ghmm", doc=InputDocumentation(doc=":      Type of GHMM instance to be used\n(default: if coop file is given - Cooperative ; else - Basic)\nOptions: Basic\nBasicCooperative\nCooperative")), ToolInput(tag="in_sim", input_type=Int(optional=True), prefix="-sim", doc=InputDocumentation(doc=":       Number of simulations to perform (default: 0)")), ToolInput(tag="in_max_pvalue_print", input_type=Int(optional=True), prefix="-p", doc=InputDocumentation(doc=":         Max p-value for which to print (default: 1)")), ToolInput(tag="in_precision", input_type=File(optional=True), prefix="-precision", doc=InputDocumentation(doc=": Precision for output file (default: 3)")), ToolInput(tag="in_max_training_iterations", input_type=Int(optional=True), prefix="-i", doc=InputDocumentation(doc=":         max training iterations (default: 100)")), ToolInput(tag="in_best", input_type=Boolean(optional=True), prefix="-best", doc=InputDocumentation(doc=":            print the best score across the sequence (or individual windows)")), ToolInput(tag="in_best_windows", input_type=Boolean(optional=True), prefix="-best_windows", doc=InputDocumentation(doc=":    print the best score across all windows")), ToolInput(tag="in_norc", input_type=Boolean(optional=True), prefix="-norc", doc=InputDocumentation(doc=":            do *not* use reverse complement in sequence (default: use reverse complement)")), ToolInput(tag="in_stats_type_compute", input_type=String(optional=True), prefix="-t", doc=InputDocumentation(doc=":         stats type to compute (default: WeightMatrixPositions)\nOptions: WeightMatrixAverageOccupancy\nWeightMatrixClustering\nWeightMatrixCounts\nWeightMatrixFreeEnergy\nWeightMatrixMaxConfiguration\nWeightMatrixPositions\nWeightMatrixSequenceFeatures")), ToolInput(tag="in_min_avg", input_type=Int(optional=True), prefix="-min_avg", doc=InputDocumentation(doc=":        Minimum average occupancy to print (default: 0)")), ToolInput(tag="in_max_avg", input_type=Int(optional=True), prefix="-max_avg", doc=InputDocumentation(doc=":        Maximum average occupancy to print (default: 1)")), ToolInput(tag="in_start_avg", input_type=Boolean(optional=True), prefix="-start_avg", doc=InputDocumentation(doc=":            Print the probability of starting matrices as opposed to average occupancies")), ToolInput(tag="in_avg", input_type=Boolean(optional=True), prefix="-avg", doc=InputDocumentation(doc=":                  Print the fraction occupancy of the matrix across the entire region")), ToolInput(tag="in_matrix_flank", input_type=Int(optional=True), prefix="-matrix_flank", doc=InputDocumentation(doc=":   Compute the avg occupancy of the matrix only within its central bps without <num> flank on each side (default: 0)")), ToolInput(tag="in_sum_matrices", input_type=Boolean(optional=True), prefix="-sum_matrices", doc=InputDocumentation(doc=":         Print the sum of all matrices")), ToolInput(tag="in_print_chv", input_type=Boolean(optional=True), prefix="-print_chv", doc=InputDocumentation(doc=":            Print the results in a chv format")), ToolInput(tag="in_moving_window", input_type=Int(optional=True), prefix="-moving_window", doc=InputDocumentation(doc=":  Print the results as a combined (num/2 on each side) moving average window of <num>")), ToolInput(tag="in_no_separate_matrices", input_type=Boolean(optional=True), prefix="-no_separate_matrices", doc=InputDocumentation(doc=": Do **not** print each matrix separately")), ToolInput(tag="in_all", input_type=Boolean(optional=True), prefix="-all", doc=InputDocumentation(doc=":             print the score for each position")), ToolInput(tag="in_ds", input_type=Boolean(optional=True), prefix="-ds", doc=InputDocumentation(doc=":              double-strand binding (average strands)")), ToolInput(tag="in_min_score", input_type=Int(optional=True), prefix="-min_score", doc=InputDocumentation(doc=": Minimum score to print")), ToolInput(tag="in_masi", input_type=Int(optional=True), prefix="-masi", doc=InputDocumentation(doc=":      Maximum allowed sequence inserts")), ToolInput(tag="in_fds_osi", input_type=Boolean(optional=True), prefix="-fdsosi", doc=InputDocumentation(doc=":          Force double strand when doing sequence inserts")), ToolInput(tag="in_sip", input_type=Int(optional=True), prefix="-sip", doc=InputDocumentation(doc=":       Sequence insert penalty")), ToolInput(tag="in_dont_sort", input_type=Boolean(optional=True), prefix="-dontSort", doc=InputDocumentation(doc=":        don't sort according to score, print by position (useful when you want to intersect the results according to position)")), ToolInput(tag="in_mhos", input_type=Float(optional=True), prefix="-mhos", doc=InputDocumentation(doc=":      Minimum high occupancy sites (specify multiple cutoffs with ';', e.g., '0.1;0.2') (default: 0.5)")), ToolInput(tag="in_wmc_nm", input_type=Int(optional=True), prefix="-wmcnm", doc=InputDocumentation(doc=":     Weight matrix clustering num matrices (default: 1)")), ToolInput(tag="in_wm_cdw", input_type=Int(optional=True), prefix="-wmcdw", doc=InputDocumentation(doc=":     Weight matrix clustering distance window (default: -1 for cumulative clustering, not specific windows)")), ToolInput(tag="in_wmc_di", input_type=Int(optional=True), prefix="-wmcdi", doc=InputDocumentation(doc=":     Weight matrix clustering distance increment (default: 10)")), ToolInput(tag="in_ns", input_type=Int(optional=True), prefix="-ns", doc=InputDocumentation(doc=":        Num samples")), ToolInput(tag="in_sfd", input_type=Boolean(optional=True), prefix="-sfd", doc=InputDocumentation(doc=":             Description sequence feature")), ToolInput(tag="in_smc", input_type=Boolean(optional=True), prefix="-smc", doc=InputDocumentation(doc=":             Single matrices counts")), ToolInput(tag="in_amc", input_type=Boolean(optional=True), prefix="-amc", doc=InputDocumentation(doc=":             All matrices counts")), ToolInput(tag="in_camc", input_type=Int(optional=True), prefix="-camc", doc=InputDocumentation(doc=":      Configuration adjacent matrices counts (str has the form: <min;max;inc;XXX;NoFunction/Gaussian;mean;std>)\n[XXX] = CombinedAdjacentMatricesCount/SeparateAdjacentMatricesCount/SeparateProximalMatricesCount")), ToolInput(tag="in_cp", input_type=Boolean(optional=True), prefix="-cp", doc=InputDocumentation(doc=":              Configuration probabilities")), ToolInput(tag="in_cmc", input_type=Boolean(optional=True), prefix="-cmc", doc=InputDocumentation(doc=":             Configuration matrices coverage")), ToolInput(tag="in_xml", input_type=Boolean(optional=True), prefix="-xml", doc=InputDocumentation(doc=":             print only the xml file")), ToolInput(tag="in_run", input_type=File(optional=True), prefix="-run", doc=InputDocumentation(doc=":       Print the stdout and stderr of the program into the file <str>")), ToolInput(tag="in_s_xml", input_type=File(optional=True), prefix="-sxml", doc=InputDocumentation(doc=":      Save the xml file into <str>"))], outputs=[ToolOutput(tag="out_use_matrix_matrices", output_type=File(optional=True), selector=InputSelector(input_to_select="in_use_matrix_matrices", type_hint=File()), doc=OutputDocumentation(doc=":         use this matrix only out of the gxw file (default: use all matrices)")), ToolOutput(tag="out_precision", output_type=File(optional=True), selector=InputSelector(input_to_select="in_precision", type_hint=File()), doc=OutputDocumentation(doc=": Precision for output file (default: 3)"))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Gxw2Stats_Pl_V0_1_0().translate("wdl", allow_empty_container=True)

