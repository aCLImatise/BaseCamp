from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Directory, String, Boolean, Int, Float, File

Confindr_V0_1_0 = CommandToolBuilder(tool="confindr", base_command=["confindr"], inputs=[ToolInput(tag="in_input_directory", input_type=Directory(optional=True), prefix="--input_directory", doc=InputDocumentation(doc="Folder that contains fastq files you want to check for\ncontamination. Will find any file that contains .fq or\n.fastq in the filename.")), ToolInput(tag="in_output_name", input_type=String(optional=True), prefix="--output_name", doc=InputDocumentation(doc="Base name for output/temporary directories.")), ToolInput(tag="in_databases", input_type=Directory(optional=True), prefix="--databases", doc=InputDocumentation(doc="Databases folder. To download these, you will need to\nget access to the rMLST databases. For complete\ninstructions on how to do this, please see\nhttps://olc-bioinformatics.github.io/ConFindr/install/\n#downloading-confindr-databases")), ToolInput(tag="in_rm_lst", input_type=Boolean(optional=True), prefix="--rmlst", doc=InputDocumentation(doc="Activate to prefer using rMLST databases over core-\ngene derived databases. By default,ConFindr will use\ncore-gene derived databases where available.")), ToolInput(tag="in_threads", input_type=Int(optional=True), prefix="--threads", doc=InputDocumentation(doc="Number of threads to run analysis with.")), ToolInput(tag="in_tmp", input_type=Directory(optional=True), prefix="--tmp", doc=InputDocumentation(doc="If your ConFindr databases are in a location you don't\nhave write access to, you can enter this option to\nspecify a temporary directory to put genus-specific\ndatabases to.")), ToolInput(tag="in_keep_files", input_type=Boolean(optional=True), prefix="--keep_files", doc=InputDocumentation(doc="By default, intermediate files are deleted. Activate\nthis flag to keep intermediate files.")), ToolInput(tag="in_quality_cut_off", input_type=Int(optional=True), prefix="--quality_cutoff", doc=InputDocumentation(doc="Base quality needed to support a multiple allele call.\nDefaults to 20.")), ToolInput(tag="in_base_cut_off", input_type=Int(optional=True), prefix="--base_cutoff", doc=InputDocumentation(doc="Number of bases necessary to support a multiple allele\ncall. Defaults to 2.")), ToolInput(tag="in_base_fraction_cut_off", input_type=Float(optional=True), prefix="--base_fraction_cutoff", doc=InputDocumentation(doc="Fraction of bases necessary to support a multiple\nallele call. Particularly useful when dealing with\nvery high coverage samples. Default is 0.05.")), ToolInput(tag="in_forward_id", input_type=String(optional=True), prefix="--forward_id", doc=InputDocumentation(doc="Identifier for forward reads.")), ToolInput(tag="in_reverse_id", input_type=String(optional=True), prefix="--reverse_id", doc=InputDocumentation(doc="Identifier for reverse reads.")), ToolInput(tag="in_data_type", input_type=String(optional=True), prefix="--data_type", doc=InputDocumentation(doc="Type of input data. Default is Illumina, but can be\nused for Nanopore too. No PacBio support (yet).")), ToolInput(tag="in_x_mx", input_type=Int(optional=True), prefix="--Xmx", doc=InputDocumentation(doc="Very occasionally, parts of the pipeline that use the\nBBMap suite will have their memory reservation fail\nand request not enough, or sometimes negative, memory.\nIf this happens to you, you can use this flag to\noverride automatic memory reservation and use an\namount of memory requested by you. -Xmx 20g will\nspecify 20 gigs of RAM, and -Xmx 800m will specify 800\nmegs.")), ToolInput(tag="in_cgm_lst", input_type=File(optional=True), prefix="--cgmlst", doc=InputDocumentation(doc="Path to a cgMLST database to use for contamination\ndetection instead of using the default rMLST database.\nSequences in this file should have headers in format\n>genename_allelenumber. To speed up ConFindr runs,\nclustering the cgMLST database with CD-HIT before\nrunning ConFindr is recommended. This is highly\nexperimental, results should be interpreted with great\ncare.")), ToolInput(tag="in_fast_a", input_type=Boolean(optional=True), prefix="--fasta", doc=InputDocumentation(doc="If activated, will look for FASTA files instead of\nFASTQ for unpaired reads.")), ToolInput(tag="in_verbosity", input_type=String(optional=True), prefix="--verbosity", doc=InputDocumentation(doc="Amount of output you want printed to the screen.\nDefaults to info, which should be good for most users.")), ToolInput(tag="in_cross_details", input_type=Boolean(optional=True), prefix="--cross_details", doc=InputDocumentation(doc="Continue ConFindr analyses on samples with two or more\ngenera identified. Default is False")), ToolInput(tag="in_min_matching_hashes", input_type=Int(optional=True), prefix="--min_matching_hashes", doc=InputDocumentation(doc="Minimum number of matching hashes in a MASH screen in\norder for a genus to be considered present in a\nsample. Default is 150\n"))], outputs=[], container="quay.io/biocontainers/confindr:0.7.4--py_0", version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Confindr_V0_1_0().translate("wdl")

