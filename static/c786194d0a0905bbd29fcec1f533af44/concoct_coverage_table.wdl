version 1.0

task ConcoctCoverageTable.py {
  input {
    String? sample_names
    String bed_file
    String bam_files
  }
  command <<<
    concoct_coverage_table.py \
      ~{bed_file} \
      ~{bam_files} \
      ~{if defined(sample_names) then ("--samplenames " +  '"' + sample_names + '"') else ""}
  >>>
  parameter_meta {
    sample_names: "File with sample names, one line each. Should be same nr of bamfiles. Default sample names used are the file names of the bamfiles, excluding the file extension."
    bed_file: "Contigs BEDFile with four columns representing: 'Contig ID, Start Position, End Position and SubContig ID' respectively. The Subcontig ID must contain the pattern 'concoct_part_[0-9]*' while the contigs which are not cutup cannot contain this pattern. This file can be generated by the cut_up_fasta.py script."
    bam_files: "BAM files with mappings to the original contigs."
  }
}