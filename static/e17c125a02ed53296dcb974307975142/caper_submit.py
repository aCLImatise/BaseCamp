from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import File, Boolean, String, Int, Directory

Caper_Submit_V0_1_0 = CommandToolBuilder(tool="caper_submit", base_command=["caper", "submit"], inputs=[ToolInput(tag="in_conf", input_type=File(optional=True), prefix="--conf", doc=InputDocumentation(doc="Specify config file")), ToolInput(tag="in_debug", input_type=Boolean(optional=True), prefix="--debug", doc=InputDocumentation(doc="Prints all logs >= DEBUG level")), ToolInput(tag="in_gcp_service_account_key_json", input_type=File(optional=True), prefix="--gcp-service-account-key-json", doc=InputDocumentation(doc="Secret key JSON file for Google Cloud Platform service\naccount. This service account should have enough\npermission to Storage for client functions and\nStorage/Compute Engine/Genomics API/Life Sciences API\nfor server/runner functions.")), ToolInput(tag="in_port", input_type=String(optional=True), prefix="--port", doc=InputDocumentation(doc="Port for Caper server")), ToolInput(tag="in_no_server_heartbeat", input_type=Boolean(optional=True), prefix="--no-server-heartbeat", doc=InputDocumentation(doc="Disable server heartbeat file.")), ToolInput(tag="in_server_heartbeat_file", input_type=File(optional=True), prefix="--server-heartbeat-file", doc=InputDocumentation(doc="Heartbeat file for Caper clients to get IP and port of\na server")), ToolInput(tag="in_server_heartbeat_timeout", input_type=File(optional=True), prefix="--server-heartbeat-timeout", doc=InputDocumentation(doc="Timeout for a heartbeat file in Milliseconds. A\nheartbeat file older than this interval will be\nignored.")), ToolInput(tag="in_hostname", input_type=String(optional=True), prefix="--hostname", doc=InputDocumentation(doc="Hostname (or IP address) of Caper server.")), ToolInput(tag="in_inputs", input_type=File(optional=True), prefix="--inputs", doc=InputDocumentation(doc="Workflow inputs JSON file")), ToolInput(tag="in_options", input_type=File(optional=True), prefix="--options", doc=InputDocumentation(doc="Workflow options JSON file")), ToolInput(tag="in_labels", input_type=File(optional=True), prefix="--labels", doc=InputDocumentation(doc="Workflow labels JSON file")), ToolInput(tag="in_imports", input_type=File(optional=True), prefix="--imports", doc=InputDocumentation(doc="Zip file of imported subworkflows")), ToolInput(tag="in_str_label", input_type=File(optional=True), prefix="--str-label", doc=InputDocumentation(doc="Caper's special label for a workflow This label will\nbe added to a workflow labels JSON file as a value for\na key 'caper-label'. DO NOT USE IRREGULAR CHARACTERS.\nUSE LETTERS, NUMBERS, DASHES AND UNDERSCORES ONLY\n(^[A-Za-z0-9\-\_]+$) since this label is used to\ncompose a path for workflow's temporary/cache\ndirectory (.caper_tmp/label/timestamp/)")), ToolInput(tag="in_hold", input_type=Boolean(optional=True), prefix="--hold", doc=InputDocumentation(doc="Put a hold on a workflow when submitted to a Cromwell")), ToolInput(tag="in_use_gs_util_for_s_three", input_type=Boolean(optional=True), prefix="--use-gsutil-for-s3", doc=InputDocumentation(doc="Use gsutil CLI for direct trasnfer between S3 and GCS\nbuckets. Otherwise, such file transfer will stream\nthrough local machine. Make sure that gsutil is\ninstalled on your system and it has access to\ncredentials for AWS (e.g. ~/.boto or\n~/.aws/credentials).")), ToolInput(tag="in_no_deepcopy", input_type=Boolean(optional=True), prefix="--no-deepcopy", doc=InputDocumentation(doc="(IMPORTANT) --deepcopy has been deprecated.\nDeepcopying is now activated by default. This flag\ndisables deepcopy for JSON (.json), TSV (.tsv) and CSV\n(.csv) files specified in an input JSON file\n(--inputs). Find all path/URI string values in an\ninput JSON file and make copies of files on a\nlocal/remote storage for a target backend. Make sure\nthat you have installed gsutil for GCS and aws for S3.")), ToolInput(tag="in_ignore_wom_tool", input_type=Boolean(optional=True), prefix="--ignore-womtool", doc=InputDocumentation(doc="Ignore warnings from womtool.jar.")), ToolInput(tag="in_wom_tool", input_type=File(optional=True), prefix="--womtool", doc=InputDocumentation(doc="Path or URL for Cromwell's womtool JAR file")), ToolInput(tag="in_java_heap_wom_tool", input_type=Int(optional=True), prefix="--java-heap-womtool", doc=InputDocumentation(doc="Java heap size for Womtool (java -Xmx)")), ToolInput(tag="in_max_retries", input_type=Int(optional=True), prefix="--max-retries", doc=InputDocumentation(doc="Number of retries for failing tasks. equivalent to\n'maxRetries' in workflow options JSON file.")), ToolInput(tag="in_backend", input_type=String(optional=True), prefix="--backend", doc=InputDocumentation(doc="Backend to run a workflow")), ToolInput(tag="in_dry_run", input_type=Boolean(optional=True), prefix="--dry-run", doc=InputDocumentation(doc="Caper localizes remote files and validates WDL but\ndoes not run/submit a pipeline.")), ToolInput(tag="in_local_loc_dir", input_type=Directory(optional=True), prefix="--local-loc-dir", doc=InputDocumentation(doc="Temporary directory to store Cromwell's intermediate\nbackend files. These files include backend.conf,\nworkflow_opts.json, imports.zip. and localized input\nJSON files due to deepcopying (recursive\nlocalization). Cromwell's MySQL/PostgreSQL DB password\ncan be exposed on backend.conf on this directory.\nTherefore, DO NOT USE /tmp HERE. This directory is\nalso used for storing cached files for\nlocal/slurm/sge/pbs backends.")), ToolInput(tag="in_tmp_gcs_bucket", input_type=Directory(optional=True), prefix="--tmp-gcs-bucket", doc=InputDocumentation(doc="Temporary directory to store cached files for gcp\nbackend. e.g. gs://my-bucket/caper-cache-dir.")), ToolInput(tag="in_tmp_s_three_bucket", input_type=Int(optional=True), prefix="--tmp-s3-bucket", doc=InputDocumentation(doc="Temporary directory to store cached files for aws\nbackend. e.g. s3://my-bucket/caper-cache-dir.")), ToolInput(tag="in_docker", input_type=Boolean(optional=True), prefix="--docker", doc=InputDocumentation(doc="[DOCKER]     URI for Docker image (e.g. ubuntu:latest). This can\nalso be used as a flag to use Docker image address\ndefined in your WDL file as a comment ('#CAPER\ndocker') or as 'workflow.meta.caper_docker' in WDL.")), ToolInput(tag="in_singularity", input_type=Boolean(optional=True), prefix="--singularity", doc=InputDocumentation(doc="[SINGULARITY]\nURI or path for Singularity image (e.g.\n~/.singularity/ubuntu-latest.simg,\ndocker://ubuntu:latest, shub://vsoch/hello-world).\nThis can also be used as a flag to use Docker image\naddress defined in your WDL file as a comment ('#CAPER\nsingularity') or as 'workflow.meta.caper_singularity'\nin WDL.")), ToolInput(tag="in_no_build_singularity", input_type=Boolean(optional=True), prefix="--no-build-singularity", doc=InputDocumentation(doc="Do not build singularity image before running a\nworkflow.")), ToolInput(tag="in_slur_m_partition", input_type=String(optional=True), prefix="--slurm-partition", doc=InputDocumentation(doc="SLURM partition")), ToolInput(tag="in_slur_m_account", input_type=String(optional=True), prefix="--slurm-account", doc=InputDocumentation(doc="SLURM account")), ToolInput(tag="in_slur_m_extra_param", input_type=String(optional=True), prefix="--slurm-extra-param", doc=InputDocumentation(doc="SLURM extra parameters. Must be double-quoted")), ToolInput(tag="in_sge_pe", input_type=String(optional=True), prefix="--sge-pe", doc=InputDocumentation(doc="SGE parallel environment. Check with 'qconf -spl'")), ToolInput(tag="in_sge_queue", input_type=String(optional=True), prefix="--sge-queue", doc=InputDocumentation(doc="SGE queue. Check with 'qconf -sql'")), ToolInput(tag="in_sge_extra_param", input_type=String(optional=True), prefix="--sge-extra-param", doc=InputDocumentation(doc="SGE extra parameters. Must be double-quoted")), ToolInput(tag="in_pbs_queue", input_type=String(optional=True), prefix="--pbs-queue", doc=InputDocumentation(doc="PBS queue")), ToolInput(tag="in_pbs_extra_param", input_type=String(optional=True), prefix="--pbs-extra-param", doc=InputDocumentation(doc="PBS extra parameters. Must be double-quoted")), ToolInput(tag="in_use_google_cloud_life_sciences", input_type=Boolean(optional=True), prefix="--use-google-cloud-life-sciences", doc=InputDocumentation(doc="Use Google Cloud Life Sciences API (v2beta) instead of\ndeprecated Genomics API (v2alpha1).Life Sciences API\nrequires only one region specified withgcp-region.\ngcp-zones will be ignored since it is for Genomics\nAPI.See https://cloud.google.com/life-\nsciences/docs/concepts/locations for supported\nregions.")), ToolInput(tag="in_gcp_zones", input_type=Int(optional=True), prefix="--gcp-zones", doc=InputDocumentation(doc="Comma-separated GCP zones used for Genomics API. (e.g.\nus-west1-b,us-central1-b). If you use --use-google-\ncloud-life-sciences then define --gcp-region instead.\n")), ToolInput(tag="in_server_dot", input_type=String(), position=0, doc=InputDocumentation(doc="--singularity-cachedir SINGULARITY_CACHEDIR"))], outputs=[], container="quay.io/biocontainers/caper:1.1.0--py_0", version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Caper_Submit_V0_1_0().translate("wdl")

