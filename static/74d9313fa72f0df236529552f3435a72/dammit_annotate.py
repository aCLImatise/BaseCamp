from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import String, Float, File, Array, Directory, Boolean, Int

Dammit_Annotate_V0_1_0 = CommandToolBuilder(tool="dammit_annotate", base_command=["dammit", "annotate"], inputs=[ToolInput(tag="in_name", input_type=String(optional=True), prefix="--name", doc=InputDocumentation(doc="Base name to use for renaming the input transcripts.\nThe new names will be of the form <name>_<X>. It\nshould not have spaces, pipes, ampersands, or other\ncharacters with special meaning to BASH. (default:\nTranscript)")), ToolInput(tag="in_evalue", input_type=Float(optional=True), prefix="--evalue", doc=InputDocumentation(doc="e-value cutoff for similarity searches. (default:\n1e-05)")), ToolInput(tag="in_output_dir", input_type=File(optional=True), prefix="--output-dir", doc=InputDocumentation(doc="Output directory. By default this will be the name of\nthe transcriptome file with `.dammit` appended\n(default: None)")), ToolInput(tag="in_user_databases", input_type=Array(t=String(), optional=True), prefix="--user-databases", doc=InputDocumentation(doc="Optional additional protein databases. These will be\nsearched with CRB-blast. (default: [])")), ToolInput(tag="in_ssh_login_file", input_type=File(optional=True), prefix="--sshloginfile", doc=InputDocumentation(doc="Distribute execution across the specified nodes.\n(default: None)")), ToolInput(tag="in_database_dir", input_type=Directory(optional=True), prefix="--database-dir", doc=InputDocumentation(doc="Directory to store databases. Existing databases will\nnot be overwritten. By default, the database directory\nis $HOME/.dammit/databases. (default:\n/root/.dammit/databases)")), ToolInput(tag="in_busco_group", input_type=Boolean(optional=True), prefix="--busco-group", doc=InputDocumentation(doc="[metazoa, eukaryota, vertebrata, ...]\nWhich BUSCO group to use. Should be chosen based on\nthe organism being annotated. Full list of options is\nbelow. (default: metazoa)")), ToolInput(tag="in_n_threads", input_type=Int(optional=True), prefix="--n_threads", doc=InputDocumentation(doc="For annotate, number of threads to pass to programs\nsupporting multithreading. For databases, number of\nsimultaneous tasks to execute. (default: 1)")), ToolInput(tag="in_config_file", input_type=File(optional=True), prefix="--config-file", doc=InputDocumentation(doc="A JSON file providing values to override built-in\nconfig. Advanced use only! (default: None)")), ToolInput(tag="in_busco_config_file", input_type=File(optional=True), prefix="--busco-config-file", doc=InputDocumentation(doc="Path to an alternative BUSCO config file; otherwise,\nBUSCO will attempt to use its default installation\nwhich will likely only work on bioconda. Advanced use\nonly! (default: None)")), ToolInput(tag="in_verbosity", input_type=String(optional=True), prefix="--verbosity", doc=InputDocumentation(doc="Verbosity level for doit tasks. (default: 0)")), ToolInput(tag="in_profile", input_type=Boolean(optional=True), prefix="--profile", doc=InputDocumentation(doc="Profile task execution. (default: False)")), ToolInput(tag="in_force", input_type=Boolean(optional=True), prefix="--force", doc=InputDocumentation(doc="Ignore missing database tasks. (default: False)")), ToolInput(tag="in_no_rename", input_type=Boolean(optional=True), prefix="--no-rename", doc=InputDocumentation(doc="Keep original transcript names. Note: make sure your\ntranscript names do not contain unusual characters.\n(default: False)")), ToolInput(tag="in_full", input_type=Boolean(optional=True), prefix="--full", doc=InputDocumentation(doc="Run a 'complete' annotation; includes uniref90, which\nis left out of the default pipeline because it is huge\nand homology searches take a long time. (default:\nFalse)")), ToolInput(tag="in_nr", input_type=Boolean(optional=True), prefix="--nr", doc=InputDocumentation(doc="Also include annotation to NR database, which is left\nout of the default and 'full' pipelines because it is\nhuge and homology searches take a long time. (default:\nFalse)")), ToolInput(tag="in_quick", input_type=Boolean(optional=True), prefix="--quick", doc=InputDocumentation(doc="Run a 'quick' annotation; excludes the Infernal Rfam\ntasks, the HMMER Pfam tasks, and the LAST OrthoDB and\nuniref90 tasks. Best for users just looking to get\nbasic stats and conditional reciprocal best LAST from\na protein database. (default: False)")), ToolInput(tag="in_transcriptome", input_type=String(), position=0, doc=InputDocumentation(doc="FASTA file with the transcripts to be annotated."))], outputs=[ToolOutput(tag="out_output_dir", output_type=File(optional=True), selector=InputSelector(input_to_select="in_output_dir", type_hint=File()), doc=OutputDocumentation(doc="Output directory. By default this will be the name of\nthe transcriptome file with `.dammit` appended\n(default: None)"))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Dammit_Annotate_V0_1_0().translate("wdl", allow_empty_container=True)

