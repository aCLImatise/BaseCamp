from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import File, String, Boolean, Int

Overlapselect_V0_1_0 = CommandToolBuilder(tool="overlapSelect", base_command=["overlapSelect"], inputs=[ToolInput(tag="in_select_fmt", input_type=File(optional=True), prefix="-selectFmt", doc=InputDocumentation(doc="- specify selectFile format:\npsl - PSL format (default for *.psl files).\npslq - PSL format, using query instead of target\ngenePred - genePred format (default for *.gp or\n*.genePred files).\nbed - BED format (default for *.bed files).\nIf BED doesn't have blocks, the bed range is used.\nchain - chain file format (default from .chain files)\nchainq - chain file format, using query instead of target")), ToolInput(tag="in_select_coord_cols", input_type=String(optional=True), prefix="-selectCoordCols", doc=InputDocumentation(doc="- selectFile is tab-separate with coordinates\nas described by spec, which is one of:\no chromCol - chrom in this column followed by start and end.\no chromCol,startCol,endCol,strandCol,name - chrom, start, end, and\nstrand in specified columns. Columns can be omitted from the end\nor left empty to not specify.\nNOTE: column numbers are zero-based")), ToolInput(tag="in_select_cds", input_type=Boolean(optional=True), prefix="-selectCds", doc=InputDocumentation(doc="- Use only CDS in the selectFile")), ToolInput(tag="in_select_range", input_type=Boolean(optional=True), prefix="-selectRange", doc=InputDocumentation(doc="- Use entire range instead of blocks from records in\nthe selectFile.")), ToolInput(tag="in_in_fmt", input_type=String(optional=True), prefix="-inFmt", doc=InputDocumentation(doc="- specify inFile format, same values as -selectFmt.")), ToolInput(tag="in_in_coord_cols", input_type=String(optional=True), prefix="-inCoordCols", doc=InputDocumentation(doc="- inFile is tab-separate with coordinates specified by\nspec, in format described above.")), ToolInput(tag="in_in_cds", input_type=Boolean(optional=True), prefix="-inCds", doc=InputDocumentation(doc="- Use only CDS in the inFile")), ToolInput(tag="in_in_range", input_type=Boolean(optional=True), prefix="-inRange", doc=InputDocumentation(doc="- Use entire range instead of blocks of records in the inFile.")), ToolInput(tag="in_nonoverlapping", input_type=Boolean(optional=True), prefix="-nonOverlapping", doc=InputDocumentation(doc="- select non-overlapping instead of overlapping records")), ToolInput(tag="in_strand", input_type=Boolean(optional=True), prefix="-strand", doc=InputDocumentation(doc="- must be on the same strand to be considered overlapping")), ToolInput(tag="in_opposite_strand", input_type=Boolean(optional=True), prefix="-oppositeStrand", doc=InputDocumentation(doc="- must be on the opposite strand to be considered overlapping")), ToolInput(tag="in_exclude_self", input_type=Boolean(optional=True), prefix="-excludeSelf", doc=InputDocumentation(doc="- don't compare records with the same coordinates and name.\nWarning: using only one of -inCds or -selectCds will result in different\ncoordinates for the same record.")), ToolInput(tag="in_id_match", input_type=Boolean(optional=True), prefix="-idMatch", doc=InputDocumentation(doc="- only select overlapping records if they have the same id")), ToolInput(tag="in_aggregate", input_type=Boolean(optional=True), prefix="-aggregate", doc=InputDocumentation(doc="- instead of computing overlap bases on individual select entries,\ncompute it based on the total number of inFile bases overlap by selectFile\nrecords. -overlapSimilarity and -mergeOutput will not work with\nthis option.")), ToolInput(tag="in_overlap_threshold", input_type=Int(optional=True), prefix="-overlapThreshold", doc=InputDocumentation(doc="- minimum fraction of an inFile record that\nmust be overlapped by a single select record to be considered\noverlapping.  Note that this is only coverage by a single select\nrecord, not total coverage.")), ToolInput(tag="in_overlap_threshold_ceil", input_type=Int(optional=True), prefix="-overlapThresholdCeil", doc=InputDocumentation(doc="- select only inFile records with less than\nthis amount of overlap with a single record, provided they are selected\nby other criteria.")), ToolInput(tag="in_overlap_similarity", input_type=Int(optional=True), prefix="-overlapSimilarity", doc=InputDocumentation(doc="- minimum fraction bases in inFile and selectFile\nrecords that overlap the same genomic locations.  This is computed\nby (2*overlapBase)/(inFileBase+selectFileBases).\nNote that this is only coverage by a single select record and this\nis bidirectional inFile and selectFile must overlap by this\namount.  A value of 1.0 will select identical records (or CDS if\nboth CDS options are specified.  Not currently supported with\n-aggregate.")), ToolInput(tag="in_overlap_similarity_ceil", input_type=Int(optional=True), prefix="-overlapSimilarityCeil", doc=InputDocumentation(doc="- select only inFile records with less than this\namount of similarity with a single record. provided they are selected by\nother criteria.")), ToolInput(tag="in_overlap_bases", input_type=Boolean(optional=True), prefix="-overlapBases", doc=InputDocumentation(doc="=-1 - minimum number of bases of overlap, < 0 disables.")), ToolInput(tag="in_stats_output", input_type=File(optional=True), prefix="-statsOutput", doc=InputDocumentation(doc="- output overlap statistics instead of selected records.\nIf no overlap criteria is specified, all overlapping entries are\nreported, Otherwise only the pairs passing the criteria are\nreported. This results in a tab-separated file with the columns:\ninId selectId inOverlap selectOverlap overBases\nWhere inOverlap is the fraction of the inFile record overlapped by\nthe selectFile record and selectOverlap is the fraction of the\nselect record overlap by inFile records.  With -aggregate, output\nis:\ninId inOverlap inOverBases inBases")), ToolInput(tag="in_stats_output_all", input_type=Boolean(optional=True), prefix="-statsOutputAll", doc=InputDocumentation(doc="- like -statsOutput, however output all inFile records,\nincluding those that are not overlapped.")), ToolInput(tag="in_stats_output_both", input_type=Boolean(optional=True), prefix="-statsOutputBoth", doc=InputDocumentation(doc="- like -statsOutput, however output all selectFile and\ninFile records, including those that are not overlapped.")), ToolInput(tag="in_merge_output", input_type=Boolean(optional=True), prefix="-mergeOutput", doc=InputDocumentation(doc="- output file with be a merge of the input file with the\nselectFile records that selected it.  The format is\ninRec<tab>selectRec.\nif multiple select records hit, inRec is repeated. This will increase\nthe memory required. Not supported with -nonOverlapping or -aggregate.")), ToolInput(tag="in_id_output", input_type=File(optional=True), prefix="-idOutput", doc=InputDocumentation(doc="- output a tab-separated file of pairs of\ninId selectId\nwith -aggregate, only a single column of inId is written")), ToolInput(tag="in_dropped", input_type=File(optional=True), prefix="-dropped", doc=InputDocumentation(doc="- output rows that were dropped to this file.")), ToolInput(tag="in_verbose", input_type=Int(optional=True), prefix="-verbose", doc=InputDocumentation(doc="- verbose > 1 prints some details,"))], outputs=[ToolOutput(tag="out_stats_output", output_type=File(optional=True), selector=InputSelector(input_to_select="in_stats_output", type_hint=File()), doc=OutputDocumentation(doc="- output overlap statistics instead of selected records.\nIf no overlap criteria is specified, all overlapping entries are\nreported, Otherwise only the pairs passing the criteria are\nreported. This results in a tab-separated file with the columns:\ninId selectId inOverlap selectOverlap overBases\nWhere inOverlap is the fraction of the inFile record overlapped by\nthe selectFile record and selectOverlap is the fraction of the\nselect record overlap by inFile records.  With -aggregate, output\nis:\ninId inOverlap inOverBases inBases")), ToolOutput(tag="out_id_output", output_type=File(optional=True), selector=InputSelector(input_to_select="in_id_output", type_hint=File()), doc=OutputDocumentation(doc="- output a tab-separated file of pairs of\ninId selectId\nwith -aggregate, only a single column of inId is written")), ToolOutput(tag="out_dropped", output_type=File(optional=True), selector=InputSelector(input_to_select="in_dropped", type_hint=File()), doc=OutputDocumentation(doc="- output rows that were dropped to this file."))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Overlapselect_V0_1_0().translate("wdl", allow_empty_container=True)

