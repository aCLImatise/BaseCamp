from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import File, Boolean, Directory, String, Int

Cellprofiler_V0_1_0 = CommandToolBuilder(tool="cellprofiler", base_command=["cellprofiler"], inputs=[ToolInput(tag="in_pipeline", input_type=File(optional=True), prefix="--pipeline", doc=InputDocumentation(doc="Load this pipeline file or project on startup. If\nspecifying a pipeline file rather than a project, the\n-i flag is also needed unless the pipeline is saved\nwith the file list.")), ToolInput(tag="in_run_headless", input_type=Boolean(optional=True), prefix="--run-headless", doc=InputDocumentation(doc="Run headless (without the GUI)")), ToolInput(tag="in_run", input_type=Boolean(optional=True), prefix="--run", doc=InputDocumentation(doc="Run the given pipeline on startup")), ToolInput(tag="in_output_directory", input_type=Directory(optional=True), prefix="--output-directory", doc=InputDocumentation(doc="Make this directory the default output folder")), ToolInput(tag="in_image_directory", input_type=Directory(optional=True), prefix="--image-directory", doc=InputDocumentation(doc="Make this directory the default input folder")), ToolInput(tag="in_first_image_set", input_type=String(optional=True), prefix="--first-image-set", doc=InputDocumentation(doc="The one-based index of the first image set to process")), ToolInput(tag="in_last_image_set", input_type=String(optional=True), prefix="--last-image-set", doc=InputDocumentation(doc="The one-based index of the last image set to process")), ToolInput(tag="in_group", input_type=Int(optional=True), prefix="--group", doc=InputDocumentation(doc="Restrict processing to one grouping in a grouped\npipeline. For instance, '-g ROW=H,COL=01', will\nprocess only the group of image sets that match the\nkeys.")), ToolInput(tag="in_plugins_directory", input_type=Directory(optional=True), prefix="--plugins-directory", doc=InputDocumentation(doc="CellProfiler will look for plugin modules in this\ndirectory (headless-only).")), ToolInput(tag="in_temporary_directory", input_type=Directory(optional=True), prefix="--temporary-directory", doc=InputDocumentation(doc="Temporary directory. CellProfiler uses this for\ndownloaded image files and for the measurements file,\nif not specified. The default is /tmp")), ToolInput(tag="in_done_file", input_type=File(optional=True), prefix="--done-file", doc=InputDocumentation(doc="The path to the 'Done' file, written by CellProfiler\nshortly before exiting")), ToolInput(tag="in_measurements", input_type=Boolean(optional=True), prefix="--measurements", doc=InputDocumentation(doc="Open the pipeline file specified by the -p switch and\nprint the measurements made by that pipeline")), ToolInput(tag="in_print_groups", input_type=File(optional=True), prefix="--print-groups", doc=InputDocumentation(doc="Open the measurements file following the --print-\ngroups switch and print the groups in its image sets.\nThe measurements file should be generated using\nCreateBatchFiles. The output is a JSON-encoded data\nstructure containing the group keys and values and the\nimage sets in each group.")), ToolInput(tag="in_get_batch_commands", input_type=File(optional=True), prefix="--get-batch-commands", doc=InputDocumentation(doc="Open the measurements file following the --get-batch-\ncommands switch and print one line to the console per\ngroup. The measurements file should be generated using\nCreateBatchFiles and the image sets should be grouped\ninto the units to be run. Each line is a command to\ninvoke CellProfiler. You can use this option to\ngenerate a shell script that will invoke CellProfiler\non a cluster by substituting 'CellProfiler' with your\ninvocation command in the script's text, for instance:\nCellProfiler --get-batch-commands Batch_data.h5 | sed\ns/CellProfiler/farm_jobs.sh. Note that CellProfiler\nwill always run in headless mode when --get-batch-\ncommands is present and will exit after generating the\nbatch commands without processing any pipeline.")), ToolInput(tag="in_images_per_batch", input_type=Int(optional=True), prefix="--images-per-batch", doc=InputDocumentation(doc="For pipelines that do not use image grouping this\noption specifies the number of images that should be\nprocessed in each batch if --get-batch-commands is\nused. Defaults to 1.")), ToolInput(tag="in_data_file", input_type=File(optional=True), prefix="--data-file", doc=InputDocumentation(doc="Specify the location of a .csv file for LoadData. If\nthis switch is present, this file is used instead of\nthe one specified in the LoadData module.")), ToolInput(tag="in_file_list", input_type=File(optional=True), prefix="--file-list", doc=InputDocumentation(doc="Specify a file list of one file or URL per line to be\nused to initially populate the Images module's file\nlist.")), ToolInput(tag="in_do_not_write_schema", input_type=Boolean(optional=True), prefix="--do-not-write-schema", doc=InputDocumentation(doc="Do not execute the schema definition and other per-\nexperiment SQL commands during initialization when\nrunning a pipeline in batch mode.")), ToolInput(tag="in_write_schema_and_exit", input_type=Boolean(optional=True), prefix="--write-schema-and-exit", doc=InputDocumentation(doc="Create the experiment database schema and exit")), ToolInput(tag="in_omer_o_credentials", input_type=File(optional=True), prefix="--omero-credentials", doc=InputDocumentation(doc="Enter login credentials for OMERO. The credentials are\nentered as comma-separated key/value pairs with keys,\n'host' - the DNS host name for the OMERO server,\n'port' - the server's port # (typically 4064), 'user'\n- the name of the connecting user, 'password' - the\nconnecting user's password, 'session-id' - the session\nID for an OMERO client session., 'config-file' - the\npath to the OMERO credentials config file. A typical\nset of credentials might be: --omero-credentials\nhost=demo.openmicroscopy.org,port=4064,session-\nid=atrvomvjcjfe7t01e8eu59amixmqqkfp")), ToolInput(tag="in_log_level", input_type=File(optional=True), prefix="--log-level", doc=InputDocumentation(doc="Set the verbosity for logging messages: 10 or DEBUG\nfor debugging, 20 or INFO for informational, 30 or\nWARNING for warning, 40 or ERROR for error, 50 or\nCRITICAL for critical, 50 or FATAL for fatal.\nOtherwise, the argument is interpreted as the file\nname of a log configuration file (see\nhttp://docs.python.org/library/logging.config.html for\nfile format)\n")), ToolInput(tag="in_output_file", input_type=File(optional=True), position=0, doc=InputDocumentation(doc=""))], outputs=[ToolOutput(tag="out_output_directory", output_type=Directory(optional=True), selector=InputSelector(input_to_select="in_output_directory", type_hint=File()), doc=OutputDocumentation(doc="Make this directory the default output folder")), ToolOutput(tag="out_print_groups", output_type=File(optional=True), selector=InputSelector(input_to_select="in_print_groups", type_hint=File()), doc=OutputDocumentation(doc="Open the measurements file following the --print-\ngroups switch and print the groups in its image sets.\nThe measurements file should be generated using\nCreateBatchFiles. The output is a JSON-encoded data\nstructure containing the group keys and values and the\nimage sets in each group.")), ToolOutput(tag="out_output_file", output_type=File(optional=True), selector=InputSelector(input_to_select="in_output_file", type_hint=File()), doc=OutputDocumentation(doc=""))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Cellprofiler_V0_1_0().translate("wdl", allow_empty_container=True)

