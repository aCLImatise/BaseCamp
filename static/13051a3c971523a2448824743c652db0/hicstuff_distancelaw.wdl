version 1.0

task HicstuffDistancelaw {
  input {
    Boolean? average
    Int? big_arm_only
    Float? base
    File? centromeres
    Boolean? circular
    File? dist_tbl
    File? frags
    Int? inf
    Int? labels
    File? output_file_img
    File? output_file_tabl
    File? pairs
    Int? remove_centromeres
    Int? sup
  }
  command <<<
    hicstuff distancelaw \
      ~{if (average) then "--average" else ""} \
      ~{if defined(big_arm_only) then ("--big-arm-only " +  '"' + big_arm_only + '"') else ""} \
      ~{if defined(base) then ("--base " +  '"' + base + '"') else ""} \
      ~{if defined(centromeres) then ("--centromeres " +  '"' + centromeres + '"') else ""} \
      ~{if (circular) then "--circular" else ""} \
      ~{if defined(dist_tbl) then ("--dist-tbl " +  '"' + dist_tbl + '"') else ""} \
      ~{if defined(frags) then ("--frags " +  '"' + frags + '"') else ""} \
      ~{if defined(inf) then ("--inf " +  '"' + inf + '"') else ""} \
      ~{if defined(labels) then ("--labels " +  '"' + labels + '"') else ""} \
      ~{if defined(output_file_img) then ("--outputfile-img " +  '"' + output_file_img + '"') else ""} \
      ~{if defined(output_file_tabl) then ("--outputfile-tabl " +  '"' + output_file_tabl + '"') else ""} \
      ~{if defined(pairs) then ("--pairs " +  '"' + pairs + '"') else ""} \
      ~{if defined(remove_centromeres) then ("--remove-centromeres " +  '"' + remove_centromeres + '"') else ""} \
      ~{if defined(sup) then ("--sup " +  '"' + sup + '"') else ""}
  >>>
  runtime {
    docker: "quay.io/biocontainers/hicstuff:2.3.2--py_0"
  }
  parameter_meta {
    average: "If set, calculate the average of the distance\\nlaw of the different chromosomes/arms in each\\ncondition. If two file given average is\\nmandatory."
    big_arm_only: "Integer. It given will take only the arms bigger\\nthan the value given as argument."
    base: "Float corresponding of the base of the log to\\nmake the logspace which will slice the genomes in\\nlogbins. These slices will be in basepairs unit.\\nDefault is 1.1."
    centromeres: "Positions of the centromeres separated by\\na space and in the same order as the\\nchromosomes. This allows to plot chromosomal arms\\nseparately. Note this will only work with --pairs\\ninput, as the distance law needs to be recomputed.\\nIncompatible with the circular option."
    circular: "Enable if the genome is circular. Discordant\\nwith the centromeres option."
    dist_tbl: "[,FILE2,...]    Directory to the file or files containing the\\ncompute distance law. File should have the same\\nformat than the ones made by hicstuff pipeline."
    frags: "Tab-separated file with headers, containing\\ncolumns id, chrom, start_pos, end_pos size.\\nThis is the file \\\"fragments_list.txt\\\" generated by\\nhicstuff pipeline. Required if pairs are given."
    inf: "Inferior born to plot the distance law. By\\ndefault the value is 3000 bp (3 kb). Have to\\nbe strictly positive."
    labels: ",STR2...           List of string of the labels for the plot\\nseparated by a coma. If no labels given, give\\nthe names \\\"Sample 1\\\", \\\"Sample 2\\\"..."
    output_file_img: "Output file. Format must be compatible with\\nplt.savefig. Default : None."
    output_file_tabl: "Output file. Default : None."
    pairs: "Pairs file. Format from 4D Nucleome Omics Data\\nStandards Working Group with the 8th and 9th\\ncoulumns are the ID of the fragments of the\\nreads 1 and 2. Only add if no distance_law table\\ngiven. It will compute the table from these pairs\\nand the fragments from the fragments file."
    remove_centromeres: "Integer. Number of kb that will be remove around\\nthe centromere position given by in the centromere\\nfile. Default is zero."
    sup: "Superior born to plot the distance law. By\\ndefault the value is the maximum length of all\\nthe dataset given. Also if big arm only set, it\\nwill be the minimum size of the arms/chromosomes\\ntaken to make the average.\\n"
  }
  output {
    File out_stdout = stdout()
    File out_output_file_img = "${in_output_file_img}"
    File out_output_file_tabl = "${in_output_file_tabl}"
  }
}