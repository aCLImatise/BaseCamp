version 1.0

task AnviInspect {
  input {
    String? profile_db
    String? contigs_db
    String? split_name
    Boolean? hide_outlier_sn_vs
    String? ip_address
    Int? port_number
    Boolean? server_only
    Boolean? just_do_it
  }
  command <<<
    anvi-inspect \
      ~{if defined(profile_db) then ("--profile-db " +  '"' + profile_db + '"') else ""} \
      ~{if defined(contigs_db) then ("--contigs-db " +  '"' + contigs_db + '"') else ""} \
      ~{if defined(split_name) then ("--split-name " +  '"' + split_name + '"') else ""} \
      ~{true="--hide-outlier-SNVs" false="" hide_outlier_sn_vs} \
      ~{if defined(ip_address) then ("--ip-address " +  '"' + ip_address + '"') else ""} \
      ~{if defined(port_number) then ("--port-number " +  '"' + port_number + '"') else ""} \
      ~{true="--server-only" false="" server_only} \
      ~{true="--just-do-it" false="" just_do_it}
  >>>
  parameter_meta {
    profile_db: "Anvi'o profile database"
    contigs_db: "Anvi'o contigs database generated by 'anvi-gen- contigs'"
    split_name: "Split name."
    hide_outlier_sn_vs: "During profiling, anvi'o marks positions of single- nucleotide variations (SNVs) that originate from places in contigs where coverage values are a bit 'sketchy'. If you would like to avoid SNVs in those positions of splits in applicable projects you can use this flag, and the interface would hide SNVs that are marked as 'outlier' (although it is clearly the best to see everything, no one will judge you if you end up using this flag) (plus, there may or may not be some historical data on this here: https://github.com/meren/anvio/issues/309)."
    ip_address: "IP address for the HTTP server. The default ip address (0.0.0.0) should work just fine for most."
    port_number: "Port number to use for anvi'o services. If nothing is declared, anvi'o will try to find a suitable port number, starting from the default port number, 8080."
    server_only: "The default behavior is to start the local server, and fire up a browser that connects to the server. If you have other plans, and want to start the server without calling the browser, this is the flag you need."
    just_do_it: "Don't bother me with questions or warnings, just do it."
  }
}