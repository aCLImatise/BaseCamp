version 1.0

task AnviSearchFunctions {
  input {
    String? contigs_db
    String? pan_db
    String? genomes_storage
    Boolean? list_annotation_sources
    File? output_file
    File? full_report
    Boolean? include_sequences
    Boolean? verbose
  }
  command <<<
    anvi-search-functions \
      ~{if defined(contigs_db) then ("--contigs-db " +  '"' + contigs_db + '"') else ""} \
      ~{if defined(pan_db) then ("--pan-db " +  '"' + pan_db + '"') else ""} \
      ~{if defined(genomes_storage) then ("--genomes-storage " +  '"' + genomes_storage + '"') else ""} \
      ~{true="--list-annotation-sources" false="" list_annotation_sources} \
      ~{if defined(output_file) then ("--output-file " +  '"' + output_file + '"') else ""} \
      ~{if defined(full_report) then ("--full-report " +  '"' + full_report + '"') else ""} \
      ~{true="--include-sequences" false="" include_sequences} \
      ~{true="--verbose" false="" verbose}
  >>>
  parameter_meta {
    contigs_db: "Anvi'o contigs database generated by 'anvi-gen- contigs'"
    pan_db: "Anvi'o pan database"
    genomes_storage: "Anvi'o genomes storage file"
    list_annotation_sources: "List available functional annotation sources."
    output_file: "File path to store results."
    full_report: "Optional output file with a fuller description of findings."
    include_sequences: "Include sequences in the report."
    verbose: "Be verbose, print more messages whenever possible."
  }
}