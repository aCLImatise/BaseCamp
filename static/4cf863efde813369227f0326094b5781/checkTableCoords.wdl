version 1.0

task CheckTableCoords {
  input {
    String? table
    String? days_old
    String? hours_old
    String? exclude
    Boolean? ignore_blocks
    Boolean? verbose_blocks
    String database
    String? tablename
  }
  command <<<
    checkTableCoords \
      ~{database} \
      ~{tablename} \
      ~{if defined(table) then ("-table " +  '"' + table + '"') else ""} \
      ~{if defined(days_old) then ("-daysOld " +  '"' + days_old + '"') else ""} \
      ~{if defined(hours_old) then ("-hoursOld " +  '"' + hours_old + '"') else ""} \
      ~{if defined(exclude) then ("-exclude " +  '"' + exclude + '"') else ""} \
      ~{true="-ignoreBlocks" false="" ignore_blocks} \
      ~{true="-verboseBlocks" false="" verbose_blocks}
  >>>
  parameter_meta {
    table: "Check this table only.  (Default: all tables)"
    days_old: "Check tables that have been modified at most N days ago."
    hours_old: "Check tables that have been modified at most N hours ago. (days and hours are additive)"
    exclude: "Exclude tables matching any pattern in comma-separated patList.  patList can contain wildcards (*?) but should be escaped or single-quoted if it does.  patList can contain \"genbank\" which will be expanded to all tables generated by the automated genbank build process."
    ignore_blocks: "To save time (but lose coverage), skip block coord checks."
    verbose_blocks: "Print out more details about illegal block coords, since  they can't be found by simple SQL queries."
    database: ""
    tablename: ""
  }
}