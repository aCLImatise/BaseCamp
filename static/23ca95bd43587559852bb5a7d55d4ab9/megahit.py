from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Boolean, Directory, File, String, Int

Megahit_V0_1_0 = CommandToolBuilder(tool="megahit", base_command=["megahit"], inputs=[ToolInput(tag="in_one", input_type=Boolean(optional=True), prefix="-1", doc=InputDocumentation(doc="<pe1>          comma-separated list of fasta/q paired-end #1 files, paired with files in <pe2>")), ToolInput(tag="in_two", input_type=Boolean(optional=True), prefix="-2", doc=InputDocumentation(doc="<pe2>          comma-separated list of fasta/q paired-end #2 files, paired with files in <pe1>")), ToolInput(tag="in_commaseparated_list_interleaved", input_type=Boolean(optional=True), prefix="--12", doc=InputDocumentation(doc="<pe12>         comma-separated list of interleaved fasta/q paired-end files")), ToolInput(tag="in_read", input_type=Boolean(optional=True), prefix="--read", doc=InputDocumentation(doc="<se>           comma-separated list of fasta/q single-end files")), ToolInput(tag="in_min_count", input_type=Boolean(optional=True), prefix="--min-count", doc=InputDocumentation(doc="<int>          minimum multiplicity for filtering (k_min+1)-mers [2]")), ToolInput(tag="in_k_list", input_type=Boolean(optional=True), prefix="--k-list", doc=InputDocumentation(doc="<int,int,..>   comma-separated list of kmer size\nall must be odd, in the range 15-255, increment <= 28)\n[21,29,39,59,79,99,119,141]")), ToolInput(tag="in_k_min", input_type=Boolean(optional=True), prefix="--k-min", doc=InputDocumentation(doc="<int>          minimum kmer size (<= 255), must be odd number [21]")), ToolInput(tag="in_k_max", input_type=Boolean(optional=True), prefix="--k-max", doc=InputDocumentation(doc="<int>          maximum kmer size (<= 255), must be odd number [141]")), ToolInput(tag="in_k_step", input_type=Boolean(optional=True), prefix="--k-step", doc=InputDocumentation(doc="<int>          increment of kmer size of each iteration (<= 28), must be even number [12]")), ToolInput(tag="in_no_mercy", input_type=Boolean(optional=True), prefix="--no-mercy", doc=InputDocumentation(doc="do not add mercy kmers")), ToolInput(tag="in_bubble_level", input_type=Boolean(optional=True), prefix="--bubble-level", doc=InputDocumentation(doc="<int>          intensity of bubble merging (0-2), 0 to disable [2]")), ToolInput(tag="in_merge_level", input_type=Boolean(optional=True), prefix="--merge-level", doc=InputDocumentation(doc="<l,s>          merge complex bubbles of length <= l*kmer_size and similarity >= s [20,0.95]")), ToolInput(tag="in_prune_level", input_type=Boolean(optional=True), prefix="--prune-level", doc=InputDocumentation(doc="<int>          strength of low depth pruning (0-3) [2]")), ToolInput(tag="in_prune_depth", input_type=Boolean(optional=True), prefix="--prune-depth", doc=InputDocumentation(doc="<int>          remove unitigs with avg kmer depth less than this value [2]")), ToolInput(tag="in_disconnect_ratio", input_type=Boolean(optional=True), prefix="--disconnect-ratio", doc=InputDocumentation(doc="<float>        disconnect unitigs if its depth is less than this ratio times\nthe total depth of itself and its siblings [0.1]")), ToolInput(tag="in_low_local_ratio", input_type=Boolean(optional=True), prefix="--low-local-ratio", doc=InputDocumentation(doc="<float>        remove unitigs if its depth is less than this ratio times\nthe average depth of the neighborhoods [0.2]")), ToolInput(tag="in_max_tip_len", input_type=Boolean(optional=True), prefix="--max-tip-len", doc=InputDocumentation(doc="<int>          remove tips less than this value [2*k]")), ToolInput(tag="in_cleaning_rounds", input_type=Boolean(optional=True), prefix="--cleaning-rounds", doc=InputDocumentation(doc="<int>          number of rounds for graph cleanning [5]")), ToolInput(tag="in_no_local", input_type=Boolean(optional=True), prefix="--no-local", doc=InputDocumentation(doc="disable local assembly")), ToolInput(tag="in_km_in_one_pass", input_type=Boolean(optional=True), prefix="--kmin-1pass", doc=InputDocumentation(doc="use 1pass mode to build SdBG of k_min")), ToolInput(tag="in_presets", input_type=Boolean(optional=True), prefix="--presets", doc=InputDocumentation(doc="<str>          override a group of parameters; possible values:\nmeta-sensitive: '--min-count 1 --k-list 21,29,39,49,...,129,141'\nmeta-large: '--k-min 27 --k-max 127 --k-step 10'\n(large & complex metagenomes, like soil)")), ToolInput(tag="in_memory", input_type=Boolean(optional=True), prefix="--memory", doc=InputDocumentation(doc="<float>        max memory in byte to be used in SdBG construction\n(if set between 0-1, fraction of the machine's total memory) [0.9]")), ToolInput(tag="in_mem_flag", input_type=Boolean(optional=True), prefix="--mem-flag", doc=InputDocumentation(doc="<int>          SdBG builder memory mode. 0: minimum; 1: moderate;\nothers: use all memory specified by '-m/--memory' [1]")), ToolInput(tag="in_num_cpu_threads", input_type=Boolean(optional=True), prefix="--num-cpu-threads", doc=InputDocumentation(doc="<int>          number of CPU threads [# of logical processors]")), ToolInput(tag="in_no_hw_accel", input_type=Boolean(optional=True), prefix="--no-hw-accel", doc=InputDocumentation(doc="run MEGAHIT without BMI2 and POPCNT hardware instructions")), ToolInput(tag="in_out_dir", input_type=Directory(optional=True), prefix="--out-dir", doc=InputDocumentation(doc="<string>       output directory [./megahit_out]")), ToolInput(tag="in_out_prefix", input_type=File(optional=True), prefix="--out-prefix", doc=InputDocumentation(doc="<string>       output prefix (the contig file will be OUT_DIR/OUT_PREFIX.contigs.fa)")), ToolInput(tag="in_min_contig_len", input_type=Boolean(optional=True), prefix="--min-contig-len", doc=InputDocumentation(doc="<int>          minimum length of contigs to output [200]")), ToolInput(tag="in_keep_tmp_files", input_type=Boolean(optional=True), prefix="--keep-tmp-files", doc=InputDocumentation(doc="keep all temporary files")), ToolInput(tag="in_tmp_dir", input_type=Boolean(optional=True), prefix="--tmp-dir", doc=InputDocumentation(doc="<string>       set temp directory")), ToolInput(tag="in_continue", input_type=Directory(optional=True), prefix="--continue", doc=InputDocumentation(doc="continue a MEGAHIT run from its last available check point.\nplease set the output directory correctly when using this option.")), ToolInput(tag="in_test", input_type=Boolean(optional=True), prefix="--test", doc=InputDocumentation(doc="run MEGAHIT on a toy test dataset")), ToolInput(tag="in_input", input_type=String(), position=0, doc=InputDocumentation(doc="")), ToolInput(tag="in_pe_one", input_type=Int(), position=0, doc=InputDocumentation(doc="")), ToolInput(tag="in_pe_one_two", input_type=Int(), position=0, doc=InputDocumentation(doc="")), ToolInput(tag="in_pe_two", input_type=Int(), position=0, doc=InputDocumentation(doc="")), ToolInput(tag="in_comma_separated", input_type=String(), position=1, doc=InputDocumentation(doc="")), ToolInput(tag="in_that", input_type=String(), position=1, doc=InputDocumentation(doc="")), ToolInput(tag="in_can", input_type=String(), position=2, doc=InputDocumentation(doc="")), ToolInput(tag="in_list", input_type=String(), position=2, doc=InputDocumentation(doc="")), ToolInput(tag="in_be", input_type=String(), position=3, doc=InputDocumentation(doc="")), ToolInput(tag="in_of", input_type=String(), position=3, doc=InputDocumentation(doc="")), ToolInput(tag="in_fast_a", input_type=String(), position=4, doc=InputDocumentation(doc="")), ToolInput(tag="in_interleaved", input_type=String(), position=4, doc=InputDocumentation(doc="")), ToolInput(tag="in_specified", input_type=String(), position=4, doc=InputDocumentation(doc="")), ToolInput(tag="in_for", input_type=String(), position=5, doc=InputDocumentation(doc="")), ToolInput(tag="in_multiple", input_type=String(), position=6, doc=InputDocumentation(doc="")), ToolInput(tag="in_times", input_type=String(), position=7, doc=InputDocumentation(doc=""))], outputs=[ToolOutput(tag="out_out_dir", output_type=Directory(optional=True), selector=InputSelector(input_to_select="in_out_dir", type_hint=File()), doc=OutputDocumentation(doc="<string>       output directory [./megahit_out]")), ToolOutput(tag="out_out_prefix", output_type=File(optional=True), selector=InputSelector(input_to_select="in_out_prefix", type_hint=File()), doc=OutputDocumentation(doc="<string>       output prefix (the contig file will be OUT_DIR/OUT_PREFIX.contigs.fa)")), ToolOutput(tag="out_continue", output_type=Directory(optional=True), selector=InputSelector(input_to_select="in_continue", type_hint=File()), doc=OutputDocumentation(doc="continue a MEGAHIT run from its last available check point.\nplease set the output directory correctly when using this option."))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Megahit_V0_1_0().translate("wdl", allow_empty_container=True)

