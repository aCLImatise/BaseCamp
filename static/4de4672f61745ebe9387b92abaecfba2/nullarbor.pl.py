from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import String, File, Directory, Int, Boolean, Float

Nullarbor_Pl_V0_1_0 = CommandToolBuilder(tool="nullarbor.pl", base_command=["nullarbor.pl"], inputs=[ToolInput(tag="in_name", input_type=String(optional=True), prefix="--name", doc=InputDocumentation(doc="Job name")), ToolInput(tag="in_ref", input_type=File(optional=True), prefix="--ref", doc=InputDocumentation(doc="Reference file in FASTA or GBK format")), ToolInput(tag="in_input", input_type=File(optional=True), prefix="--input", doc=InputDocumentation(doc="Input TSV file with format:  | Isolate_ID | R1.fq.gz | R2.fq.gz |")), ToolInput(tag="in_outdir", input_type=Directory(optional=True), prefix="--outdir", doc=InputDocumentation(doc="Output folder")), ToolInput(tag="in_mode", input_type=String(optional=True), prefix="--mode", doc=InputDocumentation(doc="Run mode: [all] preview")), ToolInput(tag="in_cpus", input_type=Int(optional=True), prefix="--cpus", doc=InputDocumentation(doc="Maximum number of CPUs to use in total (1)")), ToolInput(tag="in_force", input_type=Boolean(optional=True), prefix="--force", doc=InputDocumentation(doc="Overwrite --outdir (useful for adding samples to existing analysis)")), ToolInput(tag="in_quiet", input_type=Boolean(optional=True), prefix="--quiet", doc=InputDocumentation(doc="No screen output")), ToolInput(tag="in_verbose", input_type=Boolean(optional=True), prefix="--verbose", doc=InputDocumentation(doc="More screen output")), ToolInput(tag="in_check", input_type=Boolean(optional=True), prefix="--check", doc=InputDocumentation(doc="Check dependencies and exit")), ToolInput(tag="in_run", input_type=Boolean(optional=True), prefix="--run", doc=InputDocumentation(doc="Immediately launch Makefile")), ToolInput(tag="in_conf", input_type=File(optional=True), prefix="--conf", doc=InputDocumentation(doc="Config file (/usr/local/bin/../conf/nullarbor.conf)")), ToolInput(tag="in_g_code", input_type=Int(optional=True), prefix="--gcode", doc=InputDocumentation(doc="Genetic code for prokka (11)")), ToolInput(tag="in_trim", input_type=Boolean(optional=True), prefix="--trim", doc=InputDocumentation(doc="Trim reads of adaptors (0)")), ToolInput(tag="in_mlst", input_type=String(optional=True), prefix="--mlst", doc=InputDocumentation(doc="Force this MLST scheme (AUTO)")), ToolInput(tag="in_min_ctg", input_type=Int(optional=True), prefix="--minctg", doc=InputDocumentation(doc="Minimum contig length for Prokka and Roary")), ToolInput(tag="in_prefill", input_type=Boolean(optional=True), prefix="--prefill", doc=InputDocumentation(doc="Use precomputed data as per --conf file. Use --no-prefill to override.")), ToolInput(tag="in_link_cmd", input_type=Boolean(optional=True), prefix="--link-cmd", doc=InputDocumentation(doc="'CMD'       Command to symlink/copy FASTQ files into --outdir ('ln -s -f')")), ToolInput(tag="in_snippy_opt", input_type=Int(optional=True), prefix="--snippy_opt", doc=InputDocumentation(doc="Options to pass to snippy eg. '--mincov 10 --ram 32' ()")), ToolInput(tag="in_roar_y_opt", input_type=Float(optional=True), prefix="--roary_opt", doc=InputDocumentation(doc="Options to pass to roary eg. '-iv 1.75 -s -cd 97' ()")), ToolInput(tag="in_mask", input_type=String(optional=True), prefix="--mask", doc=InputDocumentation(doc="| auto      Mask core SNPS in these regions or 'auto' ()")), ToolInput(tag="in_auto", input_type=Boolean(optional=True), prefix="--auto", doc=InputDocumentation(doc="Be lazy and guess --name,--ref,--input,--outdir,--mask")), ToolInput(tag="in_assembler", input_type=String(optional=True), prefix="--assembler", doc=InputDocumentation(doc="Assembler to use: megahit shovill skesa skesa_fast spades (skesa)")), ToolInput(tag="in_assembler_opt", input_type=String(optional=True), prefix="--assembler-opt", doc=InputDocumentation(doc="Extra assembler options to pass ()")), ToolInput(tag="in_tree_builder", input_type=String(optional=True), prefix="--treebuilder", doc=InputDocumentation(doc="Tree-builder to use: fasttree iqtree iqtree_fast iqtree_slow (iqtree_fast)")), ToolInput(tag="in_tree_builder_opt", input_type=String(optional=True), prefix="--treebuilder-opt", doc=InputDocumentation(doc="Extra tree-builder options to pass ()")), ToolInput(tag="in_tax_one_r", input_type=Int(optional=True), prefix="--taxoner", doc=InputDocumentation(doc="Species ID tool to use: centrifuge kraken kraken2 (kraken)")), ToolInput(tag="in_tax_one_r_opt", input_type=String(optional=True), prefix="--taxoner-opt", doc=InputDocumentation(doc="Extra species ID builder options to pass ()")), ToolInput(tag="in_annotator", input_type=String(optional=True), prefix="--annotator", doc=InputDocumentation(doc="Genome annotator to use: prokka_fast (prokka_fast)")), ToolInput(tag="in_annotator_opt", input_type=String(optional=True), prefix="--annotator-opt", doc=InputDocumentation(doc="Extra annotator options to pass ()"))], outputs=[ToolOutput(tag="out_outdir", output_type=Directory(optional=True), selector=InputSelector(input_to_select="in_outdir", type_hint=File()), doc=OutputDocumentation(doc="Output folder"))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Nullarbor_Pl_V0_1_0().translate("wdl", allow_empty_container=True)

