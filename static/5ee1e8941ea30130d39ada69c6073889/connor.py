from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Boolean, File, Float, Int, String

Connor_V0_1_0 = CommandToolBuilder(tool="connor", base_command=["connor"], inputs=[ToolInput(tag="in_verbose", input_type=Boolean(optional=True), prefix="--verbose", doc=InputDocumentation(doc="print all log messages to console")), ToolInput(tag="in_force", input_type=Boolean(optional=True), prefix="--force", doc=InputDocumentation(doc="=False. Override validation warnings")), ToolInput(tag="in_log_file", input_type=File(optional=True), prefix="--log_file", doc=InputDocumentation(doc="={output_filename}.log. Path to verbose log file")), ToolInput(tag="in_annotated_output_bam", input_type=File(optional=True), prefix="--annotated_output_bam", doc=InputDocumentation(doc="path to output BAM containing all original aligns annotated with BAM tags")), ToolInput(tag="in_consensus_freq_threshold", input_type=Float(optional=True), prefix="--consensus_freq_threshold", doc=InputDocumentation(doc="=0.6 (0..1.0): Ambiguous base calls at a specific position in a family are\ntransformed to either majority base call, or N if the majority percentage\nis below this threshold. (Higher threshold results in more Ns in\nconsensus.)")), ToolInput(tag="in_min_family_size_threshold", input_type=Int(optional=True), prefix="--min_family_size_threshold", doc=InputDocumentation(doc="=3 (>=0): families with count of original reads < threshold are excluded\nfrom the deduplicated output. (Higher threshold is more\nstringent.)")), ToolInput(tag="in_umt_distance_threshold", input_type=Int(optional=True), prefix="--umt_distance_threshold", doc=InputDocumentation(doc="=1 (>=0); UMTs equal to or closer than this Hamming distance will be\ncombined into a single family. Lower threshold make more families with more\nconsistent UMTs; 0 implies UMI must match\nexactly.")), ToolInput(tag="in_filter_order", input_type=String(optional=True), prefix="--filter_order", doc=InputDocumentation(doc="=count; determines how filters will be ordered in the log\nresults")), ToolInput(tag="in_umt_length", input_type=Int(optional=True), prefix="--umt_length", doc=InputDocumentation(doc="=6 (>=1); length of UMT")), ToolInput(tag="in_input_bam", input_type=String(), position=0, doc=InputDocumentation(doc="path to input BAM")), ToolInput(tag="in_output_bam", input_type=String(), position=1, doc=InputDocumentation(doc="path to deduplicated output BAM"))], outputs=[ToolOutput(tag="out_annotated_output_bam", output_type=File(optional=True), selector=InputSelector(input_to_select="in_annotated_output_bam", type_hint=File()), doc=OutputDocumentation(doc="path to output BAM containing all original aligns annotated with BAM tags"))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Connor_V0_1_0().translate("wdl", allow_empty_container=True)

