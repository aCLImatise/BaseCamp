from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Int, File, Boolean, Directory, String

Hicstuff_Pipeline_V0_1_0 = CommandToolBuilder(tool="hicstuff_pipeline", base_command=["hicstuff", "pipeline"], inputs=[ToolInput(tag="in_aligner", input_type=Int(optional=True), prefix="--aligner", doc=InputDocumentation(doc="Alignment software to use. Can be either\nbowtie2, minimap2 or bwa. minimap2 should\nonly be used for reads > 100 bp.\n[default: bowtie2]")), ToolInput(tag="in_centromeres", input_type=File(optional=True), prefix="--centromeres", doc=InputDocumentation(doc="Positions of the centromeres separated by\na space and in the same order than the\nchromosomes. Discordant with the circular\noption.")), ToolInput(tag="in_circular", input_type=Boolean(optional=True), prefix="--circular", doc=InputDocumentation(doc="Enable if the genome is circular.\nDiscordant with the centromeres option.")), ToolInput(tag="in_distance_law", input_type=Boolean(optional=True), prefix="--distance-law", doc=InputDocumentation(doc="If enabled, generates a distance law file\nwith the values of the probabilities to\nhave a contact between two distances for\neach chromosomes or arms if the file with\nthe positions has been given. The values\nare not normalized, or averaged.")), ToolInput(tag="in_duplicates", input_type=Boolean(optional=True), prefix="--duplicates", doc=InputDocumentation(doc="Filter out PCR duplicates based on read")), ToolInput(tag="in_filter", input_type=Boolean(optional=True), prefix="--filter", doc=InputDocumentation(doc="Filter out spurious 3C events (loops and\nuncuts) using hicstuff filter. Requires\n'-e' to be a restriction enzyme, not a\nchunk size. For more informations, see\nCournac et al. BMC Genomics, 2012.")), ToolInput(tag="in_force", input_type=File(optional=True), prefix="--force", doc=InputDocumentation(doc="Write even if the output file already exists.")), ToolInput(tag="in_iterative", input_type=Boolean(optional=True), prefix="--iterative", doc=InputDocumentation(doc="Map reads iteratively using hicstuff\niteralign, by truncating reads to 20bp\nand then repeatedly extending and\naligning them.")), ToolInput(tag="in_genome", input_type=File(optional=True), prefix="--genome", doc=InputDocumentation(doc="Reference genome to map against. Path to\nthe bowtie2/bwa index if using bowtie2/bwa,\nor to a FASTA file if using minimap2.")), ToolInput(tag="in_mat_fmt", input_type=Int(optional=True), prefix="--matfmt", doc=InputDocumentation(doc="The format of the output sparse matrix.\nCan be 'bg2' for 2D Bedgraph format,\n'cool' for Mirnylab's cooler software, or\n'graal' for graal-compatible plain text\nCOO format. [default: graal]")), ToolInput(tag="in_no_cleanup", input_type=Boolean(optional=True), prefix="--no-cleanup", doc=InputDocumentation(doc="If enabled, intermediary BED files will\nbe kept after generating the contact map.\nDisabled by defaut.")), ToolInput(tag="in_outdir", input_type=Directory(optional=True), prefix="--outdir", doc=InputDocumentation(doc="Output directory. Defaults to the current")), ToolInput(tag="in_prefix", input_type=String(optional=True), prefix="--prefix", doc=InputDocumentation(doc="Overrides default filenames and prefixes all\noutput files with a custom name.")), ToolInput(tag="in_quality_min", input_type=Int(optional=True), prefix="--quality-min", doc=InputDocumentation(doc="Minimum mapping quality for selecting\ncontacts. [default: 30].")), ToolInput(tag="in_remove_centromeres", input_type=Int(optional=True), prefix="--remove-centromeres", doc=InputDocumentation(doc="Integer. Number of kb that will be remove around\nthe centromere position given by in the centromere\nfile. [default: 0]")), ToolInput(tag="in_read_len", input_type=Int(optional=True), prefix="--read-len", doc=InputDocumentation(doc="Maximum read length in the fastq file. Optionally\nused in iterative alignment mode. Estimated from\nthe first read by default. Useful if input fastq\nis a composite of different read lengths.")), ToolInput(tag="in_size", input_type=Int(optional=True), prefix="--size", doc=InputDocumentation(doc="Minimum size threshold to consider\ncontigs. Keep all contigs by default.\n[default: 0]")), ToolInput(tag="in_start_stage", input_type=File(optional=True), prefix="--start-stage", doc=InputDocumentation(doc="Define the starting point of the pipeline\nto skip some steps. Default is 'fastq' to\nrun from the start. Can also be 'bam' to\nskip the alignment, 'pairs' to start from a\nsingle pairs file or 'pairs_idx' to skip\nfragment attribution and only build the\nmatrix. [default: fastq]")), ToolInput(tag="in_threads", input_type=Int(optional=True), prefix="--threads", doc=InputDocumentation(doc="Number of threads to allocate.\n[default: 1].")), ToolInput(tag="in_tmpdir", input_type=Directory(optional=True), prefix="--tmpdir", doc=InputDocumentation(doc="Directory for storing intermediary BED\nfiles and temporary sort files. Defaults\nto the output directory.")), ToolInput(tag="in_p", input_type=Boolean(optional=True), prefix="-p", doc=InputDocumentation(doc="")), ToolInput(tag="in_e", input_type=Boolean(optional=True), prefix="-e", doc=InputDocumentation(doc="")), ToolInput(tag="in_positions_dot", input_type=String(), position=0, doc=InputDocumentation(doc="-e, --enzyme=ENZ              Restriction enzyme if a string, or chunk")), ToolInput(tag="in_directory_dot", input_type=Directory(), position=0, doc=InputDocumentation(doc="-p, --plot                    Generates plots in the output directory"))], outputs=[ToolOutput(tag="out_force", output_type=File(optional=True), selector=InputSelector(input_to_select="in_force", type_hint=File()), doc=OutputDocumentation(doc="Write even if the output file already exists.")), ToolOutput(tag="out_outdir", output_type=Directory(optional=True), selector=InputSelector(input_to_select="in_outdir", type_hint=File()), doc=OutputDocumentation(doc="Output directory. Defaults to the current")), ToolOutput(tag="out_tmpdir", output_type=Directory(optional=True), selector=InputSelector(input_to_select="in_tmpdir", type_hint=File()), doc=OutputDocumentation(doc="Directory for storing intermediary BED\nfiles and temporary sort files. Defaults\nto the output directory."))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Hicstuff_Pipeline_V0_1_0().translate("wdl", allow_empty_container=True)

