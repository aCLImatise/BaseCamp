version 1.0

task Anviexperimentalorganization {
  input {
    String? profile_db
    String? contigs_db
    File? input_directory
    String? name
    File? distance
    String? linkage
    Boolean? skip_store_in_db
    File? output_file
    Boolean? dry_run
  }
  command <<<
    anvi_experimental_organization \
      ~{if defined(profile_db) then ("--profile-db " +  '"' + profile_db + '"') else ""} \
      ~{if defined(contigs_db) then ("--contigs-db " +  '"' + contigs_db + '"') else ""} \
      ~{if defined(input_directory) then ("--input-directory " +  '"' + input_directory + '"') else ""} \
      ~{if defined(name) then ("--name " +  '"' + name + '"') else ""} \
      ~{if defined(distance) then ("--distance " +  '"' + distance + '"') else ""} \
      ~{if defined(linkage) then ("--linkage " +  '"' + linkage + '"') else ""} \
      ~{if (skip_store_in_db) then "--skip-store-in-db" else ""} \
      ~{if defined(output_file) then ("--output-file " +  '"' + output_file + '"') else ""} \
      ~{if (dry_run) then "--dry-run" else ""}
  >>>
  runtime {
    docker: "None"
  }
  parameter_meta {
    profile_db: "Anvi'o profile database"
    contigs_db: "Anvi'o contigs database generated by 'anvi-gen-\\ncontigs'"
    input_directory: "Input directory where the input files addressed from\\nthe configuration file can be found (i.e., the profile\\ndatabase, if PROFILE.db::TABLE notation is used in the\\nconfiguration file)."
    name: "The name to use when storing the resulting clustering\\nin the database. This name will appear in the\\ninteractive interface and other relevant interfaces.\\nPlease consider using a short and descriptive single-\\nword (if you do not do that you will make anvi'o\\ncomplain)."
    distance: "The distance metric for the hierarchical clustering.\\nIf you do not use this flag, the distance metric you\\ndefined in your clustering config file will be used.\\nIf you have not defined one in your config file, then\\nthe system default will be used, which is \\\"euclidean\\\"."
    linkage: "Same story with the `--distance`, except, the system\\ndefault for this one is ward."
    skip_store_in_db: "By default, analysis results are stored in the profile\\ndatabase. The use of this flag will let you skip that"
    output_file: "File path to store results."
    dry_run: "Don't do anything real. Test everything, and stop\\nright before wherever the developer said 'well, this\\nis enough testing', and decided to print out results.\\n"
  }
  output {
    File out_stdout = stdout()
    File out_output_file = "${in_output_file}"
  }
}