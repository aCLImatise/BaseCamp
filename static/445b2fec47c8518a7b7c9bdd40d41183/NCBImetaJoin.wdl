version 1.0

task NCBImetaJoin.py {
  input {
    String? database
    String? anchor
    String? accessory
    String? final
    String? unique
  }
  command <<<
    NCBImetaJoin.py \
      ~{if defined(database) then ("--database " +  '"' + database + '"') else ""} \
      ~{if defined(anchor) then ("--anchor " +  '"' + anchor + '"') else ""} \
      ~{if defined(accessory) then ("--accessory " +  '"' + accessory + '"') else ""} \
      ~{if defined(final) then ("--final " +  '"' + final + '"') else ""} \
      ~{if defined(unique) then ("--unique " +  '"' + unique + '"') else ""}
  >>>
  parameter_meta {
    database: "Path to the sqlite database generated by NCBImeta."
    anchor: "Table in NCBImeta database to use as an anchor for joining"
    accessory: "Accessory tables to join to the anchor as space separated str list ex. 'BioProject Assembly'"
    final: "Name of the final table after the join"
    unique: "Column names in anchor table, to search for values in accessory tables ex. 'Accession BioProject'"
  }
}