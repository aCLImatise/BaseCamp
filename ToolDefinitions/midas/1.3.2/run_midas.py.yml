!Command
command: &id001
- run_midas.py
positional: []
named: []
parent:
subcommands:
- !Command
  command: &id002
  - run_midas.py
  - genes
  positional:
  - !Positional
    description: "Path to directory to store results. \nDirectory name should correspond\
      \ to sample identifier"
    position: 0
    name: outdir
    optional: false
  named:
  - !Flag
    description: "Remove intermediate files generated by MIDAS (False).\nUseful to\
      \ reduce disk space of MIDAS output"
    synonyms:
    - --remove_temp
    args: !EmptyFlagArg {}
    optional: true
  - !Flag
    description: Build bowtie2 database of pangenomes
    synonyms:
    - --build_db
    args: !EmptyFlagArg {}
    optional: true
  - !Flag
    description: Align reads to pangenome database
    synonyms:
    - --align
    args: !EmptyFlagArg {}
    optional: true
  - !Flag
    description: Compute coverage of genes in pangenome database
    synonyms:
    - --call_genes
    args: !EmptyFlagArg {}
    optional: true
  - !Flag
    description: "Path to reference database\nBy default, the MIDAS_DB environmental\
      \ variable is used"
    synonyms:
    - -d
    args: !SimpleFlagArg
      name: DB
    optional: true
  - !Flag
    description: Include species with >X coverage (3.0)
    synonyms:
    - --species_cov
    args: !SimpleFlagArg
      name: FLOAT
    optional: true
  - !Flag
    description: Include top N most abundant species
    synonyms:
    - --species_topn
    args: !SimpleFlagArg
      name: INT
    optional: true
  - !Flag
    description: Include specified species. Separate ids with a comma
    synonyms:
    - --species_id
    args: !SimpleFlagArg
      name: CHAR
    optional: true
  - !Flag
    description: "FASTA/FASTQ file containing 1st mate if using paired-end reads.\n\
      Otherwise FASTA/FASTQ containing unpaired reads.\nCan be gzip'ed (extension:\
      \ .gz) or bzip2'ed (extension: .bz2)"
    synonyms:
    - '-1'
    args: !SimpleFlagArg
      name: M1
    optional: true
  - !Flag
    description: "FASTA/FASTQ file containing 2nd mate if using paired-end reads.\n\
      Can be gzip'ed (extension: .gz) or bzip2'ed (extension: .bz2)"
    synonyms:
    - '-2'
    args: !SimpleFlagArg
      name: M2
    optional: true
  - !Flag
    description: FASTA/FASTQ file in -1 are paired and contain forward AND reverse
      reads
    synonyms:
    - --interleaved
    args: !EmptyFlagArg {}
    optional: true
  - !Flag
    description: Alignment speed/sensitivity (very-sensitive)
    synonyms:
    - -s
    args: !ChoiceFlagArg
      choices: !!set
        very-fast:
        very-sensitive:
        fast:
        sensitive:
    optional: true
  - !Flag
    description: Global/local read alignment (local)
    synonyms:
    - -m
    args: !ChoiceFlagArg
      choices: !!set
        global:
        local:
    optional: true
  - !Flag
    description: '# reads to use from input file(s) (use all)'
    synonyms:
    - -n
    args: !SimpleFlagArg
      name: MAX_READS
    optional: true
  - !Flag
    description: Number of threads to use (1)
    synonyms:
    - -t
    args: !SimpleFlagArg
      name: THREADS
    optional: true
  - !Flag
    description: Discard reads with mean quality < READQ (20)
    synonyms:
    - --readq
    args: !SimpleFlagArg
      name: INT
    optional: true
  - !Flag
    description: Discard reads with alignment identity < MAPID (94.0)
    synonyms:
    - --mapid
    args: !SimpleFlagArg
      name: FLOAT
    optional: true
  - !Flag
    description: Discard reads with alignment coverage < ALN_COV (0.75)
    synonyms:
    - --aln_cov
    args: !SimpleFlagArg
      name: FLOAT
    optional: true
  - !Flag
    description: Trim N base-pairs from 3'/right end of read (0)
    synonyms:
    - --trim
    args: !SimpleFlagArg
      name: INT
    optional: true
  parent: &id003 !Command
    command: *id001
    positional: []
    named: []
    parent:
    subcommands:
    - !Command
      command: *id002
      positional:
      - !Positional
        description: "Path to directory to store results. \nDirectory name should\
          \ correspond to sample identifier"
        position: 0
        name: outdir
        optional: false
      named:
      - !Flag
        description: "Remove intermediate files generated by MIDAS (False).\nUseful\
          \ to reduce disk space of MIDAS output"
        synonyms:
        - --remove_temp
        args: !EmptyFlagArg {}
        optional: true
      - !Flag
        description: Build bowtie2 database of pangenomes
        synonyms:
        - --build_db
        args: !EmptyFlagArg {}
        optional: true
      - !Flag
        description: Align reads to pangenome database
        synonyms:
        - --align
        args: !EmptyFlagArg {}
        optional: true
      - !Flag
        description: Compute coverage of genes in pangenome database
        synonyms:
        - --call_genes
        args: !EmptyFlagArg {}
        optional: true
      - !Flag
        description: "Path to reference database\nBy default, the MIDAS_DB environmental\
          \ variable is used"
        synonyms:
        - -d
        args: !SimpleFlagArg
          name: DB
        optional: true
      - !Flag
        description: Include species with >X coverage (3.0)
        synonyms:
        - --species_cov
        args: !SimpleFlagArg
          name: FLOAT
        optional: true
      - !Flag
        description: Include top N most abundant species
        synonyms:
        - --species_topn
        args: !SimpleFlagArg
          name: INT
        optional: true
      - !Flag
        description: Include specified species. Separate ids with a comma
        synonyms:
        - --species_id
        args: !SimpleFlagArg
          name: CHAR
        optional: true
      - !Flag
        description: "FASTA/FASTQ file containing 1st mate if using paired-end reads.\n\
          Otherwise FASTA/FASTQ containing unpaired reads.\nCan be gzip'ed (extension:\
          \ .gz) or bzip2'ed (extension: .bz2)"
        synonyms:
        - '-1'
        args: !SimpleFlagArg
          name: M1
        optional: true
      - !Flag
        description: "FASTA/FASTQ file containing 2nd mate if using paired-end reads.\n\
          Can be gzip'ed (extension: .gz) or bzip2'ed (extension: .bz2)"
        synonyms:
        - '-2'
        args: !SimpleFlagArg
          name: M2
        optional: true
      - !Flag
        description: FASTA/FASTQ file in -1 are paired and contain forward AND reverse
          reads
        synonyms:
        - --interleaved
        args: !EmptyFlagArg {}
        optional: true
      - !Flag
        description: Alignment speed/sensitivity (very-sensitive)
        synonyms:
        - -s
        args: !ChoiceFlagArg
          choices: !!set
            ? sensitive
            ? very-sensitive
            ? very-fast
            ? fast
        optional: true
      - !Flag
        description: Global/local read alignment (local)
        synonyms:
        - -m
        args: !ChoiceFlagArg
          choices: !!set
            ? global
            ? local
        optional: true
      - !Flag
        description: '# reads to use from input file(s) (use all)'
        synonyms:
        - -n
        args: !SimpleFlagArg
          name: MAX_READS
        optional: true
      - !Flag
        description: Number of threads to use (1)
        synonyms:
        - -t
        args: !SimpleFlagArg
          name: THREADS
        optional: true
      - !Flag
        description: Discard reads with mean quality < READQ (20)
        synonyms:
        - --readq
        args: !SimpleFlagArg
          name: INT
        optional: true
      - !Flag
        description: Discard reads with alignment identity < MAPID (94.0)
        synonyms:
        - --mapid
        args: !SimpleFlagArg
          name: FLOAT
        optional: true
      - !Flag
        description: Discard reads with alignment coverage < ALN_COV (0.75)
        synonyms:
        - --aln_cov
        args: !SimpleFlagArg
          name: FLOAT
        optional: true
      - !Flag
        description: Trim N base-pairs from 3'/right end of read (0)
        synonyms:
        - --trim
        args: !SimpleFlagArg
          name: INT
        optional: true
      parent: *id003
      subcommands: []
      usage: []
      help_flag: !Flag
        description: show this help message and exit
        synonyms:
        - -h
        - --help
        args: !EmptyFlagArg {}
        optional: true
      usage_flag:
      version_flag:
      help_text: "Description: Map metagenomic reads to bacterial pangenomes and quantify\
        \ these genes in your data\n\nThe pipeline can be broken down into the following\
        \ steps:\n  1) build a database of pangenomes for abundance bacterial species\n\
        \  2) use local alignment to map high-quality metagenomic reads to the database\n\
        \  3) use mapped reads to quantify pangenome genes\n\nAfter completion, use\
        \ 'merge_midas.py genes' to generate pangenome matrixes\n  \nUsage: run_midas.py\
        \ genes <outdir> [options]\n\npositional arguments:\n  outdir            \
        \    Path to directory to store results. \n                        Directory\
        \ name should correspond to sample identifier\n\noptional arguments:\n  -h,\
        \ --help            show this help message and exit\n  --remove_temp     \
        \    Remove intermediate files generated by MIDAS (False).\n             \
        \           Useful to reduce disk space of MIDAS output\n\nPipeline options\
        \ (choose one or more; default=all):\n  --build_db            Build bowtie2\
        \ database of pangenomes\n  --align               Align reads to pangenome\
        \ database\n  --call_genes          Compute coverage of genes in pangenome\
        \ database\n\nDatabase options (if using --build_db):\n  -d DB           \
        \      Path to reference database\n                        By default, the\
        \ MIDAS_DB environmental variable is used\n  --species_cov FLOAT   Include\
        \ species with >X coverage (3.0)\n  --species_topn INT    Include top N most\
        \ abundant species\n  --species_id CHAR     Include specified species. Separate\
        \ ids with a comma\n\nRead alignment options (if using --align):\n  -1 M1\
        \                 FASTA/FASTQ file containing 1st mate if using paired-end\
        \ reads.\n                        Otherwise FASTA/FASTQ containing unpaired\
        \ reads.\n                        Can be gzip'ed (extension: .gz) or bzip2'ed\
        \ (extension: .bz2)\n  -2 M2                 FASTA/FASTQ file containing 2nd\
        \ mate if using paired-end reads.\n                        Can be gzip'ed\
        \ (extension: .gz) or bzip2'ed (extension: .bz2)\n  --interleaved        \
        \ FASTA/FASTQ file in -1 are paired and contain forward AND reverse reads\n\
        \  -s {very-fast,fast,sensitive,very-sensitive}\n                        Alignment\
        \ speed/sensitivity (very-sensitive)\n  -m {local,global}     Global/local\
        \ read alignment (local)\n  -n MAX_READS          # reads to use from input\
        \ file(s) (use all)\n  -t THREADS            Number of threads to use (1)\n\
        \nQuantify genes options (if using --call_genes):\n  --readq INT         \
        \  Discard reads with mean quality < READQ (20)\n  --mapid FLOAT         Discard\
        \ reads with alignment identity < MAPID (94.0)\n  --aln_cov FLOAT       Discard\
        \ reads with alignment coverage < ALN_COV (0.75)\n  --trim INT           \
        \ Trim N base-pairs from 3'/right end of read (0)\n\nExamples:\n1) run entire\
        \ pipeline using defaults:\nrun_midas.py genes /path/to/outdir -1 /path/to/reads_1.fq.gz\
        \ -2 /path/to/reads_2.fq.gz\n\t\t\t\n2) run entire pipeline for a specific\
        \ species:\nrun_midas.py genes /path/to/outdir --species_id Bacteroides_vulgatus_57955\
        \ -1 /path/to/reads_1.fq.gz -2 /path/to/reads_2.fq.gz\n\n3) use global read\
        \ alignment (default is local alignment with 75% minimum alignment coverage):\n\
        run_midas.py snps /path/to/outdir -1 /path/to/reads_1.fq.gz -2 /path/to/reads_2.fq.gz\
        \ -m global\n\n4) just align reads, use faster alignment, only use the first\
        \ 10M reads, use 4 CPUs:\nrun_midas.py genes /path/to/outdir --align -1 /path/to/reads_1.fq.gz\
        \ -2 /path/to/reads_2.fq.gz -s very-fast -n 10000000 -t 4\n\n5) just quantify\
        \ genes, keep reads with >=95% alignment identity and reads with an average\
        \ quality-score >=30:\nrun_midas.py genes /path/to/outdir --call_genes --mapid\
        \ 95 --readq 20\n\t\n"
      generated_using: &id004
      - --help
    - !Command
      command: &id005
      - run_midas.py
      - species
      positional:
      - !Positional
        description: "Path to directory to store results.\nDirectory name should correspond\
          \ to sample identifier"
        position: 0
        name: outdir
        optional: false
      named:
      - !Flag
        description: "FASTA/FASTQ file containing 1st mate if using paired-end reads.\n\
          Otherwise FASTA/FASTQ containing unpaired reads.\nCan be gzip'ed (extension:\
          \ .gz) or bzip2'ed (extension: .bz2)"
        synonyms:
        - '-1'
        args: !SimpleFlagArg
          name: M1
        optional: true
      - !Flag
        description: "FASTA/FASTQ file containing 2nd mate if using paired-end reads.\n\
          Can be gzip'ed (extension: .gz) or bzip2'ed (extension: .bz2)"
        synonyms:
        - '-2'
        args: !SimpleFlagArg
          name: M2
        optional: true
      - !Flag
        description: Number of reads to use from input file(s) (use all)
        synonyms:
        - -n
        args: !SimpleFlagArg
          name: MAX_READS
        optional: true
      - !Flag
        description: Number of threads to use for database search (1)
        synonyms:
        - -t
        args: !SimpleFlagArg
          name: THREADS
        optional: true
      - !Flag
        description: "Path to reference database\nBy default, the MIDAS_DB environmental\
          \ variable is used"
        synonyms:
        - -d
        args: !SimpleFlagArg
          name: DB
        optional: true
      - !Flag
        description: "Remove intermediate files generated by MIDAS (False).\nUseful\
          \ to reduce disk space of MIDAS output"
        synonyms:
        - --remove_temp
        args: !EmptyFlagArg {}
        optional: true
      - !Flag
        description: "Word size for BLAST search (28)\nUse word sizes > 16 for greatest\
          \ efficiency."
        synonyms:
        - --word_size
        args: !SimpleFlagArg
          name: INT
        optional: true
      - !Flag
        description: "Discard reads with alignment identity < MAPID\nBy default gene-specific\
          \ species-level cutoffs are used\nValues between 0-100 accepted"
        synonyms:
        - --mapid
        args: !SimpleFlagArg
          name: FLOAT
        optional: true
      - !Flag
        description: "Discard reads with alignment coverage < ALN_COV (0.75)\nValues\
          \ between 0-1 accepted"
        synonyms:
        - --aln_cov
        args: !SimpleFlagArg
          name: FLOAT
        optional: true
      - !Flag
        description: "Trim reads to READ_LENGTH and discard reads with length < READ_LENGTH\n\
          By default, reads are not trimmed or filtered"
        synonyms:
        - --read_length
        args: !SimpleFlagArg
          name: INT
        optional: true
      parent: *id003
      subcommands: []
      usage: []
      help_flag: !Flag
        description: show this help message and exit
        synonyms:
        - -h
        - --help
        args: !EmptyFlagArg {}
        optional: true
      usage_flag:
      version_flag:
      help_text: "Description: Map reads to a database of phylogenetic marker genes\
        \ and estimate species abundance \n\nThe pipeline can be broken down into\
        \ the following steps:\n  1) align high-quality reads to the database of marker\
        \ genes with HS-BLASTN\n  2) use species-level thresholds (94.5-98% DNA identity)\
        \ to assign reads to a species\n  3) probabalistically assign reads that map\
        \ equally well to 2 or more species\n  4) use mapped reads to estimate the\
        \ sequencing depth and relative abundance of species\n\nAfter completion,\
        \ use 'merge_midas.py species' to build the species abundance matrix\nAlso,\
        \ use 'merge_midas.py snps' or 'merge_midas.py genes' to quantify genomic\
        \ variation for abundant species\n\nUsage: run_midas.py species <outdir> [options]\n\
        \npositional arguments:\n  outdir             Path to directory to store results.\n\
        \                     Directory name should correspond to sample identifier\n\
        \noptional arguments:\n  -h, --help         show this help message and exit\n\
        \  -1 M1              FASTA/FASTQ file containing 1st mate if using paired-end\
        \ reads.\n                     Otherwise FASTA/FASTQ containing unpaired reads.\n\
        \                     Can be gzip'ed (extension: .gz) or bzip2'ed (extension:\
        \ .bz2)\n  -2 M2              FASTA/FASTQ file containing 2nd mate if using\
        \ paired-end reads.\n                     Can be gzip'ed (extension: .gz)\
        \ or bzip2'ed (extension: .bz2)\n  -n MAX_READS       Number of reads to use\
        \ from input file(s) (use all)\n  -t THREADS         Number of threads to\
        \ use for database search (1)\n  -d DB              Path to reference database\n\
        \                     By default, the MIDAS_DB environmental variable is used\n\
        \  --remove_temp      Remove intermediate files generated by MIDAS (False).\n\
        \                     Useful to reduce disk space of MIDAS output\n  --word_size\
        \ INT    Word size for BLAST search (28)\n                     Use word sizes\
        \ > 16 for greatest efficiency.\n  --mapid FLOAT      Discard reads with alignment\
        \ identity < MAPID\n                     By default gene-specific species-level\
        \ cutoffs are used\n                     Values between 0-100 accepted\n \
        \ --aln_cov FLOAT    Discard reads with alignment coverage < ALN_COV (0.75)\n\
        \                     Values between 0-1 accepted\n  --read_length INT  Trim\
        \ reads to READ_LENGTH and discard reads with length < READ_LENGTH\n     \
        \                By default, reads are not trimmed or filtered\n\nExamples:\n\
        1) run with defaults using a paired-end metagenome:\nrun_midas.py species\
        \ /path/to/outdir -1 /path/to/reads_1.fq.gz -2 /path/to/reads_2.fq.gz\n\n\
        2) run using a single-end metagenome with 4 CPUs and only 4M reads:\nrun_midas.py\
        \ species /path/to/outdir -1 /path/to/reads_1.fq.gz -t 4 -n 4000000\n\n3)\
        \ run with exactly 80 base-pair reads:\nrun_midas.py species /path/to/outdir\
        \ -1 /path/to/reads_1.fq.gz --read_length 80\n\t\n"
      generated_using: *id004
    - !Command
      command: &id006
      - run_midas.py
      - snps
      positional:
      - !Positional
        description: "Path to directory to store results. \nDirectory name should\
          \ correspond to sample identifier"
        position: 0
        name: outdir
        optional: false
      named:
      - !Flag
        description: "Remove intermediate files generated by MIDAS (False).\nUseful\
          \ to reduce disk space of MIDAS output"
        synonyms:
        - --remove_temp
        args: !EmptyFlagArg {}
        optional: true
      - !Flag
        description: Build bowtie2 database of pangenomes
        synonyms:
        - --build_db
        args: !EmptyFlagArg {}
        optional: true
      - !Flag
        description: Align reads to pangenome database
        synonyms:
        - --align
        args: !EmptyFlagArg {}
        optional: true
      - !Flag
        description: Run samtools mpileup and count 4 alleles across genome
        synonyms:
        - --pileup
        args: !EmptyFlagArg {}
        optional: true
      - !Flag
        description: "Path to reference database\nBy default, the MIDAS_DB environmental\
          \ variable is used"
        synonyms:
        - -d
        args: !SimpleFlagArg
          name: DB
        optional: true
      - !Flag
        description: Include species with >X coverage (3.0)
        synonyms:
        - --species_cov
        args: !SimpleFlagArg
          name: FLOAT
        optional: true
      - !Flag
        description: Include top N most abundant species
        synonyms:
        - --species_topn
        args: !SimpleFlagArg
          name: INT
        optional: true
      - !Flag
        description: Include specified species. Separate ids with a comma
        synonyms:
        - --species_id
        args: !SimpleFlagArg
          name: CHAR
        optional: true
      - !Flag
        description: "FASTA/FASTQ file containing 1st mate if using paired-end reads.\n\
          Otherwise FASTA/FASTQ containing unpaired reads.\nCan be gzip'ed (extension:\
          \ .gz) or bzip2'ed (extension: .bz2)"
        synonyms:
        - '-1'
        args: !SimpleFlagArg
          name: M1
        optional: true
      - !Flag
        description: "FASTA/FASTQ file containing 2nd mate if using paired-end reads.\n\
          Can be gzip'ed (extension: .gz) or bzip2'ed (extension: .bz2)"
        synonyms:
        - '-2'
        args: !SimpleFlagArg
          name: M2
        optional: true
      - !Flag
        description: FASTA/FASTQ file in -1 are paired and contain forward AND reverse
          reads
        synonyms:
        - --interleaved
        args: !EmptyFlagArg {}
        optional: true
      - !Flag
        description: Bowtie2 alignment speed/sensitivity (very-sensitive)
        synonyms:
        - -s
        args: !ChoiceFlagArg
          choices: !!set
            ? sensitive
            ? very-sensitive
            ? very-fast
            ? fast
        optional: true
      - !Flag
        description: '# reads to use from input file(s) (use all)'
        synonyms:
        - -n
        args: !SimpleFlagArg
          name: MAX_READS
        optional: true
      - !Flag
        description: Global/local read alignment (global)
        synonyms:
        - -m
        args: !ChoiceFlagArg
          choices: !!set
            ? global
            ? local
        optional: true
      - !Flag
        description: Number of threads to use (1)
        synonyms:
        - -t
        args: !SimpleFlagArg
          name: THREADS
        optional: true
      - !Flag
        description: Discard reads with alignment identity < MAPID (94.0)
        synonyms:
        - --mapid
        args: !SimpleFlagArg
          name: FLOAT
        optional: true
      - !Flag
        description: Discard reads with mapping quality < MAPQ (20)
        synonyms:
        - --mapq
        args: !SimpleFlagArg
          name: INT
        optional: true
      - !Flag
        description: Discard bases with quality < BASEQ (30)
        synonyms:
        - --baseq
        args: !SimpleFlagArg
          name: INT
        optional: true
      - !Flag
        description: Discard reads with mean quality < READQ (20)
        synonyms:
        - --readq
        args: !SimpleFlagArg
          name: INT
        optional: true
      - !Flag
        description: Discard reads with alignment coverage < ALN_COV (0.75)
        synonyms:
        - --aln_cov
        args: !SimpleFlagArg
          name: FLOAT
        optional: true
      - !Flag
        description: Trim N base-pairs from 3'/right end of read (0)
        synonyms:
        - --trim
        args: !SimpleFlagArg
          name: INT
        optional: true
      - !Flag
        description: Discard discordant read-pairs (False)
        synonyms:
        - --discard
        args: !EmptyFlagArg {}
        optional: true
      - !Flag
        description: 'Enable BAQ: per-base alignment quality (False)'
        synonyms:
        - --baq
        args: !EmptyFlagArg {}
        optional: true
      - !Flag
        description: Adjust MAPQ (False)
        synonyms:
        - --adjust_mq
        args: !EmptyFlagArg {}
        optional: true
      parent: *id003
      subcommands: []
      usage: []
      help_flag: !Flag
        description: show this help message and exit
        synonyms:
        - -h
        - --help
        args: !EmptyFlagArg {}
        optional: true
      usage_flag:
      version_flag:
      help_text: "Description: Map metagenomic reads to a bacterial genome database\
        \ and quantify nucleotide variation\n\nThe pipeline can be broken down into\
        \ the following steps:\n  1) build a database of genome sequences for abundant\
        \ bacterial species (1 representative genome/species)\n  2) use global alignment\
        \ to map high-quality reads to the database\n  3) generate pileups and count\
        \ variants at each genomic site\n\nAfter completion, use 'merge_midas.py snps'\
        \ to perform multisample SNP calling\n  \nUsage: run_midas.py snps <outdir>\
        \ [options]\n\npositional arguments:\n  outdir                Path to directory\
        \ to store results. \n                        Directory name should correspond\
        \ to sample identifier\n\noptional arguments:\n  -h, --help            show\
        \ this help message and exit\n  --remove_temp         Remove intermediate\
        \ files generated by MIDAS (False).\n                        Useful to reduce\
        \ disk space of MIDAS output\n\nPipeline options (choose one or more; default=all):\n\
        \  --build_db            Build bowtie2 database of pangenomes\n  --align \
        \              Align reads to pangenome database\n  --pileup             \
        \ Run samtools mpileup and count 4 alleles across genome\n\nDatabase options\
        \ (if using --build_db):\n  -d DB                 Path to reference database\n\
        \                        By default, the MIDAS_DB environmental variable is\
        \ used\n  --species_cov FLOAT   Include species with >X coverage (3.0)\n \
        \ --species_topn INT    Include top N most abundant species\n  --species_id\
        \ CHAR     Include specified species. Separate ids with a comma\n\nRead alignment\
        \ options (if using --align):\n  -1 M1                 FASTA/FASTQ file containing\
        \ 1st mate if using paired-end reads.\n                        Otherwise FASTA/FASTQ\
        \ containing unpaired reads.\n                        Can be gzip'ed (extension:\
        \ .gz) or bzip2'ed (extension: .bz2)\n  -2 M2                 FASTA/FASTQ\
        \ file containing 2nd mate if using paired-end reads.\n                  \
        \      Can be gzip'ed (extension: .gz) or bzip2'ed (extension: .bz2)\n  --interleaved\
        \         FASTA/FASTQ file in -1 are paired and contain forward AND reverse\
        \ reads\n  -s {very-fast,fast,sensitive,very-sensitive}\n                \
        \        Bowtie2 alignment speed/sensitivity (very-sensitive)\n  -n MAX_READS\
        \          # reads to use from input file(s) (use all)\n  -m {local,global}\
        \     Global/local read alignment (global)\n  -t THREADS            Number\
        \ of threads to use (1)\n\nPileup options (if using --pileup):\n  --mapid\
        \ FLOAT         Discard reads with alignment identity < MAPID (94.0)\n  --mapq\
        \ INT            Discard reads with mapping quality < MAPQ (20)\n  --baseq\
        \ INT           Discard bases with quality < BASEQ (30)\n  --readq INT   \
        \        Discard reads with mean quality < READQ (20)\n  --aln_cov FLOAT \
        \      Discard reads with alignment coverage < ALN_COV (0.75)\n  --trim INT\
        \            Trim N base-pairs from 3'/right end of read (0)\n  --discard\
        \             Discard discordant read-pairs (False)\n  --baq             \
        \    Enable BAQ: per-base alignment quality (False)\n  --adjust_mq       \
        \    Adjust MAPQ (False)\n\nExamples:\n1) run entire pipeline using defaults:\n\
        run_midas.py snps /path/to/outdir -1 /path/to/reads_1.fq.gz -2 /path/to/reads_2.fq.gz\n\
        \t\t\t\n2) run entire pipeline for a specific species:\nrun_midas.py snps\
        \ /path/to/outdir --species_id Bacteroides_vulgatus_57955 -1 /path/to/reads_1.fq.gz\
        \ -2 /path/to/reads_2.fq.gz\n\n3) use local read alignment and discard alignments\
        \ that cover reads by < 75% (default is global alignment):\nrun_midas.py snps\
        \ /path/to/outdir -1 /path/to/reads_1.fq.gz -2 /path/to/reads_2.fq.gz -m local\
        \ --aln_cov 0.75\n\n4) just align reads, use faster alignment, only use the\
        \ first 10M reads, use 4 CPUs:\nrun_midas.py snps /path/to/outdir --align\
        \ -1 /path/to/reads_1.fq.gz -2 /path/to/reads_2.fq.gz -s very-fast -n 10000000\
        \ -t 4\n\n5) just count variants, keep reads with >=95% alignment identity\
        \ and keep bases with quality-scores >=35:\nrun_midas.py snps /path/to/outdir\
        \ --pileup --mapid 95 --baseq 35\n\t\n"
      generated_using: *id004
    usage: []
    help_flag:
    usage_flag:
    version_flag:
    help_text: "Description: Estimate species abundance and intra-species genomic\
      \ variation from an individual metagenome\n\nUsage: run_midas.py <command> [options]\n\
      \nCommands:\n\tspecies\t estimate the abundance of 5,952 bacterial species\n\
      \tgenes\t quantify gene copy number variation in abundant species\n\tsnps\t\
      \ quantify single nucleotide variation in abundant species\n\nNote: use run_midas.py\
      \ <command> -h to view usage for a specific command\n"
    generated_using: *id004
  subcommands: []
  usage: []
  help_flag: !Flag
    description: show this help message and exit
    synonyms:
    - -h
    - --help
    args: !EmptyFlagArg {}
    optional: true
  usage_flag:
  version_flag:
  help_text: "Description: Map metagenomic reads to bacterial pangenomes and quantify\
    \ these genes in your data\n\nThe pipeline can be broken down into the following\
    \ steps:\n  1) build a database of pangenomes for abundance bacterial species\n\
    \  2) use local alignment to map high-quality metagenomic reads to the database\n\
    \  3) use mapped reads to quantify pangenome genes\n\nAfter completion, use 'merge_midas.py\
    \ genes' to generate pangenome matrixes\n  \nUsage: run_midas.py genes <outdir>\
    \ [options]\n\npositional arguments:\n  outdir                Path to directory\
    \ to store results. \n                        Directory name should correspond\
    \ to sample identifier\n\noptional arguments:\n  -h, --help            show this\
    \ help message and exit\n  --remove_temp         Remove intermediate files generated\
    \ by MIDAS (False).\n                        Useful to reduce disk space of MIDAS\
    \ output\n\nPipeline options (choose one or more; default=all):\n  --build_db\
    \            Build bowtie2 database of pangenomes\n  --align               Align\
    \ reads to pangenome database\n  --call_genes          Compute coverage of genes\
    \ in pangenome database\n\nDatabase options (if using --build_db):\n  -d DB  \
    \               Path to reference database\n                        By default,\
    \ the MIDAS_DB environmental variable is used\n  --species_cov FLOAT   Include\
    \ species with >X coverage (3.0)\n  --species_topn INT    Include top N most abundant\
    \ species\n  --species_id CHAR     Include specified species. Separate ids with\
    \ a comma\n\nRead alignment options (if using --align):\n  -1 M1             \
    \    FASTA/FASTQ file containing 1st mate if using paired-end reads.\n       \
    \                 Otherwise FASTA/FASTQ containing unpaired reads.\n         \
    \               Can be gzip'ed (extension: .gz) or bzip2'ed (extension: .bz2)\n\
    \  -2 M2                 FASTA/FASTQ file containing 2nd mate if using paired-end\
    \ reads.\n                        Can be gzip'ed (extension: .gz) or bzip2'ed\
    \ (extension: .bz2)\n  --interleaved         FASTA/FASTQ file in -1 are paired\
    \ and contain forward AND reverse reads\n  -s {very-fast,fast,sensitive,very-sensitive}\n\
    \                        Alignment speed/sensitivity (very-sensitive)\n  -m {local,global}\
    \     Global/local read alignment (local)\n  -n MAX_READS          # reads to\
    \ use from input file(s) (use all)\n  -t THREADS            Number of threads\
    \ to use (1)\n\nQuantify genes options (if using --call_genes):\n  --readq INT\
    \           Discard reads with mean quality < READQ (20)\n  --mapid FLOAT    \
    \     Discard reads with alignment identity < MAPID (94.0)\n  --aln_cov FLOAT\
    \       Discard reads with alignment coverage < ALN_COV (0.75)\n  --trim INT \
    \           Trim N base-pairs from 3'/right end of read (0)\n\nExamples:\n1) run\
    \ entire pipeline using defaults:\nrun_midas.py genes /path/to/outdir -1 /path/to/reads_1.fq.gz\
    \ -2 /path/to/reads_2.fq.gz\n\t\t\t\n2) run entire pipeline for a specific species:\n\
    run_midas.py genes /path/to/outdir --species_id Bacteroides_vulgatus_57955 -1\
    \ /path/to/reads_1.fq.gz -2 /path/to/reads_2.fq.gz\n\n3) use global read alignment\
    \ (default is local alignment with 75% minimum alignment coverage):\nrun_midas.py\
    \ snps /path/to/outdir -1 /path/to/reads_1.fq.gz -2 /path/to/reads_2.fq.gz -m\
    \ global\n\n4) just align reads, use faster alignment, only use the first 10M\
    \ reads, use 4 CPUs:\nrun_midas.py genes /path/to/outdir --align -1 /path/to/reads_1.fq.gz\
    \ -2 /path/to/reads_2.fq.gz -s very-fast -n 10000000 -t 4\n\n5) just quantify\
    \ genes, keep reads with >=95% alignment identity and reads with an average quality-score\
    \ >=30:\nrun_midas.py genes /path/to/outdir --call_genes --mapid 95 --readq 20\n\
    \t\n"
  generated_using: *id004
- !Command
  command: *id005
  positional:
  - !Positional
    description: "Path to directory to store results.\nDirectory name should correspond\
      \ to sample identifier"
    position: 0
    name: outdir
    optional: false
  named:
  - !Flag
    description: "FASTA/FASTQ file containing 1st mate if using paired-end reads.\n\
      Otherwise FASTA/FASTQ containing unpaired reads.\nCan be gzip'ed (extension:\
      \ .gz) or bzip2'ed (extension: .bz2)"
    synonyms:
    - '-1'
    args: !SimpleFlagArg
      name: M1
    optional: true
  - !Flag
    description: "FASTA/FASTQ file containing 2nd mate if using paired-end reads.\n\
      Can be gzip'ed (extension: .gz) or bzip2'ed (extension: .bz2)"
    synonyms:
    - '-2'
    args: !SimpleFlagArg
      name: M2
    optional: true
  - !Flag
    description: Number of reads to use from input file(s) (use all)
    synonyms:
    - -n
    args: !SimpleFlagArg
      name: MAX_READS
    optional: true
  - !Flag
    description: Number of threads to use for database search (1)
    synonyms:
    - -t
    args: !SimpleFlagArg
      name: THREADS
    optional: true
  - !Flag
    description: "Path to reference database\nBy default, the MIDAS_DB environmental\
      \ variable is used"
    synonyms:
    - -d
    args: !SimpleFlagArg
      name: DB
    optional: true
  - !Flag
    description: "Remove intermediate files generated by MIDAS (False).\nUseful to\
      \ reduce disk space of MIDAS output"
    synonyms:
    - --remove_temp
    args: !EmptyFlagArg {}
    optional: true
  - !Flag
    description: "Word size for BLAST search (28)\nUse word sizes > 16 for greatest\
      \ efficiency."
    synonyms:
    - --word_size
    args: !SimpleFlagArg
      name: INT
    optional: true
  - !Flag
    description: "Discard reads with alignment identity < MAPID\nBy default gene-specific\
      \ species-level cutoffs are used\nValues between 0-100 accepted"
    synonyms:
    - --mapid
    args: !SimpleFlagArg
      name: FLOAT
    optional: true
  - !Flag
    description: "Discard reads with alignment coverage < ALN_COV (0.75)\nValues between\
      \ 0-1 accepted"
    synonyms:
    - --aln_cov
    args: !SimpleFlagArg
      name: FLOAT
    optional: true
  - !Flag
    description: "Trim reads to READ_LENGTH and discard reads with length < READ_LENGTH\n\
      By default, reads are not trimmed or filtered"
    synonyms:
    - --read_length
    args: !SimpleFlagArg
      name: INT
    optional: true
  parent: *id003
  subcommands: []
  usage: []
  help_flag: !Flag
    description: show this help message and exit
    synonyms:
    - -h
    - --help
    args: !EmptyFlagArg {}
    optional: true
  usage_flag:
  version_flag:
  help_text: "Description: Map reads to a database of phylogenetic marker genes and\
    \ estimate species abundance \n\nThe pipeline can be broken down into the following\
    \ steps:\n  1) align high-quality reads to the database of marker genes with HS-BLASTN\n\
    \  2) use species-level thresholds (94.5-98% DNA identity) to assign reads to\
    \ a species\n  3) probabalistically assign reads that map equally well to 2 or\
    \ more species\n  4) use mapped reads to estimate the sequencing depth and relative\
    \ abundance of species\n\nAfter completion, use 'merge_midas.py species' to build\
    \ the species abundance matrix\nAlso, use 'merge_midas.py snps' or 'merge_midas.py\
    \ genes' to quantify genomic variation for abundant species\n\nUsage: run_midas.py\
    \ species <outdir> [options]\n\npositional arguments:\n  outdir             Path\
    \ to directory to store results.\n                     Directory name should correspond\
    \ to sample identifier\n\noptional arguments:\n  -h, --help         show this\
    \ help message and exit\n  -1 M1              FASTA/FASTQ file containing 1st\
    \ mate if using paired-end reads.\n                     Otherwise FASTA/FASTQ\
    \ containing unpaired reads.\n                     Can be gzip'ed (extension:\
    \ .gz) or bzip2'ed (extension: .bz2)\n  -2 M2              FASTA/FASTQ file containing\
    \ 2nd mate if using paired-end reads.\n                     Can be gzip'ed (extension:\
    \ .gz) or bzip2'ed (extension: .bz2)\n  -n MAX_READS       Number of reads to\
    \ use from input file(s) (use all)\n  -t THREADS         Number of threads to\
    \ use for database search (1)\n  -d DB              Path to reference database\n\
    \                     By default, the MIDAS_DB environmental variable is used\n\
    \  --remove_temp      Remove intermediate files generated by MIDAS (False).\n\
    \                     Useful to reduce disk space of MIDAS output\n  --word_size\
    \ INT    Word size for BLAST search (28)\n                     Use word sizes\
    \ > 16 for greatest efficiency.\n  --mapid FLOAT      Discard reads with alignment\
    \ identity < MAPID\n                     By default gene-specific species-level\
    \ cutoffs are used\n                     Values between 0-100 accepted\n  --aln_cov\
    \ FLOAT    Discard reads with alignment coverage < ALN_COV (0.75)\n          \
    \           Values between 0-1 accepted\n  --read_length INT  Trim reads to READ_LENGTH\
    \ and discard reads with length < READ_LENGTH\n                     By default,\
    \ reads are not trimmed or filtered\n\nExamples:\n1) run with defaults using a\
    \ paired-end metagenome:\nrun_midas.py species /path/to/outdir -1 /path/to/reads_1.fq.gz\
    \ -2 /path/to/reads_2.fq.gz\n\n2) run using a single-end metagenome with 4 CPUs\
    \ and only 4M reads:\nrun_midas.py species /path/to/outdir -1 /path/to/reads_1.fq.gz\
    \ -t 4 -n 4000000\n\n3) run with exactly 80 base-pair reads:\nrun_midas.py species\
    \ /path/to/outdir -1 /path/to/reads_1.fq.gz --read_length 80\n\t\n"
  generated_using: *id004
- !Command
  command: *id006
  positional:
  - !Positional
    description: "Path to directory to store results. \nDirectory name should correspond\
      \ to sample identifier"
    position: 0
    name: outdir
    optional: false
  named:
  - !Flag
    description: "Remove intermediate files generated by MIDAS (False).\nUseful to\
      \ reduce disk space of MIDAS output"
    synonyms:
    - --remove_temp
    args: !EmptyFlagArg {}
    optional: true
  - !Flag
    description: Build bowtie2 database of pangenomes
    synonyms:
    - --build_db
    args: !EmptyFlagArg {}
    optional: true
  - !Flag
    description: Align reads to pangenome database
    synonyms:
    - --align
    args: !EmptyFlagArg {}
    optional: true
  - !Flag
    description: Run samtools mpileup and count 4 alleles across genome
    synonyms:
    - --pileup
    args: !EmptyFlagArg {}
    optional: true
  - !Flag
    description: "Path to reference database\nBy default, the MIDAS_DB environmental\
      \ variable is used"
    synonyms:
    - -d
    args: !SimpleFlagArg
      name: DB
    optional: true
  - !Flag
    description: Include species with >X coverage (3.0)
    synonyms:
    - --species_cov
    args: !SimpleFlagArg
      name: FLOAT
    optional: true
  - !Flag
    description: Include top N most abundant species
    synonyms:
    - --species_topn
    args: !SimpleFlagArg
      name: INT
    optional: true
  - !Flag
    description: Include specified species. Separate ids with a comma
    synonyms:
    - --species_id
    args: !SimpleFlagArg
      name: CHAR
    optional: true
  - !Flag
    description: "FASTA/FASTQ file containing 1st mate if using paired-end reads.\n\
      Otherwise FASTA/FASTQ containing unpaired reads.\nCan be gzip'ed (extension:\
      \ .gz) or bzip2'ed (extension: .bz2)"
    synonyms:
    - '-1'
    args: !SimpleFlagArg
      name: M1
    optional: true
  - !Flag
    description: "FASTA/FASTQ file containing 2nd mate if using paired-end reads.\n\
      Can be gzip'ed (extension: .gz) or bzip2'ed (extension: .bz2)"
    synonyms:
    - '-2'
    args: !SimpleFlagArg
      name: M2
    optional: true
  - !Flag
    description: FASTA/FASTQ file in -1 are paired and contain forward AND reverse
      reads
    synonyms:
    - --interleaved
    args: !EmptyFlagArg {}
    optional: true
  - !Flag
    description: Bowtie2 alignment speed/sensitivity (very-sensitive)
    synonyms:
    - -s
    args: !ChoiceFlagArg
      choices: !!set
        very-fast:
        very-sensitive:
        fast:
        sensitive:
    optional: true
  - !Flag
    description: '# reads to use from input file(s) (use all)'
    synonyms:
    - -n
    args: !SimpleFlagArg
      name: MAX_READS
    optional: true
  - !Flag
    description: Global/local read alignment (global)
    synonyms:
    - -m
    args: !ChoiceFlagArg
      choices: !!set
        global:
        local:
    optional: true
  - !Flag
    description: Number of threads to use (1)
    synonyms:
    - -t
    args: !SimpleFlagArg
      name: THREADS
    optional: true
  - !Flag
    description: Discard reads with alignment identity < MAPID (94.0)
    synonyms:
    - --mapid
    args: !SimpleFlagArg
      name: FLOAT
    optional: true
  - !Flag
    description: Discard reads with mapping quality < MAPQ (20)
    synonyms:
    - --mapq
    args: !SimpleFlagArg
      name: INT
    optional: true
  - !Flag
    description: Discard bases with quality < BASEQ (30)
    synonyms:
    - --baseq
    args: !SimpleFlagArg
      name: INT
    optional: true
  - !Flag
    description: Discard reads with mean quality < READQ (20)
    synonyms:
    - --readq
    args: !SimpleFlagArg
      name: INT
    optional: true
  - !Flag
    description: Discard reads with alignment coverage < ALN_COV (0.75)
    synonyms:
    - --aln_cov
    args: !SimpleFlagArg
      name: FLOAT
    optional: true
  - !Flag
    description: Trim N base-pairs from 3'/right end of read (0)
    synonyms:
    - --trim
    args: !SimpleFlagArg
      name: INT
    optional: true
  - !Flag
    description: Discard discordant read-pairs (False)
    synonyms:
    - --discard
    args: !EmptyFlagArg {}
    optional: true
  - !Flag
    description: 'Enable BAQ: per-base alignment quality (False)'
    synonyms:
    - --baq
    args: !EmptyFlagArg {}
    optional: true
  - !Flag
    description: Adjust MAPQ (False)
    synonyms:
    - --adjust_mq
    args: !EmptyFlagArg {}
    optional: true
  parent: *id003
  subcommands: []
  usage: []
  help_flag: !Flag
    description: show this help message and exit
    synonyms:
    - -h
    - --help
    args: !EmptyFlagArg {}
    optional: true
  usage_flag:
  version_flag:
  help_text: "Description: Map metagenomic reads to a bacterial genome database and\
    \ quantify nucleotide variation\n\nThe pipeline can be broken down into the following\
    \ steps:\n  1) build a database of genome sequences for abundant bacterial species\
    \ (1 representative genome/species)\n  2) use global alignment to map high-quality\
    \ reads to the database\n  3) generate pileups and count variants at each genomic\
    \ site\n\nAfter completion, use 'merge_midas.py snps' to perform multisample SNP\
    \ calling\n  \nUsage: run_midas.py snps <outdir> [options]\n\npositional arguments:\n\
    \  outdir                Path to directory to store results. \n              \
    \          Directory name should correspond to sample identifier\n\noptional arguments:\n\
    \  -h, --help            show this help message and exit\n  --remove_temp    \
    \     Remove intermediate files generated by MIDAS (False).\n                \
    \        Useful to reduce disk space of MIDAS output\n\nPipeline options (choose\
    \ one or more; default=all):\n  --build_db            Build bowtie2 database of\
    \ pangenomes\n  --align               Align reads to pangenome database\n  --pileup\
    \              Run samtools mpileup and count 4 alleles across genome\n\nDatabase\
    \ options (if using --build_db):\n  -d DB                 Path to reference database\n\
    \                        By default, the MIDAS_DB environmental variable is used\n\
    \  --species_cov FLOAT   Include species with >X coverage (3.0)\n  --species_topn\
    \ INT    Include top N most abundant species\n  --species_id CHAR     Include\
    \ specified species. Separate ids with a comma\n\nRead alignment options (if using\
    \ --align):\n  -1 M1                 FASTA/FASTQ file containing 1st mate if using\
    \ paired-end reads.\n                        Otherwise FASTA/FASTQ containing\
    \ unpaired reads.\n                        Can be gzip'ed (extension: .gz) or\
    \ bzip2'ed (extension: .bz2)\n  -2 M2                 FASTA/FASTQ file containing\
    \ 2nd mate if using paired-end reads.\n                        Can be gzip'ed\
    \ (extension: .gz) or bzip2'ed (extension: .bz2)\n  --interleaved         FASTA/FASTQ\
    \ file in -1 are paired and contain forward AND reverse reads\n  -s {very-fast,fast,sensitive,very-sensitive}\n\
    \                        Bowtie2 alignment speed/sensitivity (very-sensitive)\n\
    \  -n MAX_READS          # reads to use from input file(s) (use all)\n  -m {local,global}\
    \     Global/local read alignment (global)\n  -t THREADS            Number of\
    \ threads to use (1)\n\nPileup options (if using --pileup):\n  --mapid FLOAT \
    \        Discard reads with alignment identity < MAPID (94.0)\n  --mapq INT  \
    \          Discard reads with mapping quality < MAPQ (20)\n  --baseq INT     \
    \      Discard bases with quality < BASEQ (30)\n  --readq INT           Discard\
    \ reads with mean quality < READQ (20)\n  --aln_cov FLOAT       Discard reads\
    \ with alignment coverage < ALN_COV (0.75)\n  --trim INT            Trim N base-pairs\
    \ from 3'/right end of read (0)\n  --discard             Discard discordant read-pairs\
    \ (False)\n  --baq                 Enable BAQ: per-base alignment quality (False)\n\
    \  --adjust_mq           Adjust MAPQ (False)\n\nExamples:\n1) run entire pipeline\
    \ using defaults:\nrun_midas.py snps /path/to/outdir -1 /path/to/reads_1.fq.gz\
    \ -2 /path/to/reads_2.fq.gz\n\t\t\t\n2) run entire pipeline for a specific species:\n\
    run_midas.py snps /path/to/outdir --species_id Bacteroides_vulgatus_57955 -1 /path/to/reads_1.fq.gz\
    \ -2 /path/to/reads_2.fq.gz\n\n3) use local read alignment and discard alignments\
    \ that cover reads by < 75% (default is global alignment):\nrun_midas.py snps\
    \ /path/to/outdir -1 /path/to/reads_1.fq.gz -2 /path/to/reads_2.fq.gz -m local\
    \ --aln_cov 0.75\n\n4) just align reads, use faster alignment, only use the first\
    \ 10M reads, use 4 CPUs:\nrun_midas.py snps /path/to/outdir --align -1 /path/to/reads_1.fq.gz\
    \ -2 /path/to/reads_2.fq.gz -s very-fast -n 10000000 -t 4\n\n5) just count variants,\
    \ keep reads with >=95% alignment identity and keep bases with quality-scores\
    \ >=35:\nrun_midas.py snps /path/to/outdir --pileup --mapid 95 --baseq 35\n\t\n"
  generated_using: *id004
usage: []
help_flag:
usage_flag:
version_flag:
help_text: "Description: Estimate species abundance and intra-species genomic variation\
  \ from an individual metagenome\n\nUsage: run_midas.py <command> [options]\n\nCommands:\n\
  \tspecies\t estimate the abundance of 5,952 bacterial species\n\tgenes\t quantify\
  \ gene copy number variation in abundant species\n\tsnps\t quantify single nucleotide\
  \ variation in abundant species\n\nNote: use run_midas.py <command> -h to view usage\
  \ for a specific command\n"
generated_using: *id004
