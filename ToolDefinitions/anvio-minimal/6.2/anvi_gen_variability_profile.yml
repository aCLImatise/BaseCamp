!Command
command:
- anvi-gen-variability-profile
positional: []
named:
- !Flag
  optional: true
  synonyms:
  - -p
  - --profile-db
  description: Anvi'o profile database
  args: !SimpleFlagArg
    name: PROFILE_DB
- !Flag
  optional: true
  synonyms:
  - -c
  - --contigs-db
  description: "Anvi'o contigs database generated by 'anvi-gen-\ncontigs'"
  args: !SimpleFlagArg
    name: CONTIGS_DB
- !Flag
  optional: true
  synonyms:
  - -s
  - --structure-db
  description: Anvi'o structure database.
  args: !SimpleFlagArg
    name: STRUCTURE_DB
- !Flag
  optional: true
  synonyms:
  - -C
  - --collection-name
  description: Collection name.
  args: !SimpleFlagArg
    name: COLLECTION_NAME
- !Flag
  optional: true
  synonyms:
  - -b
  - --bin-id
  description: Bin name you are interested in.
  args: !SimpleFlagArg
    name: BIN_NAME
- !Flag
  optional: true
  synonyms:
  - --splits-of-interest
  description: "A file with split names. There should be only one\ncolumn in the file,\
    \ and each line should correspond to\na unique split name."
  args: !SimpleFlagArg
    name: FILE
- !Flag
  optional: true
  synonyms:
  - --genes-of-interest
  description: "A file with anvi'o gene caller IDs. There should be\nonly one column\
    \ in the file, and each line should\ncorrespond to a unique gene caller id (without\
    \ a\ncolumn header)."
  args: !SimpleFlagArg
    name: FILE
- !Flag
  optional: true
  synonyms:
  - --gene-caller-ids
  description: "Gene caller ids. Multiple of them can be declared\nseparated by a\
    \ delimiter (the default is a comma). In\nanvi-gen-variability-profile, if you\
    \ declare nothing\nyou will get all genes matching your other filtering\ncriteria.\
    \ In other programs, you may get everything,\nnothing, or an error. It really\
    \ depends on the\nsituation. Fortunately, mistakes are cheap, so it's\nworth a\
    \ try."
  args: !SimpleFlagArg
    name: GENE_CALLER_IDS
- !Flag
  optional: true
  synonyms:
  - --only-if-structure
  description: "If provided, your genes of interest will be further\nsubset to only\
    \ include genes with structures in your\nstructure database, and therefore must\
    \ be supplied in\nconjunction with a structure database, i.e. `-s\n<your_structure_database>`.\
    \ If you did not specify\ngenes of interest, ALL genes will be subset to those\n\
    that have structures."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --samples-of-interest
  description: "A file with samples names. There should be only one\ncolumn in the\
    \ file, and each line should correspond to\na unique sample name (without a column\
    \ header)."
  args: !SimpleFlagArg
    name: FILE
- !Flag
  optional: true
  synonyms:
  - --engine
  description: Variability engine. The default is 'NT'.
  args: !SimpleFlagArg
    name: ENGINE
- !Flag
  optional: true
  synonyms:
  - --skip-synonymity
  description: "Computing synonymity can be an expensive operation for\nlarge data\
    \ sets. Provide this flag to skip computing\nsynonymity. It only makes sense to\
    \ provide this flag\nwhen using --engine CDN."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --num-positions-from-each-split
  description: "Each split may have one or more variable positions. By\ndefault, anvi'o\
    \ will report every SNV position found\nin a given split. This parameter will\
    \ help you to\ndefine a cutoff for the maximum number of SNVs to be\nreported\
    \ from a split (if the number of SNVs is more\nthan the number you declare using\
    \ this parameter, the\npositions will be randomly subsampled)."
  args: !SimpleFlagArg
    name: INT
- !Flag
  optional: true
  synonyms:
  - -r
  - --min-departure-from-reference
  description: "Takes a value between 0 and 1, where 1 is maximum\ndivergence from\
    \ the reference. Default is 0.000000.\nThe reference here observation that corresponds\
    \ to a\ngiven position in the mapped context."
  args: !SimpleFlagArg
    name: FLOAT
- !Flag
  optional: true
  synonyms:
  - -z
  - --max-departure-from-reference
  description: "Similar to '--min-departure-from-reference', but\ndefines an upper\
    \ limit for divergence. The default is\n1.000000."
  args: !SimpleFlagArg
    name: FLOAT
- !Flag
  optional: true
  synonyms:
  - -j
  - --min-departure-from-consensus
  description: "Takes a value between 0 and 1, where 1 is maximum\ndivergence from\
    \ the consensus for a given position.\nThe default is 0.000000. The consensus\
    \ is the most\nfrequent observation at a given position."
  args: !SimpleFlagArg
    name: FLOAT
- !Flag
  optional: true
  synonyms:
  - -a
  - --max-departure-from-consensus
  description: "Similar to '--min-departure-from-consensus', but\ndefines an upper\
    \ limit for divergence. The default is\n1.000000."
  args: !SimpleFlagArg
    name: FLOAT
- !Flag
  optional: true
  synonyms:
  - -x
  - --min-occurrence
  description: "Minimum number of samples a nucleotide position should\nbe reported\
    \ as variable. Default is 1. If you set it\nto 2, for instance, each eligible\
    \ variable position\nwill be expected to appear in at least two samples,\nwhich\
    \ will reduce the impact of stochastic, or\nunintelligible variable positions."
  args: !SimpleFlagArg
    name: NUM_SAMPLES
- !Flag
  optional: true
  synonyms:
  - --min-coverage-in-each-sample
  description: "Minimum coverage of a given variable nucleotide\nposition in all samples.\
    \ If a nucleotide position is\ncovered less than this value even in one sample,\
    \ it\nwill be removed from the analysis. Default is 0."
  args: !SimpleFlagArg
    name: INT
- !Flag
  optional: true
  synonyms:
  - --quince-mode
  description: "The default behavior is to report base frequencies of\nnucleotide\
    \ positions only if there is any variation\nreported during profiling (which by\
    \ default uses some\nheuristics to minimize the impact of error-driven\nvariation).\
    \ So, if there are 10 samples, and a given\nposition has been reported as a variable\
    \ site during\nprofiling in only one of those samples, there will be\nno information\
    \ will be stored in the database for the\nremaining 9. When this flag is used,\
    \ we go back to\neach sample, and report base frequencies for each\nsample at\
    \ this position even if they do not vary. It\nwill take considerably longer to\
    \ report when this flag\nis on, and the use of it will increase the file size\n\
    dramatically, however it is inevitable for some\nstatistical approaches (as well\
    \ as for some beautiful\nvisualizations)."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - -o
  - --output-file
  description: File path to store results.
  args: !SimpleFlagArg
    name: VARIABILITY_PROFILE
- !Flag
  optional: true
  synonyms:
  - --include-contig-names
  description: "Use this flag if you would like contig names for each\nvariable position\
    \ to be included in the output file as\na column. By default, we do not include\
    \ contig names\nsince they can practically double the output file size\nwithout\
    \ any actual benefit in most cases."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --include-split-names
  description: "Use this flag if you would like split names for each\nvariable position\
    \ to be included in the output file as\na column."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --compute-gene-coverage-stats
  description: "If provided, gene coverage statistics will be appended\nfor each entry\
    \ in variability report. This is very\nuseful information, but will not be included\
    \ by\ndefault because it is an expensive operation, and may\ntake some additional\
    \ time.\n"
  args: !EmptyFlagArg {}
parent:
subcommands: []
usage: []
help_flag: !Flag
  optional: true
  synonyms:
  - -h
  - --help
  description: show this help message and exit
  args: !EmptyFlagArg {}
usage_flag:
version_flag:
help_text: "usage: anvi-gen-variability-profile [-h] -p PROFILE_DB -c CONTIGS_DB\n\
  \                                    [-s STRUCTURE_DB] [-C COLLECTION_NAME]\n  \
  \                                  [-b BIN_NAME] [--splits-of-interest FILE]\n \
  \                                   [--genes-of-interest FILE]\n               \
  \                     [--gene-caller-ids GENE_CALLER_IDS]\n                    \
  \                [--only-if-structure]\n                                    [--samples-of-interest\
  \ FILE]\n                                    [--engine ENGINE] [--skip-synonymity]\n\
  \                                    [--num-positions-from-each-split INT]\n   \
  \                                 [-r FLOAT] [-z FLOAT] [-j FLOAT]\n           \
  \                         [-a FLOAT] [-x NUM_SAMPLES]\n                        \
  \            [--min-coverage-in-each-sample INT]\n                             \
  \       [--quince-mode] [-o VARIABILITY_PROFILE]\n                             \
  \       [--include-contig-names]\n                                    [--include-split-names]\n\
  \                                    [--compute-gene-coverage-stats]\n\nGenerate\
  \ a table that comprehensively summarizes the variability of\nnucleotide, codon,\
  \ or amino acid positions. We call these single nucleotide\nvariants (SNVs), single\
  \ codon variants (SCVs), and single amino acid variants\n(SAAVs), respectively.\
  \ Learn more here:\nhttp://merenlab.org/2015/07/20/analyzing-variability/\n\noptional\
  \ arguments:\n  -h, --help            show this help message and exit\n\nDATABASES:\n\
  \  Declaring relevant anvi'o databases. First things first. Some are\n  mandatory,\
  \ some are optional.\n\n  -p PROFILE_DB, --profile-db PROFILE_DB\n             \
  \           Anvi'o profile database\n  -c CONTIGS_DB, --contigs-db CONTIGS_DB\n\
  \                        Anvi'o contigs database generated by 'anvi-gen-\n     \
  \                   contigs'\n  -s STRUCTURE_DB, --structure-db STRUCTURE_DB\n \
  \                       Anvi'o structure database.\n\nFOCUS :: BIN:\n  You need\
  \ to pick someting to focus. You can ask anvi'o to work with a bin\n  in a collection.\n\
  \n  -C COLLECTION_NAME, --collection-name COLLECTION_NAME\n                    \
  \    Collection name.\n  -b BIN_NAME, --bin-id BIN_NAME\n                      \
  \  Bin name you are interested in.\n\nFOCUS :: SPLIT NAMES:\n  Alternatively you\
  \ can declare split names to focus.\n\n  --splits-of-interest FILE\n           \
  \             A file with split names. There should be only one\n              \
  \          column in the file, and each line should correspond to\n            \
  \            a unique split name.\n\nFOCUS :: GENE CALLER IDs:\n  Alternatively\
  \ you can declare gene caller IDs to focus.\n\n  --genes-of-interest FILE\n    \
  \                    A file with anvi'o gene caller IDs. There should be\n     \
  \                   only one column in the file, and each line should\n        \
  \                correspond to a unique gene caller id (without a\n            \
  \            column header).\n  --gene-caller-ids GENE_CALLER_IDS\n            \
  \            Gene caller ids. Multiple of them can be declared\n               \
  \         separated by a delimiter (the default is a comma). In\n              \
  \          anvi-gen-variability-profile, if you declare nothing\n              \
  \          you will get all genes matching your other filtering\n              \
  \          criteria. In other programs, you may get everything,\n              \
  \          nothing, or an error. It really depends on the\n                    \
  \    situation. Fortunately, mistakes are cheap, so it's\n                     \
  \   worth a try.\n  --only-if-structure   If provided, your genes of interest will\
  \ be further\n                        subset to only include genes with structures\
  \ in your\n                        structure database, and therefore must be supplied\
  \ in\n                        conjunction with a structure database, i.e. `-s\n\
  \                        <your_structure_database>`. If you did not specify\n  \
  \                      genes of interest, ALL genes will be subset to those\n  \
  \                      that have structures.\n\nSAMPLES:\n  You can ask anvi'o to\
  \ focus only on a subset of samples.\n\n  --samples-of-interest FILE\n         \
  \               A file with samples names. There should be only one\n          \
  \              column in the file, and each line should correspond to\n        \
  \                a unique sample name (without a column header).\n\nENGINE:\n  Set\
  \ your engine. This is important as it will define the output profile\n  you will\
  \ get from this program. The engine can focus on nucleotides (NT),\n  codons (CDN),\
  \ or an amino acids (AA).\n\n  --engine ENGINE       Variability engine. The default\
  \ is 'NT'.\n  --skip-synonymity     Computing synonymity can be an expensive operation\
  \ for\n                        large data sets. Provide this flag to skip computing\n\
  \                        synonymity. It only makes sense to provide this flag\n\
  \                        when using --engine CDN.\n\nFILTERS:\n  Parameters that\
  \ will help you to do a very precise analysis. If you\n  declare nothing from this\
  \ bunch, you will get \"everything\" to play with,\n  which is not necessarily a\
  \ good thing...\n\n  --num-positions-from-each-split INT\n                     \
  \   Each split may have one or more variable positions. By\n                   \
  \     default, anvi'o will report every SNV position found\n                   \
  \     in a given split. This parameter will help you to\n                      \
  \  define a cutoff for the maximum number of SNVs to be\n                      \
  \  reported from a split (if the number of SNVs is more\n                      \
  \  than the number you declare using this parameter, the\n                     \
  \   positions will be randomly subsampled).\n  -r FLOAT, --min-departure-from-reference\
  \ FLOAT\n                        Takes a value between 0 and 1, where 1 is maximum\n\
  \                        divergence from the reference. Default is 0.000000.\n \
  \                       The reference here observation that corresponds to a\n \
  \                       given position in the mapped context.\n  -z FLOAT, --max-departure-from-reference\
  \ FLOAT\n                        Similar to '--min-departure-from-reference', but\n\
  \                        defines an upper limit for divergence. The default is\n\
  \                        1.000000.\n  -j FLOAT, --min-departure-from-consensus FLOAT\n\
  \                        Takes a value between 0 and 1, where 1 is maximum\n   \
  \                     divergence from the consensus for a given position.\n    \
  \                    The default is 0.000000. The consensus is the most\n      \
  \                  frequent observation at a given position.\n  -a FLOAT, --max-departure-from-consensus\
  \ FLOAT\n                        Similar to '--min-departure-from-consensus', but\n\
  \                        defines an upper limit for divergence. The default is\n\
  \                        1.000000.\n  -x NUM_SAMPLES, --min-occurrence NUM_SAMPLES\n\
  \                        Minimum number of samples a nucleotide position should\n\
  \                        be reported as variable. Default is 1. If you set it\n\
  \                        to 2, for instance, each eligible variable position\n \
  \                       will be expected to appear in at least two samples,\n  \
  \                      which will reduce the impact of stochastic, or\n        \
  \                unintelligible variable positions.\n  --min-coverage-in-each-sample\
  \ INT\n                        Minimum coverage of a given variable nucleotide\n\
  \                        position in all samples. If a nucleotide position is\n\
  \                        covered less than this value even in one sample, it\n \
  \                       will be removed from the analysis. Default is 0.\n  --quince-mode\
  \         The default behavior is to report base frequencies of\n              \
  \          nucleotide positions only if there is any variation\n               \
  \         reported during profiling (which by default uses some\n              \
  \          heuristics to minimize the impact of error-driven\n                 \
  \       variation). So, if there are 10 samples, and a given\n                 \
  \       position has been reported as a variable site during\n                 \
  \       profiling in only one of those samples, there will be\n                \
  \        no information will be stored in the database for the\n               \
  \         remaining 9. When this flag is used, we go back to\n                 \
  \       each sample, and report base frequencies for each\n                    \
  \    sample at this position even if they do not vary. It\n                    \
  \    will take considerably longer to report when this flag\n                  \
  \      is on, and the use of it will increase the file size\n                  \
  \      dramatically, however it is inevitable for some\n                       \
  \ statistical approaches (as well as for some beautiful\n                      \
  \  visualizations).\n\nOUTPUT:\n  Output file and style\n\n  -o VARIABILITY_PROFILE,\
  \ --output-file VARIABILITY_PROFILE\n                        File path to store\
  \ results.\n  --include-contig-names\n                        Use this flag if you\
  \ would like contig names for each\n                        variable position to\
  \ be included in the output file as\n                        a column. By default,\
  \ we do not include contig names\n                        since they can practically\
  \ double the output file size\n                        without any actual benefit\
  \ in most cases.\n  --include-split-names\n                        Use this flag\
  \ if you would like split names for each\n                        variable position\
  \ to be included in the output file as\n                        a column.\n  --compute-gene-coverage-stats\n\
  \                        If provided, gene coverage statistics will be appended\n\
  \                        for each entry in variability report. This is very\n  \
  \                      useful information, but will not be included by\n       \
  \                 default because it is an expensive operation, and may\n      \
  \                  take some additional time.\n"
generated_using:
- --help
docker_image:
