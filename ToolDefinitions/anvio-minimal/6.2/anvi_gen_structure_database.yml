!Command
command:
- anvi-gen-structure-database
positional: []
named:
- !Flag
  description: "Anvi'o contigs database generated by 'anvi-gen-\ncontigs'"
  synonyms:
  - -c
  - --contigs-db
  args: !SimpleFlagArg
    name: CONTIGS_DB
  optional: true
- !Flag
  description: "By default, this program accesses the structure files\nit needs from\
    \ an internal anvi'o database that can be\nset up with anvi-setup-pdb-database.\
    \ If a required\nstructure is not in this database, it will instead be\ndownloaded\
    \ from the RCSB PDB server. This parameter\nexists only if a) you created a database\
    \ and b) it\nexists in a custom location. In this case, please\nprovide that path\
    \ here. Otherwise we vibing."
  synonyms:
  - --pdb-db
  args: !SimpleFlagArg
    name: PDB_DB
  optional: true
- !Flag
  description: "A file with anvi'o gene caller IDs. There should be\nonly one column\
    \ in the file, and each line should\ncorrespond to a unique gene caller id (without\
    \ a\ncolumn header)."
  synonyms:
  - --genes-of-interest
  args: !SimpleFlagArg
    name: FILE
  optional: true
- !Flag
  description: "Gene caller ids. Multiple of them can be declared\nseparated by a\
    \ delimiter (the default is a comma). In\nanvi-gen-variability-profile, if you\
    \ declare nothing\nyou will get all genes matching your other filtering\ncriteria.\
    \ In other programs, you may get everything,\nnothing, or an error. It really\
    \ depends on the\nsituation. Fortunately, mistakes are cheap, so it's\nworth a\
    \ try."
  synonyms:
  - --gene-caller-ids
  args: !SimpleFlagArg
    name: GENE_CALLER_IDS
  optional: true
- !Flag
  description: Output file path for the new database.
  synonyms:
  - -o
  - --output-db-path
  args: !SimpleFlagArg
    name: DB_FILE_PATH
  optional: true
- !Flag
  description: "Modeling and annotating structures requires a lot of\nmoving parts,\
    \ each which have their own outputs. The\noutput of this program is a structure\
    \ database\ncontaining the pertinent results of this computation,\nhowever a lot\
    \ of stuff doesn't make the cut. By\nproviding a directory for this parameter\
    \ you will get,\nin addition to the structure database, a directory\ncontaining\
    \ the raw output for everything."
  synonyms:
  - --dump-dir
  args: !SimpleFlagArg
    name: DUMP_DIR
  optional: true
- !Flag
  description: "This parameter determines the number of predicted\nstructures that\
    \ are solved for a given protein. The\noriginal atomic positions for each model\
    \ are perturbed\nby an amount defined by --deviation, which leads to\ndifferences\
    \ between each model. Therefore, whichever\nof the N models is chosen to be the\
    \ \"best\" model is\nmore likely to be accurate when --num-models is high,\nsince\
    \ more of the solution space is searched. It\nshould be kept in mind that the\
    \ largest determinant of\na model's accuracy is determined by the protein\ntemplates\
    \ used, so no need to go overboard with an\nexcessively large --num-models. The\
    \ default is 1."
  synonyms:
  - --num-models
  - -N
  args: !SimpleFlagArg
    name: NUM_MODELS
  optional: true
- !Flag
  description: Deviation (angstroms)
  synonyms:
  - --deviation
  - -d
  args: !SimpleFlagArg
    name: DEVIATION
  optional: true
- !Flag
  description: "Which database do you want to search the structures\nof? Default is\
    \ \"pdb_95\". If you have your own database\nit must have either the extension\
    \ .bin or .pir. If you\ndon't have a database or don't know what this means,\n\
    don't worry, we will both inform you and take care of\nyou."
  synonyms:
  - --modeller-database
  - -D
  args: !SimpleFlagArg
    name: MODELLER_DATABASE
  optional: true
- !Flag
  description: "How should the best model be decided? The metric used\ncould be any\
    \ of GA341_score, DOPE_score, and molpdf.\nGA341 is an absolute measure, where\
    \ a good model will\nhave a score near 1.0, whereas anything below 0.6 can\nbe\
    \ considered bad. DOPE and molpdf scores are relative\nenergy measures, where\
    \ lower scores are better. DOPE\nhas been generally shown to be a better distinguisher\n\
    between good and bad models than molpdf. By default,\nDOPE is used. To learn more\
    \ see the MODELLER tutorial:\nhttps://salilab.org/modeller/tutorial/basic.html."
  synonyms:
  - --scoring-method
  - -b
  args: !SimpleFlagArg
    name: SCORING_METHOD
  optional: true
- !Flag
  description: "If provided, a very fast optimization is done for each\nmodel at the\
    \ cost of accuracy. It is recommended to\nuse a --num-models of 1, since the optimization\
    \ is so\ncrude that all models will likely converge to the same\nsolution."
  synonyms:
  - --very-fast
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: "If a protein in the database has a proper percent\nidentity to the\
    \ gene of interest that is greater than\nor equal to --percent-identical-cutoff,\
    \ then it is\nused as a template. Otherwise it is not. Here we\ndefine proper\
    \ percent identity as the percentage of\namino acids in the gene of interest that\
    \ are identical\nto an entry in the database given the sequence length\nof the\
    \ gene of interest. For example, if there is 100%\nidentity between the gene of\
    \ interest and the template\nover the length of the alignment, but the alignment\n\
    length is only half of the gene of interest sequence\nlength, then the proper\
    \ percent identical is 50%.\n(This helps us avoid the inflation of identity scores\n\
    due to only partially good matches). The default is\n30."
  synonyms:
  - --percent-identical-cutoff
  - -p
  args: !SimpleFlagArg
    name: PERCENT_IDENTICAL_CUTOFF
  optional: true
- !Flag
  description: "Generally speaking it is best to use as many templates\nas possible\
    \ given that they have high proper percent\nidentity to the gene of interest.\
    \ Taken from https://s\nalilab.org/modeller/methenz/andras/node4.html: 'The\n\
    use of several templates generally increases the model\naccuracy. One strength\
    \ of MODELLER is that it can\ncombine information from multiple template structures,\n\
    in two ways. First, multiple template structures may\nbe aligned with different\
    \ domains of the target, with\nlittle overlap between them, in which case the\n\
    modeling procedure can construct a homology-based\nmodel of the whole target sequence.\
    \ Second, the\ntemplate structures may be aligned with the same part\nof the target,\
    \ in which case the modeling procedure is\nlikely to automatically build the model\
    \ on the locally\nbest template [43,44]. In general, it is frequently\nbeneficial\
    \ to include in the modeling process all the\ntemplates that differ substantially\
    \ from each other,\nif they share approximately the same overall\nsimilarity to\
    \ the target sequence.' The default is 5."
  synonyms:
  - --max-number-templates
  - -t
  args: !SimpleFlagArg
    name: MAX_NUMBER_TEMPLATES
  optional: true
- !Flag
  description: "Dictionary of Secondary Structure of Proteins (DSSP)\nis a program\
    \ that takes as its input a protein\nstructure file and outputs predicted secondary\n\
    structure (alpha helix, beta strand, etc.), measures\nof solvent accessibility,\
    \ and hydrogen bonds for each\nresidue in the protein. If for some reason you\
    \ don't\nwant this, provide this flag."
  synonyms:
  - --skip-DSSP
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: "The MODELLER program to use. For example, `mod9.19`.\nAnvi'o will\
    \ try and find it if not provided"
  synonyms:
  - --modeller-executable
  args: !SimpleFlagArg
    name: MODELLER_EXECUTABLE
  optional: true
- !Flag
  description: "Anvi'o first tries to obtain template structures from\na database\
    \ (see --pdb-db for details). If the\nrequested template does not exist in the\
    \ database, its\nstructure will be downloaded from the RCSB PDB server.\nHowever,\
    \ if you don't have access to internet, or hate\nthe RCSB PDB, provide this flag\
    \ so that all operations\nof this program remain offline. If the template\nstructure\
    \ is not in the database, then no template\nstructure for you."
  synonyms:
  - --offline-mode
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: "Maximum number of threads to use for multithreading\nwhenever possible.\
    \ Very conservatively, the default is\n1. It is a good idea to not exceed the\
    \ number of CPUs\n/ cores on your system. Plus, please be careful with\nthis option\
    \ if you are running your commands on a SGE\n--if you are clusterizing your runs,\
    \ and asking for\nmultiple threads to use, you may deplete your\nresources very\
    \ fast."
  synonyms:
  - -T
  - --num-threads
  args: !SimpleFlagArg
    name: NUM_THREADS
  optional: true
- !Flag
  description: "How many items should be kept in memory before they\nare written do\
    \ the disk. The default is 25 per thread.\nSo a single-threaded job would have\
    \ a write buffer\nsize of 25, whereas a job with 4 threads would have a\nwrite\
    \ buffer size of 4*25. The larger the buffer size,\nthe less frequent the program\
    \ will access to the disk,\nyet the more memory will be consumed since the\nprocessed\
    \ items will be cleared off the memory only\nafter they are written to the disk.\
    \ The default buffer\nsize will likely work for most cases. Please keep an\neye\
    \ on the memory usage output to make sure the memory\nuse never exceeds the size\
    \ of the physical memory. If\n--num-threads is 1, this parameter is ignored because\n\
    the DB is written to after each gene\n"
  synonyms:
  - --write-buffer-size-per-thread
  args: !SimpleFlagArg
    name: INT
  optional: true
parent:
subcommands: []
usage: []
help_flag: !Flag
  description: show this help message and exit
  synonyms:
  - -h
  - --help
  args: !EmptyFlagArg {}
  optional: true
usage_flag:
version_flag:
help_text: "usage: anvi-gen-structure-database [-h] -c CONTIGS_DB [--pdb-db PDB_DB]\n\
  \                                   [--genes-of-interest FILE]\n               \
  \                    [--gene-caller-ids GENE_CALLER_IDS]\n                     \
  \              [-o DB_FILE_PATH] [--dump-dir DUMP_DIR]\n                       \
  \            [--num-models NUM_MODELS]\n                                   [--deviation\
  \ DEVIATION]\n                                   [--modeller-database MODELLER_DATABASE]\n\
  \                                   [--scoring-method SCORING_METHOD]\n        \
  \                           [--very-fast]\n                                   [--percent-identical-cutoff\
  \ PERCENT_IDENTICAL_CUTOFF]\n                                   [--max-number-templates\
  \ MAX_NUMBER_TEMPLATES]\n                                   [--skip-DSSP]\n    \
  \                               [--modeller-executable MODELLER_EXECUTABLE]\n  \
  \                                 [--offline-mode] [-T NUM_THREADS]\n          \
  \                         [--write-buffer-size-per-thread INT]\n\nIdentifies genes\
  \ in your contigs database that encode proteins that are\nhomologous to proteins\
  \ with solved structures. If sufficiently similar\nhomologs are identified, they\
  \ are used as structural templates to predict the\n3D structure of proteins in your\
  \ contigs database. See our tutorial:\nhttp://merenlab.org/2018/09/04/structural-biology-with-anvio/\n\
  \noptional arguments:\n  -h, --help            show this help message and exit\n\
  \nDATABASES:\n  Declaring relevant anvi'o databases. First things first.\n\n  -c\
  \ CONTIGS_DB, --contigs-db CONTIGS_DB\n                        Anvi'o contigs database\
  \ generated by 'anvi-gen-\n                        contigs'\n  --pdb-db PDB_DB \
  \      By default, this program accesses the structure files\n                 \
  \       it needs from an internal anvi'o database that can be\n                \
  \        set up with anvi-setup-pdb-database. If a required\n                  \
  \      structure is not in this database, it will instead be\n                 \
  \       downloaded from the RCSB PDB server. This parameter\n                  \
  \      exists only if a) you created a database and b) it\n                    \
  \    exists in a custom location. In this case, please\n                       \
  \ provide that path here. Otherwise we vibing.\n\nGENES:\n  Specifying which genes\
  \ you want to be modelled.\n\n  --genes-of-interest FILE\n                     \
  \   A file with anvi'o gene caller IDs. There should be\n                      \
  \  only one column in the file, and each line should\n                        correspond\
  \ to a unique gene caller id (without a\n                        column header).\n\
  \  --gene-caller-ids GENE_CALLER_IDS\n                        Gene caller ids. Multiple\
  \ of them can be declared\n                        separated by a delimiter (the\
  \ default is a comma). In\n                        anvi-gen-variability-profile,\
  \ if you declare nothing\n                        you will get all genes matching\
  \ your other filtering\n                        criteria. In other programs, you\
  \ may get everything,\n                        nothing, or an error. It really depends\
  \ on the\n                        situation. Fortunately, mistakes are cheap, so\
  \ it's\n                        worth a try.\n\nOUTPUT:\n  Output file and output\
  \ style.\n\n  -o DB_FILE_PATH, --output-db-path DB_FILE_PATH\n                 \
  \       Output file path for the new database.\n  --dump-dir DUMP_DIR   Modeling\
  \ and annotating structures requires a lot of\n                        moving parts,\
  \ each which have their own outputs. The\n                        output of this\
  \ program is a structure database\n                        containing the pertinent\
  \ results of this computation,\n                        however a lot of stuff doesn't\
  \ make the cut. By\n                        providing a directory for this parameter\
  \ you will get,\n                        in addition to the structure database,\
  \ a directory\n                        containing the raw output for everything.\n\
  \nMODELLER PARAMS:\n  Parameters for MODELLER's homology modeling.\n\n  --num-models\
  \ NUM_MODELS, -N NUM_MODELS\n                        This parameter determines the\
  \ number of predicted\n                        structures that are solved for a\
  \ given protein. The\n                        original atomic positions for each\
  \ model are perturbed\n                        by an amount defined by --deviation,\
  \ which leads to\n                        differences between each model. Therefore,\
  \ whichever\n                        of the N models is chosen to be the \"best\"\
  \ model is\n                        more likely to be accurate when --num-models\
  \ is high,\n                        since more of the solution space is searched.\
  \ It\n                        should be kept in mind that the largest determinant\
  \ of\n                        a model's accuracy is determined by the protein\n\
  \                        templates used, so no need to go overboard with an\n  \
  \                      excessively large --num-models. The default is 1.\n  --deviation\
  \ DEVIATION, -d DEVIATION\n                        Deviation (angstroms)\n  --modeller-database\
  \ MODELLER_DATABASE, -D MODELLER_DATABASE\n                        Which database\
  \ do you want to search the structures\n                        of? Default is \"\
  pdb_95\". If you have your own database\n                        it must have either\
  \ the extension .bin or .pir. If you\n                        don't have a database\
  \ or don't know what this means,\n                        don't worry, we will both\
  \ inform you and take care of\n                        you.\n  --scoring-method\
  \ SCORING_METHOD, -b SCORING_METHOD\n                        How should the best\
  \ model be decided? The metric used\n                        could be any of GA341_score,\
  \ DOPE_score, and molpdf.\n                        GA341 is an absolute measure,\
  \ where a good model will\n                        have a score near 1.0, whereas\
  \ anything below 0.6 can\n                        be considered bad. DOPE and molpdf\
  \ scores are relative\n                        energy measures, where lower scores\
  \ are better. DOPE\n                        has been generally shown to be a better\
  \ distinguisher\n                        between good and bad models than molpdf.\
  \ By default,\n                        DOPE is used. To learn more see the MODELLER\
  \ tutorial:\n                        https://salilab.org/modeller/tutorial/basic.html.\n\
  \  --very-fast           If provided, a very fast optimization is done for each\n\
  \                        model at the cost of accuracy. It is recommended to\n \
  \                       use a --num-models of 1, since the optimization is so\n\
  \                        crude that all models will likely converge to the same\n\
  \                        solution.\n  --percent-identical-cutoff PERCENT_IDENTICAL_CUTOFF,\
  \ -p PERCENT_IDENTICAL_CUTOFF\n                        If a protein in the database\
  \ has a proper percent\n                        identity to the gene of interest\
  \ that is greater than\n                        or equal to --percent-identical-cutoff,\
  \ then it is\n                        used as a template. Otherwise it is not. Here\
  \ we\n                        define proper percent identity as the percentage of\n\
  \                        amino acids in the gene of interest that are identical\n\
  \                        to an entry in the database given the sequence length\n\
  \                        of the gene of interest. For example, if there is 100%\n\
  \                        identity between the gene of interest and the template\n\
  \                        over the length of the alignment, but the alignment\n \
  \                       length is only half of the gene of interest sequence\n \
  \                       length, then the proper percent identical is 50%.\n    \
  \                    (This helps us avoid the inflation of identity scores\n   \
  \                     due to only partially good matches). The default is\n    \
  \                    30.\n  --max-number-templates MAX_NUMBER_TEMPLATES, -t MAX_NUMBER_TEMPLATES\n\
  \                        Generally speaking it is best to use as many templates\n\
  \                        as possible given that they have high proper percent\n\
  \                        identity to the gene of interest. Taken from https://s\n\
  \                        alilab.org/modeller/methenz/andras/node4.html: 'The\n \
  \                       use of several templates generally increases the model\n\
  \                        accuracy. One strength of MODELLER is that it can\n   \
  \                     combine information from multiple template structures,\n \
  \                       in two ways. First, multiple template structures may\n \
  \                       be aligned with different domains of the target, with\n\
  \                        little overlap between them, in which case the\n      \
  \                  modeling procedure can construct a homology-based\n         \
  \               model of the whole target sequence. Second, the\n              \
  \          template structures may be aligned with the same part\n             \
  \           of the target, in which case the modeling procedure is\n           \
  \             likely to automatically build the model on the locally\n         \
  \               best template [43,44]. In general, it is frequently\n          \
  \              beneficial to include in the modeling process all the\n         \
  \               templates that differ substantially from each other,\n         \
  \               if they share approximately the same overall\n                 \
  \       similarity to the target sequence.' The default is 5.\n\nEXTRA:\n  Everything\
  \ else.\n\n  --skip-DSSP           Dictionary of Secondary Structure of Proteins\
  \ (DSSP)\n                        is a program that takes as its input a protein\n\
  \                        structure file and outputs predicted secondary\n      \
  \                  structure (alpha helix, beta strand, etc.), measures\n      \
  \                  of solvent accessibility, and hydrogen bonds for each\n     \
  \                   residue in the protein. If for some reason you don't\n     \
  \                   want this, provide this flag.\n  --modeller-executable MODELLER_EXECUTABLE\n\
  \                        The MODELLER program to use. For example, `mod9.19`.\n\
  \                        Anvi'o will try and find it if not provided\n  --offline-mode\
  \        Anvi'o first tries to obtain template structures from\n               \
  \         a database (see --pdb-db for details). If the\n                      \
  \  requested template does not exist in the database, its\n                    \
  \    structure will be downloaded from the RCSB PDB server.\n                  \
  \      However, if you don't have access to internet, or hate\n                \
  \        the RCSB PDB, provide this flag so that all operations\n              \
  \          of this program remain offline. If the template\n                   \
  \     structure is not in the database, then no template\n                     \
  \   structure for you.\n  -T NUM_THREADS, --num-threads NUM_THREADS\n          \
  \              Maximum number of threads to use for multithreading\n           \
  \             whenever possible. Very conservatively, the default is\n         \
  \               1. It is a good idea to not exceed the number of CPUs\n        \
  \                / cores on your system. Plus, please be careful with\n        \
  \                this option if you are running your commands on a SGE\n       \
  \                 --if you are clusterizing your runs, and asking for\n        \
  \                multiple threads to use, you may deplete your\n               \
  \         resources very fast.\n  --write-buffer-size-per-thread INT\n         \
  \               How many items should be kept in memory before they\n          \
  \              are written do the disk. The default is 25 per thread.\n        \
  \                So a single-threaded job would have a write buffer\n          \
  \              size of 25, whereas a job with 4 threads would have a\n         \
  \               write buffer size of 4*25. The larger the buffer size,\n       \
  \                 the less frequent the program will access to the disk,\n     \
  \                   yet the more memory will be consumed since the\n           \
  \             processed items will be cleared off the memory only\n            \
  \            after they are written to the disk. The default buffer\n          \
  \              size will likely work for most cases. Please keep an\n          \
  \              eye on the memory usage output to make sure the memory\n        \
  \                use never exceeds the size of the physical memory. If\n       \
  \                 --num-threads is 1, this parameter is ignored because\n      \
  \                  the DB is written to after each gene\n"
generated_using:
- --help
