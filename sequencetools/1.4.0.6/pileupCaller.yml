!Command
positional: []
named:
- !Flag
  description: ') [--keepIncongruentReads] '
  synonyms:
  - --randomDiploid
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: '] (-f|--snpFile <FILE>) '
  synonyms:
  - --singleStrandMode
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: This method samples one read at random at each site, and uses the allele
    on that read as the one for the actual genotype. This results in a haploid call
  synonyms:
  - --randomHaploid
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Pick the allele supported by the most reads at a site. If an equal
    numbers of alleles fulfil this, pick one at random. This results in a haploid
    call. See --downSampling for best practices for calling rare variants
  synonyms:
  - --majorityCall
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: When this switch is given, the MajorityCalling mode will downsample
    from the total number of reads a number of reads (without replacement) equal to
    the --minDepth given. This mitigates reference bias in the MajorityCalling model,
    which increases with higher coverage. The recommendation for rare-allele calling
    is --majorityCall --downsampling --minDepth 3
  synonyms:
  - --downSampling
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: 'By default, pileupCaller now removes reads with tri-allelic alleles
    that are neither of the two alleles specified in the SNP file. To keep those reads
    for sampling, set this flag. With this option given, if the sampled read has a
    tri-allelic allele that is neither of the two given alleles in the SNP file, a
    missing genotype is generated. IMPORTANT NOTE: The default behaviour has changed
    in pileupCaller version 1.4.0. If you want to emulate the previous behaviour,
    use this flag. I recommend now to NOT set this flag and use the new behaviour.'
  synonyms:
  - --keepIncongruentReads
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: random seed used for the random number generator. If not given, use
    system clock to seed the random number generator.
  synonyms:
  - --seed
  args: !SimpleFlagArg
    name: RANDOM_SEED
  optional: true
- !Flag
  description: 'specify the minimum depth for a call. For sites with fewer reads than
    this number, declare Missing (default: 1)'
  synonyms:
  - -d
  - --minDepth
  args: !SimpleFlagArg
    name: DEPTH
  optional: true
- !Flag
  description: skip transition SNPs entirely in the output, resulting in a dataset
    with fewer sites.
  synonyms:
  - --skipTransitions
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: mark transitions as missing in the output, but do output the sites.
  synonyms:
  - --transitionsMissing
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: an Eigenstrat-formatted SNP list file for the positions and alleles
    to call. All positions in the SNP file will be output, adding missing data where
    there is no data. Note that pileupCaller automatically checks whether alleles
    in the SNP file are flipped with respect to the human reference, and in those
    cases flips the genotypes accordingly. But it assumes that the strand-orientation
    of the SNPs given in the SNP list is the one in the reference genome used in the
    BAM file underlying the pileup input. Note that both the SNP file and the incoming
    pileup data have to be ordered by chromosome and position, and this is checked.
    The chromosome order in humans is 1-22,X,Y,MT. Chromosome can generally begin
    with "chr". In case of non-human data with different chromosome names, you should
    convert all names to numbers. They will always considered to be numerically ordered,
    even beyond 22. Finally, I note that for internally, X is converted to 23, Y to
    24 and MT to 90. This is the most widely used encoding in Eigenstrat databases
    for human data, so using a SNP file with that encoding will automatically be correctly
    aligned to pileup data with actual chromosome names X, Y and MT (or chrX, chrY
    and chrMT, respectively).
  synonyms:
  - -f
  - --snpFile
  args: !SimpleFlagArg
    name: FILE
  optional: true
- !Flag
  description: "Set Eigenstrat as output format. Specify the filenames for the EigenStrat\
    \ SNP and IND file outputs: <FILE_PREFIX>.snp.txt and <FILE_PREFIX>.ind.txt If\
    \ not set, output will be FreqSum (Default). Note that freqSum format, described\
    \ at https://rarecoal-docs.readthedocs.io/en/latest/rarecoal-tools.html#vcf2freqsum,\
    \ is useful for testing your pipeline, since it's output to standard out"
  synonyms:
  - -e
  - --eigenstratOut
  args: !SimpleFlagArg
    name: FILE_PREFIX
  optional: true
- !Flag
  description: 'specify the population name of the samples, which is included in the
    output *.ind.txt file in Eigenstrat output. This will be ignored if the output
    format is not Eigenstrat (default: "Unknown")'
  synonyms:
  - --samplePopName
  args: !SimpleFlagArg
    name: POP
  optional: true
- !Flag
  description: ',NAME2,... give the names of the samples as comma-separated list (no
    spaces)'
  synonyms:
  - --sampleNames
  args: !SimpleFlagArg
    name: NAME1
  optional: true
- !Flag
  description: give the names of the samples in a file with one name per line
  synonyms:
  - --sampleNameFile
  args: !SimpleFlagArg
    name: FILE
  optional: true
command:
- pileupCaller
parent:
subcommands: []
help_flag: !Flag
  description: Show this help text
  synonyms:
  - -h
  - --help
  args: !EmptyFlagArg {}
  optional: true
usage_flag:
version_flag: !Flag
  description: Print version and exit
  synonyms:
  - --version
  args: !EmptyFlagArg {}
  optional: true
help_text: "Usage: pileupCaller [--version] \n                    (--randomHaploid\
  \ | --majorityCall [--downSampling] | \n                      --randomDiploid) [--keepIncongruentReads]\
  \ \n                    [--seed <RANDOM_SEED>] [-d|--minDepth <DEPTH>] \n      \
  \              [--skipTransitions | --transitionsMissing | \n                  \
  \    --singleStrandMode] (-f|--snpFile <FILE>) \n                    [(-e|--eigenstratOut\
  \ <FILE_PREFIX>) [--samplePopName POP]] \n                    (--sampleNames NAME1,NAME2,...\
  \ | --sampleNameFile <FILE>)\n  PileupCaller is a tool to create genotype calls\
  \ from bam files using\n  read-sampling methods. To use this tool, you need to convert\
  \ bam files into\n  the mpileup-format, specified at http://www.htslib.org/doc/samtools.html\n\
  \  (under \"mpileup\"). The recommended command line to create a multi-sample\n\
  \  mpileup file to be processed with pileupCaller is\n  \n      samtools mpileup\
  \ -B -q30 -Q30 -l <BED_FILE> -R -f <FASTA_REFERENCE_FILE>\n          Sample1.bam\
  \ Sample2.bam Sample3.bam | pileupCaller ...\n  \n  You can lookup what these options\
  \ do in the samtools documentation. Note that\n  flag -B in samtools is very important\
  \ to reduce reference bias in low coverage\n  data.\n  \n  \n  This tool is part\
  \ of sequenceTools version 1.4.0.5\n\nAvailable options:\n  --version          \
  \      Print version and exit\n  -h,--help                Show this help text\n\
  \  --randomHaploid          This method samples one read at random at each site,\n\
  \                           and uses the allele on that read as the one for the\n\
  \                           actual genotype. This results in a haploid call\n  --majorityCall\
  \           Pick the allele supported by the most reads at a\n                 \
  \          site. If an equal numbers of alleles fulfil this,\n                 \
  \          pick one at random. This results in a haploid call.\n               \
  \            See --downSampling for best practices for calling\n               \
  \            rare variants\n  --downSampling           When this switch is given,\
  \ the MajorityCalling mode\n                           will downsample from the\
  \ total number of reads a\n                           number of reads (without replacement)\
  \ equal to the\n                           --minDepth given. This mitigates reference\
  \ bias in\n                           the MajorityCalling model, which increases\
  \ with\n                           higher coverage. The recommendation for rare-allele\n\
  \                           calling is --majorityCall --downsampling --minDepth\
  \ 3\n  --randomDiploid          Sample two reads at random (without replacement)\
  \ at\n                           each site and represent the individual by a diploid\n\
  \                           genotype constructed from those two random picks.\n\
  \                           This will always assign missing data to positions\n\
  \                           where only one read is present, even if minDepth=1.\n\
  \                           The main use case for this option is for estimating\n\
  \                           mean heterozygosity across sites.\n  --keepIncongruentReads\
  \   By default, pileupCaller now removes reads with\n                          \
  \ tri-allelic alleles that are neither of the two\n                           alleles\
  \ specified in the SNP file. To keep those\n                           reads for\
  \ sampling, set this flag. With this option\n                           given, if\
  \ the sampled read has a tri-allelic allele\n                           that is\
  \ neither of the two given alleles in the SNP\n                           file,\
  \ a missing genotype is generated. IMPORTANT\n                           NOTE: The\
  \ default behaviour has changed in\n                           pileupCaller version\
  \ 1.4.0. If you want to emulate\n                           the previous behaviour,\
  \ use this flag. I recommend\n                           now to NOT set this flag\
  \ and use the new behaviour.\n  --seed <RANDOM_SEED>     random seed used for the\
  \ random number generator. If\n                           not given, use system\
  \ clock to seed the random number\n                           generator.\n  -d,--minDepth\
  \ <DEPTH>    specify the minimum depth for a call. For sites with\n            \
  \               fewer reads than this number, declare\n                        \
  \   Missing (default: 1)\n  --skipTransitions        skip transition SNPs entirely\
  \ in the output,\n                           resulting in a dataset with fewer sites.\n\
  \  --transitionsMissing     mark transitions as missing in the output, but do\n\
  \                           output the sites.\n  --singleStrandMode       [THIS\
  \ IS CURRENTLY AN EXPERIMENTAL FEATURE]. At C/T\n                           polymorphisms,\
  \ ignore reads aligning to the forward\n                           strand. At G/A\
  \ polymorphisms, ignore reads aligning\n                           to the reverse\
  \ strand. This should remove post-mortem\n                           damage in ancient\
  \ DNA libraries prepared with the\n                           non-UDG single-stranded\
  \ protocol.\n  -f,--snpFile <FILE>      an Eigenstrat-formatted SNP list file for\
  \ the\n                           positions and alleles to call. All positions in\
  \ the\n                           SNP file will be output, adding missing data where\n\
  \                           there is no data. Note that pileupCaller\n         \
  \                  automatically checks whether alleles in the SNP file\n      \
  \                     are flipped with respect to the human reference, and\n   \
  \                        in those cases flips the genotypes accordingly. But\n \
  \                          it assumes that the strand-orientation of the SNPs\n\
  \                           given in the SNP list is the one in the reference\n\
  \                           genome used in the BAM file underlying the pileup\n\
  \                           input. Note that both the SNP file and the incoming\n\
  \                           pileup data have to be ordered by chromosome and\n \
  \                          position, and this is checked. The chromosome order\n\
  \                           in humans is 1-22,X,Y,MT. Chromosome can generally\n\
  \                           begin with \"chr\". In case of non-human data with\n\
  \                           different chromosome names, you should convert all\n\
  \                           names to numbers. They will always considered to be\n\
  \                           numerically ordered, even beyond 22. Finally, I note\n\
  \                           that for internally, X is converted to 23, Y to 24\n\
  \                           and MT to 90. This is the most widely used encoding\n\
  \                           in Eigenstrat databases for human data, so using a\n\
  \                           SNP file with that encoding will automatically be\n\
  \                           correctly aligned to pileup data with actual\n     \
  \                      chromosome names X, Y and MT (or chrX, chrY and\n       \
  \                    chrMT, respectively).\n  -e,--eigenstratOut <FILE_PREFIX>\n\
  \                           Set Eigenstrat as output format. Specify the\n     \
  \                      filenames for the EigenStrat SNP and IND file\n         \
  \                  outputs: <FILE_PREFIX>.snp.txt and\n                        \
  \   <FILE_PREFIX>.ind.txt If not set, output will be\n                         \
  \  FreqSum (Default). Note that freqSum format,\n                           described\
  \ at\n                           https://rarecoal-docs.readthedocs.io/en/latest/rarecoal-tools.html#vcf2freqsum,\n\
  \                           is useful for testing your pipeline, since it's\n  \
  \                         output to standard out\n  --samplePopName POP      specify\
  \ the population name of the samples, which is\n                           included\
  \ in the output *.ind.txt file in Eigenstrat\n                           output.\
  \ This will be ignored if the output format is\n                           not Eigenstrat\
  \ (default: \"Unknown\")\n  --sampleNames NAME1,NAME2,...\n                    \
  \       give the names of the samples as comma-separated list\n                \
  \           (no spaces)\n  --sampleNameFile <FILE>  give the names of the samples\
  \ in a file with one name\n                           per line\n"
generated_using:
- --help
