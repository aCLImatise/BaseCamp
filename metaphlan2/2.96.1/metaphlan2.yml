!Command
positional:
- !Positional
  description: 'the input file can be: * a fastq file containing metagenomic reads
    OR * a BowTie2 produced SAM file.  OR * an intermediary mapping file of the metagenome
    generated by a previous MetaPhlAn run  If the input file is missing, the script
    assumes that the input is provided using the standard  input, or named pipes.
    IMPORTANT: the type of input needs to be specified with --input_type'
  position: 0
  name: INPUT_FILE
  optional: false
- !Positional
  description: the tab-separated output file of the predicted taxon relative abundances  [stdout
    if not present]
  position: 1
  name: OUTPUT_FILE
  optional: false
named:
- !Flag
  description: '. Two steps: first apply BowTie2 and then feed MetaPhlAn2 with the
    obtained sam:'
  synonyms:
  - --input_type
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: set whether the input is the multifasta file of metagenomic reads or  the
    SAM file of the mapping of the reads against the MetaPhlAn db. [default 'automatic',
    i.e. the script will try to guess the input format]
  synonyms:
  - --input_type
  args: !ChoiceFlagArg
    choices:
    - fastq
    - fasta
    - multifasta
    - multifastq
    - bowtie2out
    - sam
  optional: true
- !Flag
  description: The metadata pickled MetaPhlAn file [deprecated]
  synonyms:
  - --mpa_pkl
  args: !SimpleFlagArg
    name: MPA_PKL
  optional: true
- !Flag
  description: Force profiling of the input file by removing the bowtie2out file
  synonyms:
  - --force
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Folder containing the MetaPhlAn database. Used if --input_type is fastq,
    fasta, multifasta, or multifastq [default /tmp/tmpyjfyrnx1/bin/metaphlan_databases]
  synonyms:
  - --bowtie2db
  args: !SimpleFlagArg
    name: METAPHLAN_BOWTIE2_DB
  optional: true
- !Flag
  description: Specify the id of the database version to use. If "latest", MetaPhlAn2
    will get the latest version. If the database files are not found on the local
    MetaPhlAn2 installation they will be automatically downloaded [default latest]
  synonyms:
  - -x
  - --index
  args: !SimpleFlagArg
    name: INDEX
  optional: true
- !Flag
  description: 'presets Presets options for BowTie2 (applied only when a multifasta
    file is provided) The choices enabled in MetaPhlAn are: * sensitive * very-sensitive
    * sensitive-local * very-sensitive-local [default very-sensitive]'
  synonyms:
  - --bt2_ps
  args: !SimpleFlagArg
    name: BowTie2
  optional: true
- !Flag
  description: Full path and name of the BowTie2 executable. This option allowsMetaPhlAn
    to reach the executable even when it is not in the system PATH or the system PATH
    is unreachable
  synonyms:
  - --bowtie2_exe
  args: !SimpleFlagArg
    name: BOWTIE2_EXE
  optional: true
- !Flag
  description: Full path to the bowtie2-build command to use, deafult assumes that
    'bowtie2-build is present in the system path
  synonyms:
  - --bowtie2_build
  args: !SimpleFlagArg
    name: BOWTIE2_BUILD
  optional: true
- !Flag
  description: The file for saving the output of BowTie2
  synonyms:
  - --bowtie2out
  args: !SimpleFlagArg
    name: FILE_NAME
  optional: true
- !Flag
  description: Minimum mapping quality value (MAPQ)
  synonyms:
  - --min_mapq_val
  args: !SimpleFlagArg
    name: MIN_MAPQ_VAL
  optional: true
- !Flag
  description: Avoid storing the --bowtie2out map file
  synonyms:
  - --no_map
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: The folder used to store temporary files [default is the OS dependent
    tmp dir]
  synonyms:
  - --tmp_dir
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: "The taxonomic level for the relative abundance output: 'a' : all taxonomic\
    \ levels 'k' : kingdoms 'p' : phyla only 'c' : classes only 'o' : orders only\
    \ 'f' : families only 'g' : genera only 's' : species only [default 'a']"
  synonyms:
  - --tax_lev
  args: !SimpleFlagArg
    name: TAXONOMIC_LEVEL
  optional: true
- !Flag
  description: minimum total nucleotide length for the markers in a clade for estimating
    the abundance without considering sub-clade abundances [default 2000]
  synonyms:
  - --min_cu_len
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: The sam records for aligned reads with the longest subalignment length
    smaller than this threshold will be discarded. [default None]
  synonyms:
  - --min_alignment_len
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Allow the profiling of viral organisms
  synonyms:
  - --add_viruses
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Do not profile eukaryotic organisms
  synonyms:
  - --ignore_eukaryotes
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Do not profile bacterial organisms
  synonyms:
  - --ignore_bacteria
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Do not profile archeal organisms
  synonyms:
  - --ignore_archaea
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Quantile value for the robust average [default 0.2]
  synonyms:
  - --stat_q
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Percentage of markers with a non zero relative abundance for misidentify
    a species [default 0.33]
  synonyms:
  - --perc_nonzero
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: 'File containing a list of markers to ignore. '
  synonyms:
  - --ignore_markers
  args: !SimpleFlagArg
    name: IGNORE_MARKERS
  optional: true
- !Flag
  description: Deactivate the procedure of disambiguating the quasi-markers based
    on the  marker abundance pattern found in the sample. It is generally recommended  to
    keep the disambiguation procedure in order to minimize false positives
  synonyms:
  - --avoid_disqm
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: "EXPERIMENTAL! Statistical approach for converting marker abundances\
    \ into clade abundances 'avg_g'  : clade global (i.e. normalizing all markers\
    \ together) average 'avg_l'  : average of length-normalized marker counts 'tavg_g'\
    \ : truncated clade global average at --stat_q quantile 'tavg_l' : trunated average\
    \ of length-normalized marker counts (at --stat_q) 'wavg_g' : winsorized clade\
    \ global average (at --stat_q) 'wavg_l' : winsorized average of length-normalized\
    \ marker counts (at --stat_q) 'med'    : median of length-normalized marker counts\
    \ [default tavg_g]"
  synonyms:
  - --stat
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: "TYPE      Type of analysis to perform:  * rel_ab: profiling a metagenomes\
    \ in terms of relative abundances * rel_ab_w_read_stats: profiling a metagenomes\
    \ in terms of relative abundances and estimate the number of reads coming from\
    \ each clade. * reads_map: mapping from reads to clades (only reads hitting a\
    \ marker) * clade_profiles: normalized marker counts for clades with at least\
    \ a non-null marker * marker_ab_table: normalized marker counts (only when > 0.0\
    \ and normalized by metagenome size if --nreads is specified) * marker_counts:\
    \ non-normalized marker counts [use with extreme caution] * marker_pres_table:\
    \ list of markers present in the sample (threshold at 1.0 if not differently specified\
    \ with --pres_th [default 'rel_ab']"
  synonyms:
  - -t
  args: !SimpleFlagArg
    name: ANALYSIS
  optional: true
- !Flag
  description: The total number of reads in the original metagenome. It is used only
    when  -t marker_table is specified for normalizing the length-normalized counts  with
    the metagenome size as well. No normalization applied if --nreads is not  specified
  synonyms:
  - --nreads
  args: !SimpleFlagArg
    name: NUMBER_OF_READS
  optional: true
- !Flag
  description: Threshold for calling a marker present by the -t marker_pres_table
    option
  synonyms:
  - --pres_th
  args: !SimpleFlagArg
    name: PRESENCE_THRESHOLD
  optional: true
- !Flag
  description: The clade for clade_specific_strain_tracker analysis
  synonyms:
  - --clade
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: The minimum percentage abundace for the clade in the clade_specific_strain_tracker
    analysis
  synonyms:
  - --min_ab
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: file, --output_file output file The output file (if not specified as
    positional argument)
  synonyms:
  - -o
  args: !SimpleFlagArg
    name: output
  optional: true
- !Flag
  description: Specify the sample ID key for this analysis. Defaults to '#SampleID'.
  synonyms:
  - --sample_id_key
  args: !SimpleFlagArg
    name: name
  optional: true
- !Flag
  description: Use a species as representative for species groups.
  synonyms:
  - --use_group_representative
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Specify the sample ID for this analysis. Defaults to 'Metaphlan2_Analysis'.
  synonyms:
  - --sample_id
  args: !SimpleFlagArg
    name: value
  optional: true
- !Flag
  description: The sam output file
  synonyms:
  - -s
  - --samout
  args: !SimpleFlagArg
    name: sam_output_file
  optional: true
- !Flag
  description: Old two columns output
  synonyms:
  - --legacy-output
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Report the profiling using the CAMI output format
  synonyms:
  - --CAMI_format_output
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Ignore estimation of reads mapping to unkwnown clades
  synonyms:
  - --unknown_estimation
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: 'If requesting biom file output: The name of the output file in biom
    format '
  synonyms:
  - --biom
  - --biom_output_file
  args: !SimpleFlagArg
    name: biom_output
  optional: true
- !Flag
  description: 'Delimiter for bug metadata: - defaults to pipe. e.g. the pipe in k__Bacteria|p__Proteobacteria '
  synonyms:
  - --mdelim
  - --metadata_delimiter_char
  args: !SimpleFlagArg
    name: mdelim
  optional: true
- !Flag
  description: The number of CPUs to use for parallelizing the mapping [default 4]
  synonyms:
  - --nproc
  args: !SimpleFlagArg
    name: N
  optional: true
- !Flag
  description: Only checks if the MetaPhlAn2 DB is installed and installs it if not.
    All other parameters are ignored.
  synonyms:
  - --install
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Force the re-download of the latest MetaPhlAn2 database.
  synonyms:
  - --force_download
  args: !EmptyFlagArg {}
  optional: true
- !Flag
  description: Specify the minimum length of the reads to be considered when parsing
    the input file with 'read_fastx.py' script, default value is 70
  synonyms:
  - --read_min_len
  args: !SimpleFlagArg
    name: READ_MIN_LEN
  optional: true
command:
- metaphlan2.py
subcommands: []
help_flag: !Flag
  description: show this help message and exit
  synonyms:
  - -h
  - --help
  args: !EmptyFlagArg {}
  optional: true
usage_flag:
version_flag: !Flag
  description: Prints the current MetaPhlAn version and exit
  synonyms:
  - -v
  - --version
  args: !EmptyFlagArg {}
  optional: true
