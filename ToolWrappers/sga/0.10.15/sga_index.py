from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Boolean, String, Int, File

Sga_Index_V0_1_0 = CommandToolBuilder(tool="sga_index", base_command=["sga", "index"], inputs=[ToolInput(tag="in_verbose", input_type=Boolean(optional=True), prefix="--verbose", doc=InputDocumentation(doc="display verbose output")), ToolInput(tag="in_algorithm", input_type=String(optional=True), prefix="--algorithm", doc=InputDocumentation(doc="BWT construction algorithm. STR can be:\nsais - induced sort algorithm, slower but works for very long sequences (default)\nropebwt - very fast and memory efficient. use this for short (<200bp) reads")), ToolInput(tag="in_disk", input_type=Int(optional=True), prefix="--disk", doc=InputDocumentation(doc="use disk-based BWT construction algorithm. The suffix array/BWT will be constructed\nfor batchs of NUM reads at a time. To construct the suffix array of 200 megabases of sequence\nrequires ~2GB of memory, set this parameter accordingly.")), ToolInput(tag="in_threads", input_type=Int(optional=True), prefix="--threads", doc=InputDocumentation(doc="use NUM threads to construct the index (default: 1)")), ToolInput(tag="in_check", input_type=Boolean(optional=True), prefix="--check", doc=InputDocumentation(doc="validate that the suffix array/bwt is correct")), ToolInput(tag="in_prefix", input_type=File(optional=True), prefix="--prefix", doc=InputDocumentation(doc="write index to file using PREFIX instead of prefix of READSFILE")), ToolInput(tag="in_no_reverse", input_type=Boolean(optional=True), prefix="--no-reverse", doc=InputDocumentation(doc="suppress construction of the reverse BWT. Use this option when building the index\nfor reads that will be error corrected using the k-mer corrector, which only needs the forward index")), ToolInput(tag="in_no_forward", input_type=Boolean(optional=True), prefix="--no-forward", doc=InputDocumentation(doc="suppress construction of the forward BWT. Use this option when building the forward and reverse index separately")), ToolInput(tag="in_no_sai", input_type=Boolean(optional=True), prefix="--no-sai", doc=InputDocumentation(doc="suppress construction of the SAI file. This option only applies to -a ropebwt")), ToolInput(tag="in_gap_array", input_type=Int(optional=True), prefix="--gap-array", doc=InputDocumentation(doc="use N bits of storage for each element of the gap array. Acceptable values are 4,8,16 or 32. Lower\nvalues can substantially reduce the amount of memory required at the cost of less predictable memory usage.\nWhen this value is set to 32, the memory requirement is essentially deterministic and requires ~5N bytes where\nN is the size of the FM-index of READS2.\nThe default value is 8."))], outputs=[], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Sga_Index_V0_1_0().translate("wdl", allow_empty_container=True)

