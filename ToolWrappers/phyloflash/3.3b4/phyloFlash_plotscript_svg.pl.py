from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import File, Int, Boolean

Phyloflash_Plotscript_Svg_Pl_V0_1_0 = CommandToolBuilder(tool="phyloFlash_plotscript_svg.pl", base_command=["phyloFlash_plotscript_svg.pl"], inputs=[ToolInput(tag="in_tree", input_type=File(optional=True), prefix="-tree", doc=InputDocumentation(doc="Phylogenetic tree plot from Newick-formatted tree. Does\nnot support node or branch labels, branch lengths\nrequired. Tree is oriented with root on left and leaf\nlabels on right. Height of plot scales with number of\nleaves.\nCan be modified with -treefasta, -assemcov, and\n-unassemcount")), ToolInput(tag="in_tree_fast_a", input_type=File(optional=True), prefix="-treefasta", doc=InputDocumentation(doc="Original Fasta file used to produce the tree, if the tree\nis a guide tree from MAFFT aligner. This is used to\nrelabel the text labels in the SVG with the original\ntext, because MAFFT automatically replaces spaces and\nother punctuation with underscores, and truncates the\nnames.")), ToolInput(tag="in_assem_cov", input_type=File(optional=True), prefix="-assemcov", doc=InputDocumentation(doc="CSV file containing coverage stats of assembled SSU\nsequences, from phyloFlash output, for drawing bubbles\nrepresenting read coverage per assembled sequence on the\ntree.\nWhen supplied, beneath the node for each leaf\nrepresenting an assembled SSU sequence will be a circle\nwhose area represents the abundance of that sequence\n(i.e. number of reads mapping to it in the re-mapping\nstep) in the read library.")), ToolInput(tag="in_un_assem_count", input_type=Int(optional=True), prefix="-unassemcount", doc=InputDocumentation(doc="Number of reads that are not mapping to any of the\nassembled SSU sequences. This is to draw a bubble\nrepresenting coverage of unassembled reads, when coverage\nof assembled sequences is also supplied via -assemcov\nparameter.")), ToolInput(tag="in_hist", input_type=File(optional=True), prefix="-hist", doc=InputDocumentation(doc="Histogram plot from TAB-separated histogram output file,\ne.g. those produced by BBmap. Column 1: bin values,\ncolumn 2: counts/frequencies. The counts must already be\nbinned into counts or frequencies! The counts can be\nre-binned into new bins for plotting, but the user is\nresponsible for making sure that the number of new bins <\nnumber of original bins.")), ToolInput(tag="in_bar", input_type=File(optional=True), prefix="-bar", doc=InputDocumentation(doc="Interactive bar plot from CSV file. Column 1: label,\ncolumn 2: counts. The text labels are adjacent to the\nbars and their size and opacity are scaled to the bar\nheight to avoid overlapping text labels. However on\nmouseover (when viewed in web browser) the box will be\nhighlighted and the corresponding text label will enlarge\nto legible size.")), ToolInput(tag="in_pie", input_type=File(optional=True), prefix="-pie", doc=InputDocumentation(doc="Pie chart from CSV file. Column 1: Label, column 2:\ncounts/percentage/ratio. Will automatically take total of\nthe numbers provided. I.e. if using percentages, ensure\nthat they add up to 100%.")), ToolInput(tag="in_pipe", input_type=File(optional=True), prefix="-pipe", doc=InputDocumentation(doc="TYPE\nUse 'pipe' mode. Input is read from STDIN and written to\nSTDOUT. Use this option to specify type of plot to\nproduce: 'tree', 'hist', 'bar', or 'pie'. Naturally this\ncan only read and write one file at a time.")), ToolInput(tag="in_title", input_type=Boolean(optional=True), prefix="-title", doc=InputDocumentation(doc="='STRING'\nOptional title for plot. Enclose string in quotation\nmarks if title has spaces. Default: (empty)")), ToolInput(tag="in_height", input_type=Int(optional=True), prefix="-height", doc=InputDocumentation(doc="Optional width and height of plot in pixels. Defaults:\nBuilt-in defaults for each plot type.")), ToolInput(tag="in_color", input_type=Boolean(optional=True), prefix="-color", doc=InputDocumentation(doc="='STRING'\nOptional fill color for plot. Currently implemented only\nfor histogram. Default: Built-in defaults for each plot\ntype")), ToolInput(tag="in_breakpoints", input_type=Int(optional=True), prefix="-breakpoints", doc=InputDocumentation(doc="Specify number of breakpoints in histogram. Default:\nSturges algorithm to calculate optimal breakpoints")), ToolInput(tag="in_decimal_comma", input_type=Boolean(optional=True), prefix="-decimalcomma", doc=InputDocumentation(doc="Use comma as decimal separator (only used for histogram\ninput). BBMap is locale- aware and uses decimal comma in\ncertain locales (e.g. Germany and France). However, Perl\ndoes not unless explicitly requested. This option will\nreplace decimal commas with decimal periods in histogram\ninput files only.")), ToolInput(tag="in_man", input_type=Boolean(optional=True), prefix="-man", doc=InputDocumentation(doc="Manual page (identical to this help message)"))], outputs=[], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Phyloflash_Plotscript_Svg_Pl_V0_1_0().translate("wdl", allow_empty_container=True)

