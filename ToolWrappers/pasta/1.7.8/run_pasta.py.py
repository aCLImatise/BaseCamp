from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Boolean, String, File, Directory

Run_Pasta_Py_V0_1_0 = CommandToolBuilder(tool="run_pasta.py", base_command=["run_pasta.py"], inputs=[ToolInput(tag="in_aligned", input_type=Boolean(optional=True), prefix="--aligned", doc=InputDocumentation(doc="If used, then the input file be will treated as\naligned for the purposes of the first round of tree\ninference (the algorithm will start with tree\nsearching on the input before re-aligning). This\noption only applies if a starting tree is NOT given.")), ToolInput(tag="in_auto", input_type=Boolean(optional=True), prefix="--auto", doc=InputDocumentation(doc="This option is mostly for backward compatibility. If\nused, then automatically identified default values for\nthe max_subproblem_size, number of cpus, tools,\nbreaking strategy, masking criteria, and stopping\ncriteria will be used. This is just like using the\ndefault options. However, [WARNING] when auto option\nis used PASTA overrides the value of these options\neven if you have supplied them; we recommend that you\nrun this option with --exportconfig to see the exact\nset of options that will be used in your analysis.")), ToolInput(tag="in_datatype", input_type=String(optional=True), prefix="--datatype", doc=InputDocumentation(doc="Specify DNA, RNA, or Protein to indicate what type of\ndata is specified. Note that this option is NOT\nautomatically determined [default: dna]")), ToolInput(tag="in_export_config", input_type=File(optional=True), prefix="--exportconfig", doc=InputDocumentation(doc="Export the configuration to the specified file and\nexit. This is useful if you want to combine several\nconfigurations and command line settings into a single\nconfiguration file to be used in other analyses.")), ToolInput(tag="in_input", input_type=File(optional=True), prefix="--input", doc=InputDocumentation(doc="input sequence file")), ToolInput(tag="in_job", input_type=String(optional=True), prefix="--job", doc=InputDocumentation(doc="job name [pastajob]")), ToolInput(tag="in_keep_alignment_temps", input_type=Boolean(optional=True), prefix="--keepalignmenttemps", doc=InputDocumentation(doc="Keep even the realignment temporary running files\n(this only has an effect if keeptemp is also\nselected).")), ToolInput(tag="in_keep_temp", input_type=Boolean(optional=True), prefix="--keeptemp", doc=InputDocumentation(doc="Keep temporary running files? [default: disabled]")), ToolInput(tag="in_missing", input_type=String(optional=True), prefix="--missing", doc=InputDocumentation(doc="How to deal with missing data symbols. Specify either\n'Ambiguous' or 'Absent' if the input data contains\n?-symbols")), ToolInput(tag="in_multilocus", input_type=Boolean(optional=True), prefix="--multilocus", doc=InputDocumentation(doc="Analyze multi-locus data? NOT SUPPORTED IN CURRENT\nPASTA version.")), ToolInput(tag="in_ra_xml_search_after", input_type=Boolean(optional=True), prefix="--raxml-search-after", doc=InputDocumentation(doc="If used, the completion of the PASTA algorithm will be\nfollowed by a tree search using RAxML on the masked\nalignment. This can be useful if a very fast and\napproximate tree estimator is used during the PASTA\nalgorithm. [default: disabled]")), ToolInput(tag="in_temporaries", input_type=File(optional=True), prefix="--temporaries", doc=InputDocumentation(doc="directory that will be the parent for this job's\ntemporary file [default in PASTA home]")), ToolInput(tag="in_times_file", input_type=File(optional=True), prefix="--timesfile", doc=InputDocumentation(doc="optional file that will store the times of events\nduring the PASTA run. If the file exists, new lines\nwill be")), ToolInput(tag="in_tree_file", input_type=File(optional=True), prefix="--treefile", doc=InputDocumentation(doc="starting tree file")), ToolInput(tag="in_two_phase", input_type=Boolean(optional=True), prefix="--two-phase", doc=InputDocumentation(doc="If used, then the program will not perform the PASTA\nalgorithm. Instead it will simply call the sequence\naligner to align the entire dataset then will call the\ntree estimator to obtain the tree.")), ToolInput(tag="in_untrusted", input_type=Boolean(optional=True), prefix="--untrusted", doc=InputDocumentation(doc="If used, then the data in the input file will be\nparsed using a more careful procedure. This will\ngenerate more helpful error messages, but will use\nmore memory and be much slower for large inputs. If\nthis option is omitted, the error messages resulting\nfrom invalid input data will be more cryptic.")), ToolInput(tag="in_blind_after_iter_without_imp", input_type=Boolean(optional=True), prefix="--blind-after-iter-without-imp", doc=InputDocumentation(doc="=#\nMaximum number of iterations without an improvement in\nlikelihood score that PASTA will run before switching\nto blind mode. [default: disabled]")), ToolInput(tag="in_blind_after_time_without_imp", input_type=Boolean(optional=True), prefix="--blind-after-time-without-imp", doc=InputDocumentation(doc="=#.#\nMaximum time (in seconds) that PASTA will run without\nan improvement in likelihood score before switching to\nblind mode. [default: disabled]")), ToolInput(tag="in_blind_after_total_iter", input_type=Boolean(optional=True), prefix="--blind-after-total-iter", doc=InputDocumentation(doc="=#\nMaximum number of iterations that PASTA will run\nbefore switching to blind mode. [default: 0]")), ToolInput(tag="in_blind_after_total_time", input_type=Boolean(optional=True), prefix="--blind-after-total-time", doc=InputDocumentation(doc="=#.#\nMaximum time (in seconds) that PASTA will run before\nswitching to blind mode. [default: disabled]")), ToolInput(tag="in_no_blind_mode_is_final", input_type=Boolean(optional=True), prefix="--no-blind-mode-is-final", doc=InputDocumentation(doc="When the blind mode is final, then PASTA will never\nleave blind mode once it is has entered blind mode.")), ToolInput(tag="in_move_to_blind_on_worse_score", input_type=Boolean(optional=True), prefix="--move-to-blind-on-worse-score", doc=InputDocumentation(doc="If True then PASTA will move to the blind mode as soon\nit encounters a tree/alignment pair with a worse\nscore. This is essentially the same as running in\nblind mode from the beginning, but it does allow one\nto terminate a run at an interval from the first time\nthe algorithm fails to improve the score.")), ToolInput(tag="in_break_strategy", input_type=String(optional=True), prefix="--break-strategy", doc=InputDocumentation(doc="The method for choosing an edge when bisecting the\ntree during decomposition [default: centroid]")), ToolInput(tag="in_max_subproblem_frac", input_type=Boolean(optional=True), prefix="--max-subproblem-frac", doc=InputDocumentation(doc="=#.#\nThe maximum size (number of leaves) of subproblems\nspecified in terms as a proportion of the total number\nof leaves.  When a subproblem contains this number of\nleaves (or fewer), then it will not be decomposed\nfurther. [default: automatically picked based on\nalignment size]")), ToolInput(tag="in_max_subproblem_size", input_type=Boolean(optional=True), prefix="--max-subproblem-size", doc=InputDocumentation(doc="=#\nThe maximum size (number of leaves) of subproblems.\nWhen a subproblem contains this number of leaves (or\nfewer), then it will not be decomposed further.\n[default: automatically picked based on alignment\nsize]")), ToolInput(tag="in_output_directory", input_type=Directory(optional=True), prefix="--output-directory", doc=InputDocumentation(doc="directory for output files (defaults to input file\ndirectory)")), ToolInput(tag="in_no_return_final_tree_and_alignment", input_type=Boolean(optional=True), prefix="--no-return-final-tree-and-alignment", doc=InputDocumentation(doc="Return the best likelihood tree and alignment pair\ninstead of those from the last iteration; this is\ndiscouraged with masking option enabled.")), ToolInput(tag="in_max_mem_mb", input_type=Boolean(optional=True), prefix="--max-mem-mb", doc=InputDocumentation(doc="=#      The maximum memory available to OPAL (for the Java\nheap size when running Java tools).")), ToolInput(tag="in_num_cpus", input_type=Boolean(optional=True), prefix="--num-cpus", doc=InputDocumentation(doc="=#        The number of processing cores that you would like to\nassign to PASTA.  This number should not exceed the\nnumber of cores on your machine. [default: number of\ncores available on the machine]")), ToolInput(tag="in_mask_gap_py_sites", input_type=Boolean(optional=True), prefix="--mask-gappy-sites", doc=InputDocumentation(doc="=#\nThe minimum number of non-gap characters required in\neach column passed to the tree estimation step.\nColumns with fewer non-gap characters than the given\nthreshold will be masked out before passing the\nalignment into the tree estimation module. These\ncolumns will be present in the final alignment.\n[default: 0.1% of alignment size]")), ToolInput(tag="in_start_tree_search_from_current", input_type=Boolean(optional=True), prefix="--start-tree-search-from-current", doc=InputDocumentation(doc="If selected that the tree from the previous iteration\nwill be given to the tree searching tool as a starting\ntree.")), ToolInput(tag="in_after_blind_iter_term_limit", input_type=Boolean(optional=True), prefix="--after-blind-iter-term-limit", doc=InputDocumentation(doc="=#\nThe maximum number of iteration that the PASTA\nalgorithm will run after PASTA has entered blind mode.\nIf the number is less than 1, then no iteration limit\nwill be used. [default: disabled]")), ToolInput(tag="in_after_blind_iter_without_imp_limit", input_type=Boolean(optional=True), prefix="--after-blind-iter-without-imp-limit", doc=InputDocumentation(doc="=#\nThe maximum number of iterations without an\nimprovement in score that the PASTA algorithm will run\nafter entering BLIND mode.  If the number is less than\n1, then no iteration limit will be used. [default:\ndisabled]")), ToolInput(tag="in_after_blind_time_term_limit", input_type=Boolean(optional=True), prefix="--after-blind-time-term-limit", doc=InputDocumentation(doc="=#.#\nMaximum time (in seconds) that PASTA will continue\nstarting new iterations of realigning and tree\nsearching after PASTA has entered blind mode. If the\nnumber is less than 0, then no time limit will be\nused. [default: disabled]")), ToolInput(tag="in_after_blind_time_without_imp_limit", input_type=Boolean(optional=True), prefix="--after-blind-time-without-imp-limit", doc=InputDocumentation(doc="=#.#\nMaximum time (in seconds) since the last improvement\nin score that PASTA will continue starting new\niterations of realigning and tree searching after\nentering BLIND mode. If the number is less than 0,\nthen no time limit will be used. [default: disabled]")), ToolInput(tag="in_iter_limit", input_type=Boolean(optional=True), prefix="--iter-limit", doc=InputDocumentation(doc="=#      The maximum number of iteration that the PASTA\nalgorithm will run.  If the number is less than 1,\nthen no iteration limit will be used. [default: 3]")), ToolInput(tag="in_iter_without_imp_limit", input_type=Boolean(optional=True), prefix="--iter-without-imp-limit", doc=InputDocumentation(doc="=#\nThe maximum number of iterations without an\nimprovement in score that the PASTA algorithm will\nrun.  If the number is less than 1, then no iteration\nlimit will be used. [default: disabled]")), ToolInput(tag="in_time_limit", input_type=Boolean(optional=True), prefix="--time-limit", doc=InputDocumentation(doc="=#.#    Maximum time (in seconds) that PASTA will continue\nstarting new iterations of realigning and tree\nsearching. If the number is less than 0, then no time\nlimit will be used. [default: disabled]")), ToolInput(tag="in_time_without_imp_limit", input_type=Boolean(optional=True), prefix="--time-without-imp-limit", doc=InputDocumentation(doc="=#.#\nMaximum time (in seconds) since the last improvement\nin score that PASTA will continue starting new\niterations of realigning and tree searching. If the\nnumber is less than 0, then no time limit will be\nused. [default: disabled]")), ToolInput(tag="in_aligner", input_type=String(optional=True), prefix="--aligner", doc=InputDocumentation(doc="The name of the alignment program to use for\nsubproblems. [default: mafft]")), ToolInput(tag="in_merger", input_type=String(optional=True), prefix="--merger", doc=InputDocumentation(doc="The name of the alignment program to use to merge\nsubproblems. [default: OPAL]")), ToolInput(tag="in_tree_estimator", input_type=String(optional=True), prefix="--tree-estimator", doc=InputDocumentation(doc="The name of the tree inference program to use to find\ntrees on fixed alignments. [default: fasttree]\n")), ToolInput(tag="in_pasta", input_type=String(), position=0, doc=InputDocumentation(doc="")), ToolInput(tag="in_performs", input_type=String(), position=1, doc=InputDocumentation(doc="")), ToolInput(tag="in_iterative", input_type=String(), position=2, doc=InputDocumentation(doc="")), ToolInput(tag="in_realignment", input_type=String(), position=3, doc=InputDocumentation(doc="")), ToolInput(tag="in_and", input_type=String(), position=4, doc=InputDocumentation(doc="")), ToolInput(tag="in_tree", input_type=String(), position=5, doc=InputDocumentation(doc="")), ToolInput(tag="in_inference", input_type=String(), position=6, doc=InputDocumentation(doc=""))], outputs=[ToolOutput(tag="out_output_directory", output_type=Directory(optional=True), selector=InputSelector(input_to_select="in_output_directory", type_hint=File()), doc=OutputDocumentation(doc="directory for output files (defaults to input file\ndirectory)"))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Run_Pasta_Py_V0_1_0().translate("wdl", allow_empty_container=True)

