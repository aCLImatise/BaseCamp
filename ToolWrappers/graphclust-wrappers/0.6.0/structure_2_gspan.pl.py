from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Boolean, String, Directory

Structure_2_Gspan_Pl_V0_1_0 = CommandToolBuilder(tool="structure_2_gspan.pl", base_command=["structure_2_gspan.pl"], inputs=[ToolInput(tag="in_man", input_type=Boolean(optional=True), prefix="-man", doc=InputDocumentation(doc="full documentation")), ToolInput(tag="in_input_structure_type", input_type=String(optional=True), prefix="-input-structure-type", doc=InputDocumentation(doc="Structure type from the input to use. Allowed types: 'MFE', 'MEA'")), ToolInput(tag="in_stack", input_type=Boolean(optional=True), prefix="-stack", doc=InputDocumentation(doc="Adds stacking information to graphs. This adds an additional\nvertex (type P) for each pair of stacked base-pairs and four edges\n(type p) from each of the involved bases to the new vertex.")), ToolInput(tag="in_seq_graph_win", input_type=Boolean(optional=True), prefix="-seq-graph-win", doc=InputDocumentation(doc="add for each window a graph which contains no structure")), ToolInput(tag="in_seq_graph_t", input_type=Boolean(optional=True), prefix="-seq-graph-t", doc=InputDocumentation(doc="add for each 't #' a graph which contains no structure")), ToolInput(tag="in_seq_graph_alph", input_type=String(optional=True), prefix="-seq-graph-alph", doc=InputDocumentation(doc="the alphabet of unstructured graphs")), ToolInput(tag="in_annotate", input_type=Boolean(optional=True), prefix="-annotate", doc=InputDocumentation(doc="<STRING> annotation.tab\nA file with annotations to be added as abstract graphs\non the sequence leven (if given) and on the structure\n(SHREP) level. The format is has the following TAB-delimited\ncolumns: SEQID, START, END, NAMESPACE#LABEL.\nLabels with the same name-space and SEQID form connected\ncomponents, which is a sequence of label vertices ordered\nby the START position in the sequence.")), ToolInput(tag="in_abstr", input_type=Boolean(optional=True), prefix="-abstr", doc=InputDocumentation(doc="Add abstract structure graphs to the single shrep graph")), ToolInput(tag="in_match_shape", input_type=Boolean(optional=True), prefix="-match-shape", doc=InputDocumentation(doc="<SHAPE>\nall seqs/windows will be constraint folded into that shape via\nRNAshapes (if structure is given in another way this struct will be kept),\nif this shape is not possible within given energy range, produce a\nspecific t graph with only one vertex 'X'. By this the instance\nbecomes very unsimilar to all other graphs (for knn)")), ToolInput(tag="in_vp", input_type=Boolean(optional=True), prefix="-vp", doc=InputDocumentation(doc="enable graph computation with viewpoints:\nsvmsgdnspdk will center on those nucleotides that are given\nvia capital letters and ignore those given as lowercase letters")), ToolInput(tag="in_tmp", input_type=Boolean(optional=True), prefix="-tmp", doc=InputDocumentation(doc="<STRING> e.g. '/scratch/1/sita/tmp'\nA directory for writing temporary files")), ToolInput(tag="in_string_eg_output_directory", input_type=Directory(optional=True), prefix="-o", doc=InputDocumentation(doc="<STRING> e.g. 'ProjectX/MySequences/GSPAN/'\nOutput directory for gspan files containing graphs.")), ToolInput(tag="in_group", input_type=Boolean(optional=True), prefix="-group", doc=InputDocumentation(doc="<INTEGER> e.g. 5\nCombine/group that number of input seqs into 1 gspan file\noutput name is then '<INT>.group.gspan.bz2'")), ToolInput(tag="in_stdout", input_type=Boolean(optional=True), prefix="-stdout", doc=InputDocumentation(doc="send graphs to stdout instead of writing to files")), ToolInput(tag="in_ignore_header", input_type=Boolean(optional=True), prefix="-ignore-header", doc=InputDocumentation(doc="don't write fasta id part after first space to gspan")), ToolInput(tag="in_debug", input_type=Boolean(optional=True), prefix="-debug", doc=InputDocumentation(doc="additional debug output")), ToolInput(tag="in_help", input_type=String(), position=0, doc=InputDocumentation(doc="-help   brief help message")), ToolInput(tag="in_compulsory", input_type=String(), position=1, doc=InputDocumentation(doc="-input-file     <STRING> e.g. 'sequence.fasta'\nThe sequence and structure data, the output of structure prediction tool.")), ToolInput(tag="in_options", input_type=String(), position=2, doc=InputDocumentation(doc="-input-format Sequence Structure format of the input. Allowed formats: 'vrna-simple', 'vrna-mea'")), ToolInput(tag="in_instances_dot", input_type=String(), position=3, doc=InputDocumentation(doc="-nostr                  Calculate no structures, only add sequence information,"))], outputs=[ToolOutput(tag="out_string_eg_output_directory", output_type=Directory(optional=True), selector=InputSelector(input_to_select="in_string_eg_output_directory", type_hint=File()), doc=OutputDocumentation(doc="<STRING> e.g. 'ProjectX/MySequences/GSPAN/'\nOutput directory for gspan files containing graphs."))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Structure_2_Gspan_Pl_V0_1_0().translate("wdl", allow_empty_container=True)

