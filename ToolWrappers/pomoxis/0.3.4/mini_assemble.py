from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Boolean, Directory, File

Mini_Assemble_V0_1_0 = CommandToolBuilder(tool="mini_assemble", base_command=["mini_assemble"], inputs=[ToolInput(tag="in_fastx_input_reads", input_type=Boolean(optional=True), prefix="-i", doc=InputDocumentation(doc="fastx input reads (required).")), ToolInput(tag="in_reference_fasta_assembly", input_type=Boolean(optional=True), prefix="-r", doc=InputDocumentation(doc="reference fasta for reference-guided consensus (instead of de novo assembly)")), ToolInput(tag="in_output_folder_default", input_type=Directory(optional=True), prefix="-o", doc=InputDocumentation(doc="output folder (default: assm).")), ToolInput(tag="in_output_file_prefix", input_type=File(optional=True), prefix="-p", doc=InputDocumentation(doc="output file prefix (default: reads).")), ToolInput(tag="in_number_minimap_racon", input_type=Boolean(optional=True), prefix="-t", doc=InputDocumentation(doc="number of minimap and racon threads (default: 1).")), ToolInput(tag="in_number_racon_rounds", input_type=Boolean(optional=True), prefix="-m", doc=InputDocumentation(doc="number of racon rounds (default: 4).")), ToolInput(tag="in_number_racon_shuffles", input_type=Boolean(optional=True), prefix="-n", doc=InputDocumentation(doc="number of racon shuffles (default: 1. If not 1, should be >10).")), ToolInput(tag="in_racon_window_length", input_type=Boolean(optional=True), prefix="-w", doc=InputDocumentation(doc="racon window length (default: 500).")), ToolInput(tag="in_keep_files_default", input_type=Boolean(optional=True), prefix="-k", doc=InputDocumentation(doc="keep intermediate files (default: delete).")), ToolInput(tag="in_minimaps_default_m", input_type=Boolean(optional=True), prefix="-K", doc=InputDocumentation(doc="minimap's -K option (default: 500M).")), ToolInput(tag="in_trim_adapters_reads", input_type=Boolean(optional=True), prefix="-c", doc=InputDocumentation(doc="trim adapters from reads prior to everything else.")), ToolInput(tag="in_error_correct_e", input_type=Boolean(optional=True), prefix="-e", doc=InputDocumentation(doc="error correct longest e% of reads prior to assembly, or an estimated coverage (e.g. 2x).\nFor an estimated coverage, the -l option must be a fastx or a length (e.g. 4.8mb).")), ToolInput(tag="in_reference_length_number", input_type=Boolean(optional=True), prefix="-l", doc=InputDocumentation(doc="Reference length, either as a number (e.g. 4.8mb) or fastx from which length will be calculated.")), ToolInput(tag="in_log_commands_running", input_type=Boolean(optional=True), prefix="-x", doc=InputDocumentation(doc="log all commands before running."))], outputs=[ToolOutput(tag="out_output_folder_default", output_type=Directory(optional=True), selector=InputSelector(input_to_select="in_output_folder_default", type_hint=File()), doc=OutputDocumentation(doc="output folder (default: assm).")), ToolOutput(tag="out_output_file_prefix", output_type=File(optional=True), selector=InputSelector(input_to_select="in_output_file_prefix", type_hint=File()), doc=OutputDocumentation(doc="output file prefix (default: reads)."))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Mini_Assemble_V0_1_0().translate("wdl", allow_empty_container=True)

