version 1.0

task Addbamtrackpl {
  input {
    File? in
    File? out
    File? bam_url
    String? label
    String? key
    String? classname
    File? bigwig_coverage
    Boolean? coverage
    String? min_score
    String? max_score
    Boolean? config
    String add_bam_track_do_tpl
  }
  command <<<
    add_bam_track_pl \
      ~{add_bam_track_do_tpl} \
      ~{if defined(in) then ("--in " +  '"' + in + '"') else ""} \
      ~{if defined(out) then ("--out " +  '"' + out + '"') else ""} \
      ~{if defined(bam_url) then ("--bam_url " +  '"' + bam_url + '"') else ""} \
      ~{if defined(label) then ("--label " +  '"' + label + '"') else ""} \
      ~{if defined(key) then ("--key " +  '"' + key + '"') else ""} \
      ~{if defined(classname) then ("--classname " +  '"' + classname + '"') else ""} \
      ~{if defined(bigwig_coverage) then ("--bigwigCoverage " +  '"' + bigwig_coverage + '"') else ""} \
      ~{if (coverage) then "--coverage" else ""} \
      ~{if defined(min_score) then ("--min_score " +  '"' + min_score + '"') else ""} \
      ~{if defined(max_score) then ("--max_score " +  '"' + max_score + '"') else ""} \
      ~{if (config) then "--config" else ""}
  >>>
  parameter_meta {
    in: "input trackList.json file. Default: data/trackList.json."
    out: "Output trackList.json file. Default: data/trackList.json."
    bam_url: "URL to BAM file (can be a relative path)"
    label: "unique track label for the new track."
    key: "key (display name) for track [default: label value]"
    classname: "CSS class for display [default: bam]"
    bigwig_coverage: "URL to BW file correlated to BAM file. Display coverage depth when\\nzoomed out."
    coverage: "display coverage data instead of alignments"
    min_score: "optional minimum score to use for generating coverage plot (only\\napplicable with --coverage option)"
    max_score: "optional maximum score to use for generating coverage plot (only\\napplicable with --coverage option)"
    config: "'{ \\\"my_key\\\": \\\"my_value\\\", ... }'\\noptional additional data to include in the track configuration. Any\\nvalues provided here will override the values generated by the rest\\nof the script.\\n"
    add_bam_track_do_tpl: "[ --in <input_trackList.json>  ]       \\\\n[ --out <output_trackList.json>        \\"
  }
  output {
    File out_stdout = stdout()
    File out_out = "${in_out}"
    File out_bigwig_coverage = "${in_bigwig_coverage}"
  }
}