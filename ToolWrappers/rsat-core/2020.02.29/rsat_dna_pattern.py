from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Boolean, String, File, Int

Rsat_Dna_Pattern_V0_1_0 = CommandToolBuilder(tool="rsat_dna_pattern", base_command=["rsat", "dna-pattern"], inputs=[ToolInput(tag="in_help", input_type=Boolean(optional=True), prefix="-help", doc=InputDocumentation(doc="short help message")), ToolInput(tag="in_input_sequence_file", input_type=Boolean(optional=True), prefix="-i", doc=InputDocumentation(doc="input sequence file. This file contains the sequences where the pattern(s)\nwill be searched for.\nVarious format are accepted\nIf omitted, standard input (eg keyboard) will be used.\nThis allows to use the program within a pipe.")), ToolInput(tag="in_mask", input_type=String(optional=True), prefix="-mask", doc=InputDocumentation(doc="|lower\nMask lower or uppercases, respecively, i.e. replace\nselected case by N characters.")), ToolInput(tag="in_format", input_type=String(optional=True), prefix="-format", doc=InputDocumentation(doc="sequence format. The accepted formats are")), ToolInput(tag="in_output_fileif_omitted", input_type=File(optional=True), prefix="-o", doc=InputDocumentation(doc="output file.\nIf omitted, standard output (eg screen) will be used.\nThis allows to use the program within a pipe.")), ToolInput(tag="in_pattern_entered_directly", input_type=Boolean(optional=True), prefix="-p", doc=InputDocumentation(doc="pattern entered directly after -p.\nAlternatively use -pl.")), ToolInput(tag="in_pl", input_type=Boolean(optional=True), prefix="-pl", doc=InputDocumentation(doc="name of the file containing the patterns to search .\n(see format below)")), ToolInput(tag="in_subst", input_type=Boolean(optional=True), prefix="-subst", doc=InputDocumentation(doc="#\nallow # substitutions.")), ToolInput(tag="in_no_iupac", input_type=Boolean(optional=True), prefix="-noIUPAC", doc=InputDocumentation(doc="The pattern is considered as a standard regular expression.\nIt is convenient to specifically search for masked sequences represented\nby 'N' characters in sequences:\nie : dna-pattern -i your_sequence_file -p 'N+' -noov -1str -noIUPAC")), ToolInput(tag="in_sc", input_type=Boolean(optional=True), prefix="-sc", doc=InputDocumentation(doc="#\nscore column\nthe #th column of the pattern file contains a number\nindicating the score for a match of this pattern. This\noption allows to weight the matches according to a\nuser-defined scheme.")), ToolInput(tag="in_no_id", input_type=Boolean(optional=True), prefix="-noid", doc=InputDocumentation(doc="do not search pattern identifier in the second column\nof pattern file. instead the id takes the same content\nas the pattern sequence.")), ToolInput(tag="in_noov", input_type=Boolean(optional=True), prefix="-noov", doc=InputDocumentation(doc="Do not count overlapping matches for self-overlapping\npatterns.")), ToolInput(tag="in_two_str", input_type=Boolean(optional=True), prefix="-2str", doc=InputDocumentation(doc="search matches on both strands (direct and reverse complement)")), ToolInput(tag="in_one_str", input_type=Boolean(optional=True), prefix="-1str", doc=InputDocumentation(doc="search matches only on the direct strand.")), ToolInput(tag="in_search_matches_only_reverse", input_type=Boolean(optional=True), prefix="-R", doc=InputDocumentation(doc="search matches only on the reverse complement strand.")), ToolInput(tag="in_id", input_type=Boolean(optional=True), prefix="-id", doc=InputDocumentation(doc="pattern identifier (one word).\nUse this option combined with -p, to specify the ID of\na unique pattern entered on the command line. For\nmultple patterns, it is more convenient to use a\npattern file (option -pl).")), ToolInput(tag="in_return", input_type=Int(optional=True), prefix="-return", doc=InputDocumentation(doc="[,field2,...]\nList of fields to return. Multiple fields can be\nentered separated by commas, or by using iteratively\nthe option.\n-return field1 [-return field2 ...]\nSupported fields: colsum,counts,ct,limits,notacgt,profiles,rank,rowsum,scores,sites,stats,table,total.\n-return sites:   return match positions (default)\n-return limits: return start and end positions for each\ninput sequence\n-return notacgt: return positions for characters that\ndo not correspond not standard nucleotides (ACGT) eg: N, X and\ndegenerate nucleotides from IUPAC code (eg: W, K)\n-return counts: return the count of matches per\nsequence.\n-return rank: return the rank of the sequence (this is\nespecially useful in combination with the option\n-sort).\n-return score: return a score per sequence, computed\nby summing the scores of the matching patterns.\n-return ct:    same as '-return counts', except that it\nreturns the sum of matches in all the files of the\nsequence file list, instead of the count within\neach separate file.\n-return table: return the count of pattern matches per\nsequence in the form of a table.  (one line per\nsequence, one column per pattern)\n-return colsum (together with -return table) prints an extra\ncolumn with the total occurrences per sequence\n-return rowsum (together with -return table) prints an\nextra row with total occurrences per pattern\n-return total (together with -return table) prints an\nextra column with the total occurrences per\nsequence and an extra row with total occurrences\nper pattern.  (amounts to combine -colsum and\n-rowsum)\n-return stats return matching statistics\n-return profiles return matching profiles with sliding\nwindows.")), ToolInput(tag="in_match_format", input_type=Boolean(optional=True), prefix="-match_format", doc=InputDocumentation(doc="format for returning matches (supported: fasta, table)")), ToolInput(tag="in_th", input_type=Boolean(optional=True), prefix="-th", doc=InputDocumentation(doc="#   Threshold.\nReturn match count only for sequences with >= # matches.\nOnly valid in combination with -c.")), ToolInput(tag="in_merge", input_type=Boolean(optional=True), prefix="-merge", doc=InputDocumentation(doc="merge mutually overlapping matches. When succesive\nmatches overlap, they are converted into a single\nmatch. The merged match takes the ID 'merged'. The\nscore is the highest score of the matching patterns.")), ToolInput(tag="in_return_matching_sequences", input_type=Boolean(optional=True), prefix="-N", doc=InputDocumentation(doc="#    return matching sequences with # flanking nucleotides")), ToolInput(tag="in_nl", input_type=Boolean(optional=True), prefix="-NL", doc=InputDocumentation(doc="#   return matching sequences with # left flanking nucleotides")), ToolInput(tag="in_nr", input_type=Boolean(optional=True), prefix="-NR", doc=InputDocumentation(doc="#   return matching sequences with # right flanking nucleotides")), ToolInput(tag="in_verbose", input_type=Boolean(optional=True), prefix="-v", doc=InputDocumentation(doc="verbose.")), ToolInput(tag="in_origin", input_type=Boolean(optional=True), prefix="-origin", doc=InputDocumentation(doc="#\ndefine # as the origin for the calculation of positions.\n-origin -0 defines the end of each sequence as the\norigin. The matching positions are then negative values,\nproviding the distance between the match and the end of the\nsequence.")), ToolInput(tag="in_window", input_type=Boolean(optional=True), prefix="-window", doc=InputDocumentation(doc="#\nSliding window size. The score at each position is\ncalculated by summing the scores of all patterns\nencountered within a sliding window of size #. This\noption automatically returns matching positions.\nA threshold can be specified to specify the minimal\nmatching score to be returned.")), ToolInput(tag="in_top", input_type=Boolean(optional=True), prefix="-top", doc=InputDocumentation(doc="(with sliding window only)\nonly return the top score obtained with the sliding\nwindow for each sequence.")), ToolInput(tag="in_sort", input_type=Boolean(optional=True), prefix="-sort", doc=InputDocumentation(doc="(with -top only)\nsort sequences according to their top score")), ToolInput(tag="in_perl_script_july", input_type=String(), position=0, doc=InputDocumentation(doc="perl script v1.1 by Jacques van Helden, 30 July 1997.")), ToolInput(tag="in_expressions_dot", input_type=String(), position=0, doc=InputDocumentation(doc="CATEGORY")), ToolInput(tag="in_sequences", input_type=String(), position=1, doc=InputDocumentation(doc="pattern matching")), ToolInput(tag="in_sequencefile_format_seqformat", input_type=String(), position=0, doc=InputDocumentation(doc="-i sequencefile -format seq_format -p pattern [-id identifier]\n[-1str|-2str|-R] [-c|-ct] [-noov]\n[-N flanking] [-v]")), ToolInput(tag="in_fast_a", input_type=String(), position=0, doc=InputDocumentation(doc="FastA format")), ToolInput(tag="in_intelligenetics_format", input_type=String(), position=1, doc=InputDocumentation(doc="IntelliGenetics format")), ToolInput(tag="in_single_sequence_file", input_type=String(), position=2, doc=InputDocumentation(doc="a single sequence in a file")), ToolInput(tag="in_multi", input_type=String(), position=3, doc=InputDocumentation(doc="each new line is a new sequence")), ToolInput(tag="in_list_files_containing", input_type=String(), position=4, doc=InputDocumentation(doc="a list of files containing each\na single raw sequence")), ToolInput(tag="in_symbol", input_type=String(), position=0, doc=InputDocumentation(doc="Nucleotide(s)   Description")), ToolInput(tag="in_nucleotides_dot", input_type=String(), position=0, doc=InputDocumentation(doc="DIRECT PATTERN INPUT")), ToolInput(tag="in_input_file_contain", input_type=String(), position=0, doc=InputDocumentation(doc="The input file must contain raw sequences without any\ncomment or other text. Tabs (\t), blank spaces and newline\ncharacters (\n) are accepted (they will be automatically\nremoved before analysis). The sequence must be terminated by\na newline character.")), ToolInput(tag="in_file_list_line", input_type=String(), position=1, doc=InputDocumentation(doc="file list. Each line of the input file contains the\nname of a file containing a single sequence in raw format.")), ToolInput(tag="in_intelligenetics_formatthe_first", input_type=String(), position=2, doc=InputDocumentation(doc="IntelliGenetics format.\nThe first non-comment line must be the sequence identifier\n(a single word without spaces).\nThe sequence follows the identifier line identifier. It can\ninclude spaces, tabs or newlines, that will be removed for\nsequence analysis.\nThe end of one sequence is indicated by termination character:\n1 for linear, 2 for circular sequences.\nA single file may contain several sequences.\nEXAMPLE of IG suite:\n; sequence of the region upstream from NIL1\n; Locus GAT1\n; ORF YFL021W  coord:   6 95964 97496\n; upstream region size: 100\n; upstream region coord:        6 95864 95963\nGAT1\nACAGAGCAACAATAATAACAGCACTATGAGTCGCACACTT\nGCGGTGCCCGGCCCAGCCACATATATATAGGTGTGTGCCA\nCTCCCGGCCCCGGTATTAGC\n1\n; sequence of the region upstream from PUT4\n; Locus PUT4\n; ORF YOR348C  coord:   15 988773 986890\n; upstream region size: 100\n; upstream region coord:        15 988873 988774\nPUT4\nGGGTTTGTGTTCCTCTTCCTTTCCTTTTTTTTTCTCTCTT\nCCCTTCCAGTTTCTTTTATTCTTTGCTGTTTCGAAGAATC\nACACCATCAATGAATAAATC\n1"))], outputs=[ToolOutput(tag="out_output_fileif_omitted", output_type=File(optional=True), selector=InputSelector(input_to_select="in_output_fileif_omitted", type_hint=File()), doc=OutputDocumentation(doc="output file.\nIf omitted, standard output (eg screen) will be used.\nThis allows to use the program within a pipe."))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Rsat_Dna_Pattern_V0_1_0().translate("wdl", allow_empty_container=True)

