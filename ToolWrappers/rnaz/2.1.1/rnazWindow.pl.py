from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Int, Boolean

Rnazwindow_Pl_V0_1_0 = CommandToolBuilder(tool="rnazWindow.pl", base_command=["rnazWindow.pl"], inputs=[ToolInput(tag="in_window", input_type=Int(optional=True), prefix="--window", doc=InputDocumentation(doc="Size of the window (Default: 120)")), ToolInput(tag="in_slide", input_type=Int(optional=True), prefix="--slide", doc=InputDocumentation(doc="Step size (Default: 120)")), ToolInput(tag="in_max_length", input_type=Boolean(optional=True), prefix="--max-length", doc=InputDocumentation(doc="Slice only alignments longer than N columns. This means blocks\nlonger than the window size given by --window but shorter than N\nare kept intact and not sliced. Per default this length is set\nto the window size given by --window (or 120 by default).")), ToolInput(tag="in_max_gap", input_type=Int(optional=True), prefix="--max-gap", doc=InputDocumentation(doc="Maximum fraction of gaps. If a reference sequence is used (i.e.\n'--no-reference' is not set), each sequence is compared to the\nreference sequence and if in the pairwise comparison the\nfraction of columns with gaps is higher than X the sequence is\ndiscarded. If no reference sequence is used, all sequences with\na fraction of gaps higher than X are discarded. (Default: 0.25)")), ToolInput(tag="in_max_masked", input_type=Int(optional=True), prefix="--max-masked", doc=InputDocumentation(doc="Maximum fraction of masked (=lowercase letters) in a sequence.\nAll sequences with a fraction of more than X lowercase letters\nare discarded. This is usually used for excluding repeat\nsequences marked by 'RepeatMasker' but any other information can\nbe encoded by using lowercase letters. (Default: 0.1)")), ToolInput(tag="in_min_id", input_type=Int(optional=True), prefix="--min-id", doc=InputDocumentation(doc="Discard alignment windows with an overall mean pairwise identity\nsmaller than X%. (Default: 50)")), ToolInput(tag="in_min_seqs", input_type=Int(optional=True), prefix="--min-seqs", doc=InputDocumentation(doc="Minimum number of sequences in an alignment. Discard any windows\nwith less than N sequences (Default:2).")), ToolInput(tag="in_max_seqs", input_type=Int(optional=True), prefix="--max-seqs", doc=InputDocumentation(doc="Maximum number of sequences in an alignment. If the number of\nsequences in a window is higher than N, a subset of sequences is\nused with exactly N sequences. The greedy algorithm of the\nprogram 'rnazSelectSeqs.pl' is used which optimizes for a user\nspecified mean pairwise identity (see '--opt-id'). (Default: 6)")), ToolInput(tag="in_num_samples", input_type=Int(optional=True), prefix="--num-samples", doc=InputDocumentation(doc="Number of different subsets of sequences that is sampled if\nthere are more sequences in the alignment than '--max-seqs'.\n(Default: 1)")), ToolInput(tag="in_min_length", input_type=Int(optional=True), prefix="--min-length", doc=InputDocumentation(doc="Minimum number of columns of an alignment slice. After removing\nsequences from the alignment, ``all-gap' columns are removed. If\nthe resulting alignment has fewer than N columns, the complete\nalignment is discarded. Default: 50")), ToolInput(tag="in_opt_id", input_type=Int(optional=True), prefix="--opt-id", doc=InputDocumentation(doc="If the number of sequences has to be reduced (see '--max-seqs')\na subset of sequences is chosen which is optimized for this\nvalue of mean pairwise identity. (In percent, default: 80)")), ToolInput(tag="in_max_id", input_type=Int(optional=True), prefix="--max-id", doc=InputDocumentation(doc="One sequence from pairs with pairwise identity higher than X %\nthis is removed (default: 99, i.e. only almost identical\nsequences are removed) NOT IMPLEMENTED")), ToolInput(tag="in_both_strands", input_type=Boolean(optional=True), prefix="--both-strands", doc=InputDocumentation(doc="Output forward, reverse complement or both of the sequences in\nthe windows. Please note: 'RNAz' has the same options, so if you\nuse 'rnazWindow.pl' for an RNAz screen, we recommend to set the\noption directly in 'RNAz' and leave the default here. (Default:\n---forward)")), ToolInput(tag="in_no_reference", input_type=Boolean(optional=True), prefix="--no-reference", doc=InputDocumentation(doc="By default the first sequence is interpreted as reference\nsequence. This means, for example, that if the reference\nsequence is removed during filtering steps the complete\nalignment is discarded. Also, if there are too many sequences in\nthe alignment, the reference sequence is never removed when\nchoosing an appropriate subset. Having a reference sequence is\ncrucial if you are doing screens of genomic regions. For some\nother applications it might not be necessary and in such cases\nyou can change the default behaviour by setting this option.")), ToolInput(tag="in_no_range_check", input_type=Boolean(optional=True), prefix="--no-rangecheck", doc=InputDocumentation(doc="By default, all sequences of all windows are discarded, if the\nlength or base composition is outside the training range of\nRNAz, independent of the window-size commandline parameter.\nHowever with the flag --no-rangecheck such sequences outside the\ntraining range are not discarded. As of version 2.0, RNAz can\ncope with sequences outside this traning range. However the same\nquality of the RNAz results cannot be guaranteed if sequences\noutside the default range are present.")), ToolInput(tag="in_verbose", input_type=Boolean(optional=True), prefix="--verbose", doc=InputDocumentation(doc="Verbose output on STDERR, describing all performed filtering\nsteps.")), ToolInput(tag="in_man", input_type=Boolean(optional=True), prefix="--man", doc=InputDocumentation(doc="Prints a detailed manual page and exits."))], outputs=[], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Rnazwindow_Pl_V0_1_0().translate("wdl", allow_empty_container=True)

