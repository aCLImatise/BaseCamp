from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Boolean, Int, File, String

Nextalign_V0_1_0 = CommandToolBuilder(tool="nextalign", base_command=["nextalign"], inputs=[ToolInput(tag="in_version_detailed", input_type=Boolean(optional=True), prefix="--version-detailed", doc=InputDocumentation(doc="Show detailed version")), ToolInput(tag="in_verbose", input_type=Boolean(optional=True), prefix="--verbose", doc=InputDocumentation(doc="Increase verbosity of the console output. By\ndefault only errors and warnings are shown.\nWith this option more information will be\nprinted.")), ToolInput(tag="in_jobs", input_type=Int(optional=True), prefix="--jobs", doc=InputDocumentation(doc="(optional, integer) Number of CPU threads\nused by the algorithm. If not specified or if a\nnon-positive value specified, the algorithm\nwill use all the available threads. (default: 0)")), ToolInput(tag="in_in_order", input_type=Boolean(optional=True), prefix="--in-order", doc=InputDocumentation(doc="Force parallel processing in-order. With this\nflag the program will wait for results from\nthe previous sequences to be written to the\noutput files before writing the results of the\nnext sequences, preserving the same order as in\nthe input file. Due to variable sequence\nprocessing times, this might introduce unnecessary\nwaiting times, but ensures that the resulting\nsequences are written in the same order as\nthey occur in the inputs (except for sequences\nwhich have errors). By default, without this\nflag, processing might happen out of order, which\nis faster, due to the elimination of waiting,\nbut might also lead to results written out of\norder - the order of results is not specified\nand depends on thread scheduling and\nprocessing times of individual sequences. This option\nis only relevant when `--jobs` is greater than\n1 or is omitted. Note: the sequences which\ntrigger errors during processing will be omitted\nfrom outputs, regardless of this flag.")), ToolInput(tag="in_sequences", input_type=File(optional=True), prefix="--sequences", doc=InputDocumentation(doc="(required, string) Path to a FASTA file with\ninput sequences")), ToolInput(tag="in_reference", input_type=File(optional=True), prefix="--reference", doc=InputDocumentation(doc="(required, string) Path to a FASTA or plain\ntext file containing reference sequence")), ToolInput(tag="in_genes", input_type=String(optional=True), prefix="--genes", doc=InputDocumentation(doc="(optional, string) List of genes to\ntranslate. Requires `--genemap`. If not supplied or\nempty, sequence will not be translated. If\nnon-empty, should contain a coma-separated list of\ngene names. Parameters `--genes` and\n`--genemap` should be either both specified or both\nomitted.")), ToolInput(tag="in_gene_map", input_type=File(optional=True), prefix="--genemap", doc=InputDocumentation(doc="(optional, string) Path to a GFF file\ncontaining custom gene map. Requires `--genes.` If\nnot supplied, sequence will not be translated.\nParameters `--genes` and `--genemap` should be\neither both specified or both omitted.")), ToolInput(tag="in_output_dir", input_type=File(optional=True), prefix="--output-dir", doc=InputDocumentation(doc="(optional, string) Write output files to this\ndirectory. The base filename can be set using\n`--output-basename` flag. The paths can be\noverridden on a per-file basis using\n`--output-*` flags. If the required directory tree does\nnot exist, it will be created.")), ToolInput(tag="in_output_basename", input_type=File(optional=True), prefix="--output-basename", doc=InputDocumentation(doc="(optional, string) Set the base filename to\nuse for output files. To be used together with\n`--output-dir` flag. By default uses the\nfilename of the sequences file (provided with\n`--sequences`). The paths can be overridden on a\nper-file basis using `--output-*` flags.")), ToolInput(tag="in_include_reference", input_type=Boolean(optional=True), prefix="--include-reference", doc=InputDocumentation(doc="(optional, boolean) Whether to include\naligned reference nucleotide sequence into output\nnucleotide sequence fasta file and reference\npeptides into output peptide files.")), ToolInput(tag="in_output_fast_a", input_type=File(optional=True), prefix="--output-fasta", doc=InputDocumentation(doc="(optional, string) Path to output aligned\nsequences in FASTA format (overrides paths given\nwith `--output-dir` and `--output-basename`).\nIf the required directory tree does not exist,\nit will be created.")), ToolInput(tag="in_output_insertions", input_type=File(optional=True), prefix="--output-insertions", doc=InputDocumentation(doc="(optional, string) Path to output stripped\ninsertions data in CSV format (overrides paths\ngiven with `--output-dir` and\n`--output-basename`). If the required directory tree does not\nexist, it will be created.")), ToolInput(tag="in_min_length", input_type=Int(optional=True), prefix="--min-length", doc=InputDocumentation(doc="(optional, integer, non-negative) Minimum\nlength of nucleotide sequence to consider for\nalignment. If a sequence is shorter than that,\nalignment will not be attempted and a warning\nwill be emitted. When adjusting this parameter,\nnote that alignment of short sequences can be\nunreliable. (default: 100)")), ToolInput(tag="in_penalty_gap_extend", input_type=Int(optional=True), prefix="--penalty-gap-extend", doc=InputDocumentation(doc="(optional, integer, non-negative) Penalty for\nextending a gap. If zero, all gaps regardless\nof length incur the same penalty. (default:\n0)")), ToolInput(tag="in_penalty_gap_open", input_type=Int(optional=True), prefix="--penalty-gap-open", doc=InputDocumentation(doc="(optional, integer, positive) Penalty for\nopening of a gap. A higher penalty results in\nfewer gaps and more mismatches. Should be less\nthan `--penalty-gap-open-in-frame` to avoid gaps\nin genes. (default: 6)")), ToolInput(tag="in_penalty_gap_open_in_frame", input_type=Int(optional=True), prefix="--penalty-gap-open-in-frame", doc=InputDocumentation(doc="(optional, integer, positive) As\n`--penalty-gap-open`, but for opening gaps at the\nbeginning of a codon. Should be greater than\n`--penalty-gap-open` and less than\n`--penalty-gap-open-out-of-frame`, to avoid gaps in genes, but\nfavor gaps that align with codons. (default: 7)")), ToolInput(tag="in_penalty_gap_open_out_of_frame", input_type=Int(optional=True), prefix="--penalty-gap-open-out-of-frame", doc=InputDocumentation(doc="(optional, integer, positive) As\n`--penalty-gap-open`, but for opening gaps in the body of\na codon. Should be greater than\n`--penalty-gap-open-in-frame` to favor gaps that align with\ncodons. (default: 8)")), ToolInput(tag="in_penalty_mismatch", input_type=Int(optional=True), prefix="--penalty-mismatch", doc=InputDocumentation(doc="(optional, integer, positive) Penalty for\naligned nucleotides or aminoacids that differ in\nstate during alignment. Note that this is\nredundantly parameterized with `--score-match`.\n(default: 1)")), ToolInput(tag="in_score_match", input_type=Int(optional=True), prefix="--score-match", doc=InputDocumentation(doc="(optional, integer, positive) Score for\nencouraging aligned nucleotides or aminoacids with\nmatching state. (default: 3)")), ToolInput(tag="in_max_in_del", input_type=Int(optional=True), prefix="--max-indel", doc=InputDocumentation(doc="(optional, integer, non-negative) Maximum\nlength of insertions or deletions allowed to\nproceed with alignment. Alignments with long\nindels are slow to compute and require substantial\nmemory in the current implementation.\nAlignment of sequences with indels longer that this\nvalue, will not be attempted and a warning will\nbe emitted. (default: 400)")), ToolInput(tag="in_nuc_seed_length", input_type=Int(optional=True), prefix="--nuc-seed-length", doc=InputDocumentation(doc="(optional, integer, positive) Seed length for\nnucleotide alignment. Seeds should be long\nenough to be unique, but short enough to match\nwith high probability. (default: 21)")), ToolInput(tag="in_nuc_min_seeds", input_type=Int(optional=True), prefix="--nuc-min-seeds", doc=InputDocumentation(doc="(optional, integer, positive) Minimum number\nof seeds to search for during nucleotide\nalignment. Relevant for short sequences. In long\nsequences, the number of seeds is determined by\n`--nuc-seed-spacing`. Should be a positive\ninteger. (default: 10)")), ToolInput(tag="in_nuc_seed_spacing", input_type=Int(optional=True), prefix="--nuc-seed-spacing", doc=InputDocumentation(doc="(optional, integer, non-negative) Spacing\nbetween seeds during nucleotide alignment.\n(default: 100)")), ToolInput(tag="in_nuc_mismatches_allowed", input_type=Int(optional=True), prefix="--nuc-mismatches-allowed", doc=InputDocumentation(doc="(optional, integer, non-negative) Maximum\nnumber of mismatching nucleotides allowed for a\nseed to be considered a match. (default: 3)")), ToolInput(tag="in_aa_seed_length", input_type=Int(optional=True), prefix="--aa-seed-length", doc=InputDocumentation(doc="(optional, integer, positive) Seed length for\naminoacid alignment. (default: 12)")), ToolInput(tag="in_aa_min_seeds", input_type=Int(optional=True), prefix="--aa-min-seeds", doc=InputDocumentation(doc="(optional, integer, positive) Minimum number\nof seeds to search for during aminoacid\nalignment. Relevant for short sequences. In long\nsequences, the number of seeds is determined by\n`--aa-seed-spacing`. (default: 10)")), ToolInput(tag="in_aa_seed_spacing", input_type=Int(optional=True), prefix="--aa-seed-spacing", doc=InputDocumentation(doc="(optional, integer, non-negative) Spacing\nbetween seeds during aminoacid alignment.\n(default: 100)")), ToolInput(tag="in_aa_mismatches_allowed", input_type=Int(optional=True), prefix="--aa-mismatches-allowed", doc=InputDocumentation(doc="(optional, integer, non-negative) Maximum\nnumber of mismatching aminoacids allowed for a\nseed to be considered a match. (default: 2)\n")), ToolInput(tag="in_v", input_type=Boolean(optional=True), prefix="-v", doc=InputDocumentation(doc=""))], outputs=[ToolOutput(tag="out_output_dir", output_type=File(optional=True), selector=InputSelector(input_to_select="in_output_dir", type_hint=File()), doc=OutputDocumentation(doc="(optional, string) Write output files to this\ndirectory. The base filename can be set using\n`--output-basename` flag. The paths can be\noverridden on a per-file basis using\n`--output-*` flags. If the required directory tree does\nnot exist, it will be created.")), ToolOutput(tag="out_output_basename", output_type=File(optional=True), selector=InputSelector(input_to_select="in_output_basename", type_hint=File()), doc=OutputDocumentation(doc="(optional, string) Set the base filename to\nuse for output files. To be used together with\n`--output-dir` flag. By default uses the\nfilename of the sequences file (provided with\n`--sequences`). The paths can be overridden on a\nper-file basis using `--output-*` flags.")), ToolOutput(tag="out_output_fast_a", output_type=File(optional=True), selector=InputSelector(input_to_select="in_output_fast_a", type_hint=File()), doc=OutputDocumentation(doc="(optional, string) Path to output aligned\nsequences in FASTA format (overrides paths given\nwith `--output-dir` and `--output-basename`).\nIf the required directory tree does not exist,\nit will be created.")), ToolOutput(tag="out_output_insertions", output_type=File(optional=True), selector=InputSelector(input_to_select="in_output_insertions", type_hint=File()), doc=OutputDocumentation(doc="(optional, string) Path to output stripped\ninsertions data in CSV format (overrides paths\ngiven with `--output-dir` and\n`--output-basename`). If the required directory tree does not\nexist, it will be created."))], container="quay.io/biocontainers/nextalign:0.2.0--0", version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Nextalign_V0_1_0().translate("wdl")

