from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Int, String, Boolean, File

Blat_V0_1_0 = CommandToolBuilder(tool="blat", base_command=["blat"], inputs=[ToolInput(tag="in_ooc", input_type=Int(optional=True), prefix="-ooc", doc=InputDocumentation(doc="tells the program to load over-occurring 11-mers from\nan external file.  This will increase the speed\nby a factor of 40 in many cases, but is not required.")), ToolInput(tag="in_database_type_type", input_type=String(optional=True), prefix="-t", doc=InputDocumentation(doc="Database type.  Type is one of:\ndna - DNA sequence\nprot - protein sequence\ndnax - DNA sequence translated in six frames to protein\nThe default is dna.")), ToolInput(tag="in_query_type_type", input_type=String(optional=True), prefix="-q", doc=InputDocumentation(doc="Query type.  Type is one of:\ndna - DNA sequence\nrna - RNA sequence\nprot - protein sequence\ndnax - DNA sequence translated in six frames to protein\nrnax - DNA sequence translated in three frames to protein\nThe default is dna.")), ToolInput(tag="in_prot", input_type=Boolean(optional=True), prefix="-prot", doc=InputDocumentation(doc="Synonymous with -t=prot -q=prot.")), ToolInput(tag="in_tile_size", input_type=Int(optional=True), prefix="-tileSize", doc=InputDocumentation(doc="Sets the size of match that triggers an alignment.\nUsually between 8 and 12.\nDefault is 11 for DNA and 5 for protein.")), ToolInput(tag="in_step_size", input_type=String(optional=True), prefix="-stepSize", doc=InputDocumentation(doc="Spacing between tiles. Default is tileSize.")), ToolInput(tag="in_one_off", input_type=Int(optional=True), prefix="-oneOff", doc=InputDocumentation(doc="If set to 1, this allows one mismatch in tile and still\ntriggers an alignment.  Default is 0.")), ToolInput(tag="in_min_match", input_type=Int(optional=True), prefix="-minMatch", doc=InputDocumentation(doc="Sets the number of tile matches.  Usually set from 2 to 4.\nDefault is 2 for nucleotide, 1 for protein.")), ToolInput(tag="in_min_score", input_type=Int(optional=True), prefix="-minScore", doc=InputDocumentation(doc="Sets minimum score.  This is the matches minus the\nmismatches minus some sort of gap penalty.  Default is 30.")), ToolInput(tag="in_min_identity", input_type=Int(optional=True), prefix="-minIdentity", doc=InputDocumentation(doc="Sets minimum sequence identity (in percent).  Default is\n90 for nucleotide searches, 25 for protein or translated\nprotein searches.")), ToolInput(tag="in_max_gap", input_type=Int(optional=True), prefix="-maxGap", doc=InputDocumentation(doc="Sets the size of maximum gap between tiles in a clump.  Usually\nset from 0 to 3.  Default is 2. Only relevent for minMatch > 1.")), ToolInput(tag="in_no_head", input_type=Boolean(optional=True), prefix="-noHead", doc=InputDocumentation(doc="Suppresses .psl header (so it's just a tab-separated file).")), ToolInput(tag="in_make_ooc", input_type=File(optional=True), prefix="-makeOoc", doc=InputDocumentation(doc="Make overused tile file. Target needs to be complete genome.")), ToolInput(tag="in_rep_match", input_type=Int(optional=True), prefix="-repMatch", doc=InputDocumentation(doc="Sets the number of repetitions of a tile allowed before\nit is marked as overused.  Typically this is 256 for tileSize\n12, 1024 for tile size 11, 4096 for tile size 10.\nDefault is 1024.  Typically comes into play only with makeOoc.\nAlso affected by stepSize: when stepSize is halved, repMatch is\ndoubled to compensate.")), ToolInput(tag="in_mask", input_type=File(optional=True), prefix="-mask", doc=InputDocumentation(doc="Mask out repeats.  Alignments won't be started in masked region\nbut may extend through it in nucleotide searches.  Masked areas\nare ignored entirely in protein or translated searches. Types are:\nlower - mask out lower-cased sequence\nupper - mask out upper-cased sequence\nout   - mask according to database.out RepeatMasker .out file\nfile.out - mask database according to RepeatMasker file.out")), ToolInput(tag="in_q_mask", input_type=String(optional=True), prefix="-qMask", doc=InputDocumentation(doc="Mask out repeats in query sequence.  Similar to -mask above, but\nfor query rather than target sequence.")), ToolInput(tag="in_repeats", input_type=String(optional=True), prefix="-repeats", doc=InputDocumentation(doc="Type is same as mask types above.  Repeat bases will not be\nmasked in any way, but matches in repeat areas will be reported\nseparately from matches in other areas in the psl output.")), ToolInput(tag="in_min_rep_divergence", input_type=Int(optional=True), prefix="-minRepDivergence", doc=InputDocumentation(doc="Minimum percent divergence of repeats to allow\nthem to be unmasked.  Default is 15.  Only relevant for\nmasking using RepeatMasker .out files.")), ToolInput(tag="in_dots", input_type=String(optional=True), prefix="-dots", doc=InputDocumentation(doc="Output dot every N sequences to show program's progress.")), ToolInput(tag="in_trim_t", input_type=Boolean(optional=True), prefix="-trimT", doc=InputDocumentation(doc="Trim leading poly-T.")), ToolInput(tag="in_not_rima", input_type=Boolean(optional=True), prefix="-noTrimA", doc=InputDocumentation(doc="Don't trim trailing poly-A.")), ToolInput(tag="in_trim_hard_a", input_type=Boolean(optional=True), prefix="-trimHardA", doc=InputDocumentation(doc="Remove poly-A tail from qSize as well as alignments in\npsl output.")), ToolInput(tag="in_fast_map", input_type=Boolean(optional=True), prefix="-fastMap", doc=InputDocumentation(doc="Run for fast DNA/DNA remapping - not allowing introns,\nrequiring high %ID. Query sizes must not exceed 5000.")), ToolInput(tag="in_out", input_type=File(optional=True), prefix="-out", doc=InputDocumentation(doc="Controls output file format.  Type is one of:\npsl - Default.  Tab-separated format, no sequence\npslx - Tab-separated format with sequence\naxt - blastz-associated axt format\nmaf - multiz-associated maf format\nsim4 - similar to sim4 format\nwublast - similar to wublast format\nblast - similar to NCBI blast format\nblast8- NCBI blast tabular format\nblast9 - NCBI blast tabular format with comments")), ToolInput(tag="in_fine", input_type=Boolean(optional=True), prefix="-fine", doc=InputDocumentation(doc="For high-quality mRNAs, look harder for small initial and\nterminal exons.  Not recommended for ESTs.")), ToolInput(tag="in_max_intron", input_type=Int(optional=True), prefix="-maxIntron", doc=InputDocumentation(doc="Sets maximum intron size. Default is 750000.")), ToolInput(tag="in_extend_through_n", input_type=Boolean(optional=True), prefix="-extendThroughN", doc=InputDocumentation(doc="Allows extension of alignment through large blocks of Ns.")), ToolInput(tag="in_database", input_type=String(), position=0, doc=InputDocumentation(doc="")), ToolInput(tag="in_query", input_type=String(), position=1, doc=InputDocumentation(doc=""))], outputs=[ToolOutput(tag="out_mask", output_type=File(optional=True), selector=InputSelector(input_to_select="in_mask", type_hint=File()), doc=OutputDocumentation(doc="Mask out repeats.  Alignments won't be started in masked region\nbut may extend through it in nucleotide searches.  Masked areas\nare ignored entirely in protein or translated searches. Types are:\nlower - mask out lower-cased sequence\nupper - mask out upper-cased sequence\nout   - mask according to database.out RepeatMasker .out file\nfile.out - mask database according to RepeatMasker file.out")), ToolOutput(tag="out_out", output_type=File(optional=True), selector=InputSelector(input_to_select="in_out", type_hint=File()), doc=OutputDocumentation(doc="Controls output file format.  Type is one of:\npsl - Default.  Tab-separated format, no sequence\npslx - Tab-separated format with sequence\naxt - blastz-associated axt format\nmaf - multiz-associated maf format\nsim4 - similar to sim4 format\nwublast - similar to wublast format\nblast - similar to NCBI blast format\nblast8- NCBI blast tabular format\nblast9 - NCBI blast tabular format with comments"))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Blat_V0_1_0().translate("wdl", allow_empty_container=True)

