!Command
command:
- xyalign
positional:
- !Positional
  optional: false
  position: 0
  name: end.
  description: --version, -V         Print version and exit.
- !Positional
  optional: false
  position: 1
  name: sample_xyalign.log
  description: --reporting_level {DEBUG,INFO,ERROR,CRITICAL}
- !Positional
  optional: false
  position: 0
  name: files.
  description: --no_bam_analysis     Include flag to prevent depth/mapq analysis of
    bam
named:
- !Flag
  optional: true
  synonyms:
  - --bam
  description: "[BAM [BAM ...]]\nFull path to input bam files. If more than one\n\
    provided, only the first will be used for modules\nother than --CHROM_STATS"
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --cram
  description: "[CRAM [CRAM ...]]\nFull path to input cram files. If more than one\n\
    provided, only the first will be used for modules\nother than --CHROM_STATS. Not\
    \ currently supported."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --sam
  description: "[SAM [SAM ...]]\nFull path to input sam files. If more than one\n\
    provided, only the first will be used for modules\nother than --CHROM_STATS. Not\
    \ currently supported."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --ref
  description: "REQUIRED. Path to reference sequence (including file\nname)."
  args: !SimpleFlagArg
    name: REF
- !Flag
  optional: true
  synonyms:
  - --output_dir
  - -o
  description: "REQUIRED. Output directory. XYalign will create a\ndirectory structure\
    \ within this directory"
  args: !SimpleFlagArg
    name: OUTPUT_DIR
- !Flag
  optional: true
  synonyms:
  - --chromosomes
  description: "[CHROMOSOMES [CHROMOSOMES ...]], -c [CHROMOSOMES [CHROMOSOMES ...]]\n\
    Chromosomes to analyze (names must match reference\nexactly). For humans, we recommend\
    \ at least chr19,\nchrX, chrY. Generally, we suggest including the sex\nchromosomes\
    \ and at least one autosome. To analyze all\nchromosomes use '--chromosomes ALL'\
    \ or '--chromosomes\nall'."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --x_chromosome
  description: "[X_CHROMOSOME [X_CHROMOSOME ...]], -x [X_CHROMOSOME [X_CHROMOSOME\
    \ ...]]\nNames of x-linked scaffolds in reference fasta (must\nmatch reference\
    \ exactly)."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --y_chromosome
  description: "[Y_CHROMOSOME [Y_CHROMOSOME ...]], -y [Y_CHROMOSOME [Y_CHROMOSOME\
    \ ...]]\nNames of y-linked scaffolds in reference fasta (must\nmatch reference\
    \ exactly). Defaults to chrY. Give None\nif using an assembly without a Y chromosome"
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --sample_id
  - -id
  description: "Name/ID of sample - for use in plot titles and file\nnaming. Default\
    \ is sample"
  args: !SimpleFlagArg
    name: SAMPLE_ID
- !Flag
  optional: true
  synonyms:
  - --cpus
  description: Number of cores/threads to use. Default is 1
  args: !SimpleFlagArg
    name: CPUS
- !Flag
  optional: true
  synonyms:
  - --xmx
  description: "Memory to be provided to java programs via -Xmx. E.g.,\nuse the flag\
    \ '--xmx 4g' to pass '-Xmx4g' as a flag\nwhen running java programs (currently\
    \ just repair.sh).\nDefault is 'None' (i.e., nothing provided on the\ncommand\
    \ line), which will allow repair.sh to\nautomatically allocate memory. Note that\
    \ if you're\nusing --STRIP_READS on deep coverage whole genome\ndata, you might\
    \ need quite a bit of memory, e.g. '--\nxmx 16g', '--xmx 32g', or more depending\
    \ on how many\nreads are present per read group."
  args: !SimpleFlagArg
    name: XMX
- !Flag
  optional: true
  synonyms:
  - --fastq_compression
  description: "Compression level for fastqs output from repair.sh.\nBetween (inclusive)\
    \ 0 and 9. Default is 3. 1 through 9\nindicate compression levels. If 0, fastqs\
    \ will be\nuncompressed."
  args: !ChoiceFlagArg
    choices: !!set
      '9':
      '0':
      '2':
      '5':
      '7':
      '8':
      '3':
      '1':
      '4':
      '6':
- !Flag
  optional: true
  synonyms:
  - --single_end
  description: Include flag if reads are single-end and NOT paired-
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --no_cleanup
  description: Include flag to preserve temporary files.
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --PREPARE_REFERENCE
  description: "This flag will limit XYalign to only preparing\nreference fastas for\
    \ individuals with and without Y\nchromosomes. These fastas can then be passed\
    \ with each\nsample to save subsequent processing time."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --CHROM_STATS
  description: "This flag will limit XYalign to only analyzing\nprovided bam files\
    \ for depth and mapq across entire\nchromosomes."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --ANALYZE_BAM
  description: "This flag will limit XYalign to only analyzing the bam\nfile for depth,\
    \ mapq, and (optionally) read balance\nand outputting plots."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --CHARACTERIZE_SEX_CHROMS
  description: "This flag will limit XYalign to the steps required to\ncharacterize\
    \ sex chromosome content (i.e., analyzing\nthe bam for depth, mapq, and read balance\
    \ and running\nstatistical tests to help infer ploidy)"
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --REMAPPING
  description: "This flag will limit XYalign to only the steps\nrequired to strip\
    \ reads and remap to masked\nreferences. If masked references are not provided,\n\
    they will be created."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --STRIP_READS
  description: "This flag will limit XYalign to only the steps\nrequired to strip\
    \ reads from a provided bam file."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --logfile
  description: Name of logfile. Will overwrite if exists. Default is
  args: !SimpleFlagArg
    name: LOGFILE
- !Flag
  optional: true
  synonyms:
  - --platypus_path
  description: "Path to platypus. Default is 'platypus'. If platypus\nis not directly\
    \ callable (e.g., '/path/to/platypus' or\n'/path/to/Playpus.py'), then provide\
    \ path to python as\nwell (e.g., '/path/to/python /path/to/platypus'). In\naddition,\
    \ be sure provided python is version 2. See\nthe documentation for more information\
    \ about setting\nup an anaconda environment."
  args: !SimpleFlagArg
    name: PLATYPUS_PATH
- !Flag
  optional: true
  synonyms:
  - --bwa_path
  description: Path to bwa. Default is 'bwa'
  args: !SimpleFlagArg
    name: BWA_PATH
- !Flag
  optional: true
  synonyms:
  - --samtools_path
  description: Path to samtools. Default is 'samtools'
  args: !SimpleFlagArg
    name: SAMTOOLS_PATH
- !Flag
  optional: true
  synonyms:
  - --repairsh_path
  description: "Path to bbmap's repair.sh script. Default is\n'repair.sh'"
  args: !SimpleFlagArg
    name: REPAIRSH_PATH
- !Flag
  optional: true
  synonyms:
  - --shufflesh_path
  description: "Path to bbmap's shuffle.sh script. Default is\n'shuffle.sh'"
  args: !SimpleFlagArg
    name: SHUFFLESH_PATH
- !Flag
  optional: true
  synonyms:
  - --sambamba_path
  description: Path to sambamba. Default is 'sambamba'
  args: !SimpleFlagArg
    name: SAMBAMBA_PATH
- !Flag
  optional: true
  synonyms:
  - --bedtools_path
  description: Path to bedtools. Default is 'bedtools'
  args: !SimpleFlagArg
    name: BEDTOOLS_PATH
- !Flag
  optional: true
  synonyms:
  - --platypus_calling
  description: "Platypus calling withing the pipeline (before\nprocessing, after processing,\
    \ both, or neither).\nOptions: both, none, before, after."
  args: !ChoiceFlagArg
    choices: !!set
      after:
      both:
      before:
      none:
- !Flag
  optional: true
  synonyms:
  - --no_variant_plots
  description: Include flag to prevent plotting read balance from VCF
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --skip_compatibility_check
  description: "Include flag to prevent check of compatibility between\ninput bam\
    \ and reference fasta"
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --no_perm_test
  description: Include flag to turn off permutation tests.
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --no_ks_test
  description: Include flag to turn off KS Two Sample tests.
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --no_bootstrap
  description: "Include flag to turn off bootstrap analyses. Requires\neither --y_present,\
    \ --y_absent, or\n--sex_chrom_calling_threshold if running full\npipeline."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --variant_site_quality
  - -vsq
  description: "Consider all SNPs with a site quality (QUAL) greater\nthan or equal\
    \ to this value. Default is 30."
  args: !SimpleFlagArg
    name: VARIANT_SITE_QUALITY
- !Flag
  optional: true
  synonyms:
  - --variant_genotype_quality
  - -vgq
  description: "Consider all SNPs with a sample genotype quality\ngreater than or\
    \ equal to this value. Default is 30."
  args: !SimpleFlagArg
    name: VARIANT_GENOTYPE_QUALITY
- !Flag
  optional: true
  synonyms:
  - --variant_depth
  - -vd
  description: "Consider all SNPs with a sample depth greater than or\nequal to this\
    \ value. Default is 4."
  args: !SimpleFlagArg
    name: VARIANT_DEPTH
- !Flag
  optional: true
  synonyms:
  - --platypus_logfile
  description: "Prefix to use for Platypus log files. Will default to\nthe sample_id\
    \ argument provided"
  args: !SimpleFlagArg
    name: PLATYPUS_LOGFILE
- !Flag
  optional: true
  synonyms:
  - --homogenize_read_balance
  description: "If True, read balance values will be transformed by\nsubtracting each\
    \ value from 1. For example, 0.25 and\n0.75 would be treated equivalently. Default\
    \ is False."
  args: !SimpleFlagArg
    name: HOMOGENIZE_READ_BALANCE
- !Flag
  optional: true
  synonyms:
  - --min_variant_count
  description: "Minimum number of variants in a window for the read\nbalance of that\
    \ window to be plotted. Note that this\ndoes not affect plotting of variant counts.\
    \ Default is\n1, though we note that many window averages will be\nmeaningless\
    \ at this setting."
  args: !SimpleFlagArg
    name: MIN_VARIANT_COUNT
- !Flag
  optional: true
  synonyms:
  - --reference_mask
  description: "[REFERENCE_MASK [REFERENCE_MASK ...]]\nBed file containing regions\
    \ to replace with Ns in the\nsex chromosome reference. Examples might include\
    \ the\npseudoautosomal regions on the Y to force all\nmapping/calling on those\
    \ regions of the X chromosome.\nDefault is None."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --xx_ref_out_name
  description: "Desired name for masked output fasta for samples\nWITHOUT a Y chromosome\
    \ (e.g., XX, XXX, XO, etc.).\nDefaults to 'xyalign_noY.masked.fa'. Will be output\
    \ in\nthe XYalign reference directory."
  args: !SimpleFlagArg
    name: XX_REF_OUT_NAME
- !Flag
  optional: true
  synonyms:
  - --xy_ref_out_name
  description: "Desired name for masked output fasta for samples WITH\na Y chromosome\
    \ (e.g., XY, XXY, etc.). Defaults to\n'xyalign_withY.masked.fa'. Will be output\
    \ in the\nXYalign reference directory."
  args: !SimpleFlagArg
    name: XY_REF_OUT_NAME
- !Flag
  optional: true
  synonyms:
  - --xx_ref_out
  description: "Desired path to and name of masked output fasta for\nsamples WITHOUT\
    \ a Y chromosome (e.g., XX, XXX, XO,\netc.). Overwrites if exists. Use if you\
    \ would like\noutput somewhere other than XYalign reference\ndirectory. Otherwise,\
    \ use --xx_ref_name."
  args: !SimpleFlagArg
    name: XX_REF_OUT
- !Flag
  optional: true
  synonyms:
  - --xy_ref_out
  description: "Desired path to and name of masked output fasta for\nsamples WITH\
    \ a Y chromosome (e.g., XY, XXY, etc.).\nOverwrites if exists. Use if you would\
    \ like output\nsomewhere other than XYalign reference directory.\nOtherwise, use\
    \ --xy_ref_name."
  args: !SimpleFlagArg
    name: XY_REF_OUT
- !Flag
  optional: true
  synonyms:
  - --xx_ref_in
  description: "Path to preprocessed reference fasta to be used for\nremapping in\
    \ X0 or XX samples. Default is None. If\nnone, will produce a sample-specific\
    \ reference for\nremapping."
  args: !SimpleFlagArg
    name: XX_REF_IN
- !Flag
  optional: true
  synonyms:
  - --xy_ref_in
  description: "Path to preprocessed reference fasta to be used for\nremapping in\
    \ samples containing Y chromosome. Default\nis None. If none, will produce a sample-specific\n\
    reference for remapping."
  args: !SimpleFlagArg
    name: XY_REF_IN
- !Flag
  optional: true
  synonyms:
  - --bwa_index
  description: "If True, index with BWA during PREPARE_REFERENCE. Only\nrelevantwhen\
    \ running the PREPARE_REFERENCE module by\nitself. Default is False."
  args: !SimpleFlagArg
    name: BWA_INDEX
- !Flag
  optional: true
  synonyms:
  - --read_group_id
  description: "If read groups are present in a bam file, they are\nused by default\
    \ in remapping steps. However, if read\ngroups are not present in a file, there\
    \ are two\noptions for proceeding. If '--read_group_id None' is\nprovided (case\
    \ sensitive), then no read groups will be\nused in subsequent mapping steps. Otherwise,\
    \ any other\nstring provided to this flag will be used as a read\ngroup ID. Default\
    \ is '--read_group_id xyalign'"
  args: !SimpleFlagArg
    name: READ_GROUP_ID
- !Flag
  optional: true
  synonyms:
  - --bwa_flags
  description: "Provide a string (in quotes, with spaces between\narguments) for additional\
    \ flags desired for BWA\nmapping (other than -R and -t). Example: '-M -T 20 -v\n\
    4'. Note that those are spaces between arguments."
  args: !SimpleFlagArg
    name: BWA_FLAGS
- !Flag
  optional: true
  synonyms:
  - --sex_chrom_bam_only
  description: "This flag skips merging the new sex chromosome bam\nfile back into\
    \ the original bam file (i.e., sex chrom\nswapping). This will output a bam file\
    \ containing only\nthe newly remapped sex chromosomes."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --sex_chrom_calling_threshold
  description: "This is the *maximum* filtered X/Y depth ratio for an\nindividual\
    \ to be considered as having heterogametic\nsex chromsomes (e.g., XY) for the\
    \ REMAPPING module of\nXYalign. Note here that X and Y chromosomes are simply\n\
    the chromosomes that have been designated as X and Y\nvia --x_chromosome and --y_chromosome.\
    \ Keep in mind\nthat the ideal threshold will vary according to sex\ndetermination\
    \ mechanism, sequence homology between the\nsex chromosomes, reference genome,\
    \ sequencing methods,\netc. See documentation for more detail. Default is\n2.0,\
    \ which we found to be reasonable for exome, low-\ncoverage whole-genome, and\
    \ high-coverage whole-genome\nhuman data."
  args: !SimpleFlagArg
    name: SEX_CHROM_CALLING_THRESHOLD
- !Flag
  optional: true
  synonyms:
  - --y_present
  description: "Overrides sex chr estimation by XYalign and remaps\nwith Y present."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --y_absent
  description: "Overrides sex chr estimation by XY align and remaps\nwith Y absent."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --window_size
  - -w
  description: "Window size (integer) for sliding window calculations.\nDefault is\
    \ 50000. Default is None. If set to None,\nwill use targets provided using --target_bed."
  args: !SimpleFlagArg
    name: WINDOW_SIZE
- !Flag
  optional: true
  synonyms:
  - --target_bed
  description: "Bed file containing targets to use in sliding window\nanalyses instead\
    \ of a fixed window width. Either this\nor --window_size needs to be set. Default\
    \ is None,\nwhich will use window size provided with\n--window_size. If not None,\
    \ and --window_size is None,\nanalyses will use targets in provided file. Must\
    \ be\ntypical bed format, 0-based indexing, with the first\nthree columns containing\
    \ the chromosome name, start\ncoordinate, stop coordinate."
  args: !SimpleFlagArg
    name: TARGET_BED
- !Flag
  optional: true
  synonyms:
  - --exact_depth
  description: "Calculate exact depth within windows, else use much\nfaster approximation.\
    \ *Currently exact is not\nimplemented*. Default is False."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --whole_genome_threshold
  description: "This flag will calculate the depth filter threshold\nbased on all\
    \ values from across the genome. By\ndefault, thresholds are calculated per chromosome."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --mapq_cutoff
  - -mq
  description: "Minimum mean mapq threshold for a window to be\nconsidered high quality.\
    \ Default is 20."
  args: !SimpleFlagArg
    name: MAPQ_CUTOFF
- !Flag
  optional: true
  synonyms:
  - --min_depth_filter
  description: "Minimum depth threshold for a window to be considered\nhigh quality.\
    \ Calculated as mean depth *\nmin_depth_filter. So, a min_depth_filter of 0.2\
    \ would\nrequire at least a minimum depth of 2 if the mean\ndepth was 10. Default\
    \ is 0.0 to consider all windows."
  args: !SimpleFlagArg
    name: MIN_DEPTH_FILTER
- !Flag
  optional: true
  synonyms:
  - --max_depth_filter
  description: "Maximum depth threshold for a window to be considered\nhigh quality.\
    \ Calculated as mean depth *\nmax_depth_filter. So, a max_depth_filter of 4 would\n\
    require depths to be less than or equal to 40 if the\nmean depth was 10. Default\
    \ is 10000.0 to consider all\nwindows."
  args: !SimpleFlagArg
    name: MAX_DEPTH_FILTER
- !Flag
  optional: true
  synonyms:
  - --num_permutations
  description: "Number of permutations to use for permutation\nanalyses. Default is\
    \ 10000"
  args: !SimpleFlagArg
    name: NUM_PERMUTATIONS
- !Flag
  optional: true
  synonyms:
  - --num_bootstraps
  description: "Number of bootstrap replicates to use when\nbootstrapping mean depth\
    \ ratios among chromosomes.\nDefault is 10000"
  args: !SimpleFlagArg
    name: NUM_BOOTSTRAPS
- !Flag
  optional: true
  synonyms:
  - --ignore_duplicates
  description: "Ignore duplicate reads in bam analyses. Default is to\ninclude duplicates."
  args: !EmptyFlagArg {}
- !Flag
  optional: true
  synonyms:
  - --marker_size
  description: "Marker size for genome-wide plots in matplotlib.\nDefault is 10."
  args: !SimpleFlagArg
    name: MARKER_SIZE
- !Flag
  optional: true
  synonyms:
  - --marker_transparency
  - -mt
  description: "Transparency of markers in genome-wide plots. Alpha in\nmatplotlib.\
    \ Default is 0.5"
  args: !SimpleFlagArg
    name: MARKER_TRANSPARENCY
- !Flag
  optional: true
  synonyms:
  - --coordinate_scale
  description: "For genome-wide scatter plots, divide all coordinates\nby this value.Default\
    \ is 1000000, which will plot\neverything in megabases."
  args: !SimpleFlagArg
    name: COORDINATE_SCALE
- !Flag
  optional: true
  synonyms:
  - --include_fixed
  description: "Default is False, which removes read balances less\nthan or equal\
    \ to 0.05 and equal to 1.0 for histogram\nplotting. True will include all values.\
    \ Extreme values\nremoved by default because they often swamp out the\nsignal\
    \ of the rest of the distribution."
  args: !SimpleFlagArg
    name: INCLUDE_FIXED
- !Flag
  optional: true
  synonyms:
  - --use_counts
  description: "If True, get counts of reads per chromosome for\nCHROM_STATS, rather\
    \ than calculating mean depth and\nmapq. Much faster, but provides less information.\n\
    Default is False\n"
  args: !EmptyFlagArg {}
parent:
subcommands: []
usage: []
help_flag: !Flag
  optional: true
  synonyms:
  - -h
  - --help
  description: show this help message and exit
  args: !EmptyFlagArg {}
usage_flag:
version_flag:
help_text: "usage: xyalign [-h] [--bam [BAM [BAM ...]]] [--cram [CRAM [CRAM ...]]]\n\
  \               [--sam [SAM [SAM ...]]] --ref REF --output_dir OUTPUT_DIR\n    \
  \           [--chromosomes [CHROMOSOMES [CHROMOSOMES ...]]]\n               [--x_chromosome\
  \ [X_CHROMOSOME [X_CHROMOSOME ...]]]\n               [--y_chromosome [Y_CHROMOSOME\
  \ [Y_CHROMOSOME ...]]]\n               [--sample_id SAMPLE_ID] [--cpus CPUS] [--xmx\
  \ XMX]\n               [--fastq_compression {0,1,2,3,4,5,6,7,8,9}] [--single_end]\n\
  \               [--version] [--no_cleanup]\n               [--PREPARE_REFERENCE\
  \ | --CHROM_STATS | --ANALYZE_BAM | --CHARACTERIZE_SEX_CHROMS | --REMAPPING | --STRIP_READS]\n\
  \               [--logfile LOGFILE]\n               [--reporting_level {DEBUG,INFO,ERROR,CRITICAL}]\n\
  \               [--platypus_path PLATYPUS_PATH] [--bwa_path BWA_PATH]\n        \
  \       [--samtools_path SAMTOOLS_PATH] [--repairsh_path REPAIRSH_PATH]\n      \
  \         [--shufflesh_path SHUFFLESH_PATH]\n               [--sambamba_path SAMBAMBA_PATH]\
  \ [--bedtools_path BEDTOOLS_PATH]\n               [--platypus_calling {both,none,before,after}]\n\
  \               [--no_variant_plots] [--no_bam_analysis]\n               [--skip_compatibility_check]\
  \ [--no_perm_test] [--no_ks_test]\n               [--no_bootstrap] [--variant_site_quality\
  \ VARIANT_SITE_QUALITY]\n               [--variant_genotype_quality VARIANT_GENOTYPE_QUALITY]\n\
  \               [--variant_depth VARIANT_DEPTH]\n               [--platypus_logfile\
  \ PLATYPUS_LOGFILE]\n               [--homogenize_read_balance HOMOGENIZE_READ_BALANCE]\n\
  \               [--min_variant_count MIN_VARIANT_COUNT]\n               [--reference_mask\
  \ [REFERENCE_MASK [REFERENCE_MASK ...]]]\n               [--xx_ref_out_name XX_REF_OUT_NAME]\n\
  \               [--xy_ref_out_name XY_REF_OUT_NAME] [--xx_ref_out XX_REF_OUT]\n\
  \               [--xy_ref_out XY_REF_OUT] [--xx_ref_in XX_REF_IN]\n            \
  \   [--xy_ref_in XY_REF_IN] [--bwa_index BWA_INDEX]\n               [--read_group_id\
  \ READ_GROUP_ID] [--bwa_flags BWA_FLAGS]\n               [--sex_chrom_bam_only]\n\
  \               [--sex_chrom_calling_threshold SEX_CHROM_CALLING_THRESHOLD]\n  \
  \             [--y_present | --y_absent] [--window_size WINDOW_SIZE]\n         \
  \      [--target_bed TARGET_BED] [--exact_depth]\n               [--whole_genome_threshold]\
  \ [--mapq_cutoff MAPQ_CUTOFF]\n               [--min_depth_filter MIN_DEPTH_FILTER]\n\
  \               [--max_depth_filter MAX_DEPTH_FILTER]\n               [--num_permutations\
  \ NUM_PERMUTATIONS]\n               [--num_bootstraps NUM_BOOTSTRAPS] [--ignore_duplicates]\n\
  \               [--marker_size MARKER_SIZE]\n               [--marker_transparency\
  \ MARKER_TRANSPARENCY]\n               [--coordinate_scale COORDINATE_SCALE]\n \
  \              [--include_fixed INCLUDE_FIXED] [--use_counts]\n\nXYalign\n\noptional\
  \ arguments:\n  -h, --help            show this help message and exit\n  --bam [BAM\
  \ [BAM ...]]\n                        Full path to input bam files. If more than\
  \ one\n                        provided, only the first will be used for modules\n\
  \                        other than --CHROM_STATS\n  --cram [CRAM [CRAM ...]]\n\
  \                        Full path to input cram files. If more than one\n     \
  \                   provided, only the first will be used for modules\n        \
  \                other than --CHROM_STATS. Not currently supported.\n  --sam [SAM\
  \ [SAM ...]]\n                        Full path to input sam files. If more than\
  \ one\n                        provided, only the first will be used for modules\n\
  \                        other than --CHROM_STATS. Not currently supported.\n  --ref\
  \ REF             REQUIRED. Path to reference sequence (including file\n       \
  \                 name).\n  --output_dir OUTPUT_DIR, -o OUTPUT_DIR\n           \
  \             REQUIRED. Output directory. XYalign will create a\n              \
  \          directory structure within this directory\n  --chromosomes [CHROMOSOMES\
  \ [CHROMOSOMES ...]], -c [CHROMOSOMES [CHROMOSOMES ...]]\n                     \
  \   Chromosomes to analyze (names must match reference\n                       \
  \ exactly). For humans, we recommend at least chr19,\n                        chrX,\
  \ chrY. Generally, we suggest including the sex\n                        chromosomes\
  \ and at least one autosome. To analyze all\n                        chromosomes\
  \ use '--chromosomes ALL' or '--chromosomes\n                        all'.\n  --x_chromosome\
  \ [X_CHROMOSOME [X_CHROMOSOME ...]], -x [X_CHROMOSOME [X_CHROMOSOME ...]]\n    \
  \                    Names of x-linked scaffolds in reference fasta (must\n    \
  \                    match reference exactly).\n  --y_chromosome [Y_CHROMOSOME [Y_CHROMOSOME\
  \ ...]], -y [Y_CHROMOSOME [Y_CHROMOSOME ...]]\n                        Names of\
  \ y-linked scaffolds in reference fasta (must\n                        match reference\
  \ exactly). Defaults to chrY. Give None\n                        if using an assembly\
  \ without a Y chromosome\n  --sample_id SAMPLE_ID, -id SAMPLE_ID\n             \
  \           Name/ID of sample - for use in plot titles and file\n              \
  \          naming. Default is sample\n  --cpus CPUS           Number of cores/threads\
  \ to use. Default is 1\n  --xmx XMX             Memory to be provided to java programs\
  \ via -Xmx. E.g.,\n                        use the flag '--xmx 4g' to pass '-Xmx4g'\
  \ as a flag\n                        when running java programs (currently just\
  \ repair.sh).\n                        Default is 'None' (i.e., nothing provided\
  \ on the\n                        command line), which will allow repair.sh to\n\
  \                        automatically allocate memory. Note that if you're\n  \
  \                      using --STRIP_READS on deep coverage whole genome\n     \
  \                   data, you might need quite a bit of memory, e.g. '--\n     \
  \                   xmx 16g', '--xmx 32g', or more depending on how many\n     \
  \                   reads are present per read group.\n  --fastq_compression {0,1,2,3,4,5,6,7,8,9}\n\
  \                        Compression level for fastqs output from repair.sh.\n \
  \                       Between (inclusive) 0 and 9. Default is 3. 1 through 9\n\
  \                        indicate compression levels. If 0, fastqs will be\n   \
  \                     uncompressed.\n  --single_end          Include flag if reads\
  \ are single-end and NOT paired-\n                        end.\n  --version, -V\
  \         Print version and exit.\n  --no_cleanup          Include flag to preserve\
  \ temporary files.\n  --PREPARE_REFERENCE   This flag will limit XYalign to only\
  \ preparing\n                        reference fastas for individuals with and without\
  \ Y\n                        chromosomes. These fastas can then be passed with each\n\
  \                        sample to save subsequent processing time.\n  --CHROM_STATS\
  \         This flag will limit XYalign to only analyzing\n                     \
  \   provided bam files for depth and mapq across entire\n                      \
  \  chromosomes.\n  --ANALYZE_BAM         This flag will limit XYalign to only analyzing\
  \ the bam\n                        file for depth, mapq, and (optionally) read balance\n\
  \                        and outputting plots.\n  --CHARACTERIZE_SEX_CHROMS\n  \
  \                      This flag will limit XYalign to the steps required to\n \
  \                       characterize sex chromosome content (i.e., analyzing\n \
  \                       the bam for depth, mapq, and read balance and running\n\
  \                        statistical tests to help infer ploidy)\n  --REMAPPING\
  \           This flag will limit XYalign to only the steps\n                   \
  \     required to strip reads and remap to masked\n                        references.\
  \ If masked references are not provided,\n                        they will be created.\n\
  \  --STRIP_READS         This flag will limit XYalign to only the steps\n      \
  \                  required to strip reads from a provided bam file.\n  --logfile\
  \ LOGFILE     Name of logfile. Will overwrite if exists. Default is\n          \
  \              sample_xyalign.log\n  --reporting_level {DEBUG,INFO,ERROR,CRITICAL}\n\
  \                        Set level of messages printed to console. Default is\n\
  \                        'INFO'. Choose from (in decreasing amount of\n        \
  \                reporting) DEBUG, INFO, ERROR or CRITICAL\n  --platypus_path PLATYPUS_PATH\n\
  \                        Path to platypus. Default is 'platypus'. If platypus\n\
  \                        is not directly callable (e.g., '/path/to/platypus' or\n\
  \                        '/path/to/Playpus.py'), then provide path to python as\n\
  \                        well (e.g., '/path/to/python /path/to/platypus'). In\n\
  \                        addition, be sure provided python is version 2. See\n \
  \                       the documentation for more information about setting\n \
  \                       up an anaconda environment.\n  --bwa_path BWA_PATH   Path\
  \ to bwa. Default is 'bwa'\n  --samtools_path SAMTOOLS_PATH\n                  \
  \      Path to samtools. Default is 'samtools'\n  --repairsh_path REPAIRSH_PATH\n\
  \                        Path to bbmap's repair.sh script. Default is\n        \
  \                'repair.sh'\n  --shufflesh_path SHUFFLESH_PATH\n              \
  \          Path to bbmap's shuffle.sh script. Default is\n                     \
  \   'shuffle.sh'\n  --sambamba_path SAMBAMBA_PATH\n                        Path\
  \ to sambamba. Default is 'sambamba'\n  --bedtools_path BEDTOOLS_PATH\n        \
  \                Path to bedtools. Default is 'bedtools'\n  --platypus_calling {both,none,before,after}\n\
  \                        Platypus calling withing the pipeline (before\n       \
  \                 processing, after processing, both, or neither).\n           \
  \             Options: both, none, before, after.\n  --no_variant_plots    Include\
  \ flag to prevent plotting read balance from VCF\n                        files.\n\
  \  --no_bam_analysis     Include flag to prevent depth/mapq analysis of bam\n  \
  \                      file. Used to isolate platypus_calling.\n  --skip_compatibility_check\n\
  \                        Include flag to prevent check of compatibility between\n\
  \                        input bam and reference fasta\n  --no_perm_test       \
  \ Include flag to turn off permutation tests.\n  --no_ks_test          Include flag\
  \ to turn off KS Two Sample tests.\n  --no_bootstrap        Include flag to turn\
  \ off bootstrap analyses. Requires\n                        either --y_present,\
  \ --y_absent, or\n                        --sex_chrom_calling_threshold if running\
  \ full\n                        pipeline.\n  --variant_site_quality VARIANT_SITE_QUALITY,\
  \ -vsq VARIANT_SITE_QUALITY\n                        Consider all SNPs with a site\
  \ quality (QUAL) greater\n                        than or equal to this value. Default\
  \ is 30.\n  --variant_genotype_quality VARIANT_GENOTYPE_QUALITY, -vgq VARIANT_GENOTYPE_QUALITY\n\
  \                        Consider all SNPs with a sample genotype quality\n    \
  \                    greater than or equal to this value. Default is 30.\n  --variant_depth\
  \ VARIANT_DEPTH, -vd VARIANT_DEPTH\n                        Consider all SNPs with\
  \ a sample depth greater than or\n                        equal to this value. Default\
  \ is 4.\n  --platypus_logfile PLATYPUS_LOGFILE\n                        Prefix to\
  \ use for Platypus log files. Will default to\n                        the sample_id\
  \ argument provided\n  --homogenize_read_balance HOMOGENIZE_READ_BALANCE\n     \
  \                   If True, read balance values will be transformed by\n      \
  \                  subtracting each value from 1. For example, 0.25 and\n      \
  \                  0.75 would be treated equivalently. Default is False.\n  --min_variant_count\
  \ MIN_VARIANT_COUNT\n                        Minimum number of variants in a window\
  \ for the read\n                        balance of that window to be plotted. Note\
  \ that this\n                        does not affect plotting of variant counts.\
  \ Default is\n                        1, though we note that many window averages\
  \ will be\n                        meaningless at this setting.\n  --reference_mask\
  \ [REFERENCE_MASK [REFERENCE_MASK ...]]\n                        Bed file containing\
  \ regions to replace with Ns in the\n                        sex chromosome reference.\
  \ Examples might include the\n                        pseudoautosomal regions on\
  \ the Y to force all\n                        mapping/calling on those regions of\
  \ the X chromosome.\n                        Default is None.\n  --xx_ref_out_name\
  \ XX_REF_OUT_NAME\n                        Desired name for masked output fasta\
  \ for samples\n                        WITHOUT a Y chromosome (e.g., XX, XXX, XO,\
  \ etc.).\n                        Defaults to 'xyalign_noY.masked.fa'. Will be output\
  \ in\n                        the XYalign reference directory.\n  --xy_ref_out_name\
  \ XY_REF_OUT_NAME\n                        Desired name for masked output fasta\
  \ for samples WITH\n                        a Y chromosome (e.g., XY, XXY, etc.).\
  \ Defaults to\n                        'xyalign_withY.masked.fa'. Will be output\
  \ in the\n                        XYalign reference directory.\n  --xx_ref_out XX_REF_OUT\n\
  \                        Desired path to and name of masked output fasta for\n \
  \                       samples WITHOUT a Y chromosome (e.g., XX, XXX, XO,\n   \
  \                     etc.). Overwrites if exists. Use if you would like\n     \
  \                   output somewhere other than XYalign reference\n            \
  \            directory. Otherwise, use --xx_ref_name.\n  --xy_ref_out XY_REF_OUT\n\
  \                        Desired path to and name of masked output fasta for\n \
  \                       samples WITH a Y chromosome (e.g., XY, XXY, etc.).\n   \
  \                     Overwrites if exists. Use if you would like output\n     \
  \                   somewhere other than XYalign reference directory.\n        \
  \                Otherwise, use --xy_ref_name.\n  --xx_ref_in XX_REF_IN\n      \
  \                  Path to preprocessed reference fasta to be used for\n       \
  \                 remapping in X0 or XX samples. Default is None. If\n         \
  \               none, will produce a sample-specific reference for\n           \
  \             remapping.\n  --xy_ref_in XY_REF_IN\n                        Path\
  \ to preprocessed reference fasta to be used for\n                        remapping\
  \ in samples containing Y chromosome. Default\n                        is None.\
  \ If none, will produce a sample-specific\n                        reference for\
  \ remapping.\n  --bwa_index BWA_INDEX\n                        If True, index with\
  \ BWA during PREPARE_REFERENCE. Only\n                        relevantwhen running\
  \ the PREPARE_REFERENCE module by\n                        itself. Default is False.\n\
  \  --read_group_id READ_GROUP_ID\n                        If read groups are present\
  \ in a bam file, they are\n                        used by default in remapping\
  \ steps. However, if read\n                        groups are not present in a file,\
  \ there are two\n                        options for proceeding. If '--read_group_id\
  \ None' is\n                        provided (case sensitive), then no read groups\
  \ will be\n                        used in subsequent mapping steps. Otherwise,\
  \ any other\n                        string provided to this flag will be used as\
  \ a read\n                        group ID. Default is '--read_group_id xyalign'\n\
  \  --bwa_flags BWA_FLAGS\n                        Provide a string (in quotes, with\
  \ spaces between\n                        arguments) for additional flags desired\
  \ for BWA\n                        mapping (other than -R and -t). Example: '-M\
  \ -T 20 -v\n                        4'. Note that those are spaces between arguments.\n\
  \  --sex_chrom_bam_only  This flag skips merging the new sex chromosome bam\n  \
  \                      file back into the original bam file (i.e., sex chrom\n \
  \                       swapping). This will output a bam file containing only\n\
  \                        the newly remapped sex chromosomes.\n  --sex_chrom_calling_threshold\
  \ SEX_CHROM_CALLING_THRESHOLD\n                        This is the *maximum* filtered\
  \ X/Y depth ratio for an\n                        individual to be considered as\
  \ having heterogametic\n                        sex chromsomes (e.g., XY) for the\
  \ REMAPPING module of\n                        XYalign. Note here that X and Y chromosomes\
  \ are simply\n                        the chromosomes that have been designated\
  \ as X and Y\n                        via --x_chromosome and --y_chromosome. Keep\
  \ in mind\n                        that the ideal threshold will vary according\
  \ to sex\n                        determination mechanism, sequence homology between\
  \ the\n                        sex chromosomes, reference genome, sequencing methods,\n\
  \                        etc. See documentation for more detail. Default is\n  \
  \                      2.0, which we found to be reasonable for exome, low-\n  \
  \                      coverage whole-genome, and high-coverage whole-genome\n \
  \                       human data.\n  --y_present           Overrides sex chr estimation\
  \ by XYalign and remaps\n                        with Y present.\n  --y_absent \
  \           Overrides sex chr estimation by XY align and remaps\n              \
  \          with Y absent.\n  --window_size WINDOW_SIZE, -w WINDOW_SIZE\n       \
  \                 Window size (integer) for sliding window calculations.\n     \
  \                   Default is 50000. Default is None. If set to None,\n       \
  \                 will use targets provided using --target_bed.\n  --target_bed\
  \ TARGET_BED\n                        Bed file containing targets to use in sliding\
  \ window\n                        analyses instead of a fixed window width. Either\
  \ this\n                        or --window_size needs to be set. Default is None,\n\
  \                        which will use window size provided with\n            \
  \            --window_size. If not None, and --window_size is None,\n          \
  \              analyses will use targets in provided file. Must be\n           \
  \             typical bed format, 0-based indexing, with the first\n           \
  \             three columns containing the chromosome name, start\n            \
  \            coordinate, stop coordinate.\n  --exact_depth         Calculate exact\
  \ depth within windows, else use much\n                        faster approximation.\
  \ *Currently exact is not\n                        implemented*. Default is False.\n\
  \  --whole_genome_threshold\n                        This flag will calculate the\
  \ depth filter threshold\n                        based on all values from across\
  \ the genome. By\n                        default, thresholds are calculated per\
  \ chromosome.\n  --mapq_cutoff MAPQ_CUTOFF, -mq MAPQ_CUTOFF\n                  \
  \      Minimum mean mapq threshold for a window to be\n                        considered\
  \ high quality. Default is 20.\n  --min_depth_filter MIN_DEPTH_FILTER\n        \
  \                Minimum depth threshold for a window to be considered\n       \
  \                 high quality. Calculated as mean depth *\n                   \
  \     min_depth_filter. So, a min_depth_filter of 0.2 would\n                  \
  \      require at least a minimum depth of 2 if the mean\n                     \
  \   depth was 10. Default is 0.0 to consider all windows.\n  --max_depth_filter\
  \ MAX_DEPTH_FILTER\n                        Maximum depth threshold for a window\
  \ to be considered\n                        high quality. Calculated as mean depth\
  \ *\n                        max_depth_filter. So, a max_depth_filter of 4 would\n\
  \                        require depths to be less than or equal to 40 if the\n\
  \                        mean depth was 10. Default is 10000.0 to consider all\n\
  \                        windows.\n  --num_permutations NUM_PERMUTATIONS\n     \
  \                   Number of permutations to use for permutation\n            \
  \            analyses. Default is 10000\n  --num_bootstraps NUM_BOOTSTRAPS\n   \
  \                     Number of bootstrap replicates to use when\n             \
  \           bootstrapping mean depth ratios among chromosomes.\n               \
  \         Default is 10000\n  --ignore_duplicates   Ignore duplicate reads in bam\
  \ analyses. Default is to\n                        include duplicates.\n  --marker_size\
  \ MARKER_SIZE\n                        Marker size for genome-wide plots in matplotlib.\n\
  \                        Default is 10.\n  --marker_transparency MARKER_TRANSPARENCY,\
  \ -mt MARKER_TRANSPARENCY\n                        Transparency of markers in genome-wide\
  \ plots. Alpha in\n                        matplotlib. Default is 0.5\n  --coordinate_scale\
  \ COORDINATE_SCALE\n                        For genome-wide scatter plots, divide\
  \ all coordinates\n                        by this value.Default is 1000000, which\
  \ will plot\n                        everything in megabases.\n  --include_fixed\
  \ INCLUDE_FIXED\n                        Default is False, which removes read balances\
  \ less\n                        than or equal to 0.05 and equal to 1.0 for histogram\n\
  \                        plotting. True will include all values. Extreme values\n\
  \                        removed by default because they often swamp out the\n \
  \                       signal of the rest of the distribution.\n  --use_counts\
  \          If True, get counts of reads per chromosome for\n                   \
  \     CHROM_STATS, rather than calculating mean depth and\n                    \
  \    mapq. Much faster, but provides less information.\n                       \
  \ Default is False\n"
generated_using:
- --help
docker_image:
