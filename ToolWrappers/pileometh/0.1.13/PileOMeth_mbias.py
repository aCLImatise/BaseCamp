from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Int, String, File, Boolean

Pileometh_Mbias_V0_1_0 = CommandToolBuilder(tool="PileOMeth_mbias", base_command=["PileOMeth", "mbias"], inputs=[ToolInput(tag="in_minimum_mapq_threshold", input_type=Int(optional=True), prefix="-q", doc=InputDocumentation(doc="Minimum MAPQ threshold to include an alignment (default 10)")), ToolInput(tag="in_minimum_phred_threshold", input_type=Int(optional=True), prefix="-p", doc=InputDocumentation(doc="Minimum Phred threshold to include a base (default 5). This\nmust be >0.")), ToolInput(tag="in_maximum_perbase_depth", input_type=Int(optional=True), prefix="-D", doc=InputDocumentation(doc="Maximum per-base depth (default 2000)")), ToolInput(tag="in_region_string_extract", input_type=String(optional=True), prefix="-r", doc=InputDocumentation(doc="Region string in which to extract methylation")), ToolInput(tag="in_bed_file_listing", input_type=File(optional=True), prefix="-l", doc=InputDocumentation(doc="A BED file listing regions for inclusion. Note that unlike\nsamtools mpileup, this option will utilize the strand column\n(column 6) if present. Thus, if a region has a '+' in this\ncolumn, then only metrics from the top strand will be\noutput. Note that the -r option can be used to limit the\nregions of -l.")), ToolInput(tag="in_keep_dupes", input_type=Boolean(optional=True), prefix="--keepDupes", doc=InputDocumentation(doc="By default, any alignment marked as a duplicate is ignored.\nThis option causes them to be incorporated.")), ToolInput(tag="in_keep_singleton", input_type=Boolean(optional=True), prefix="--keepSingleton", doc=InputDocumentation(doc="By default, if only one read in a pair aligns (a singleton)\nthen it's ignored.")), ToolInput(tag="in_keep_discordant", input_type=String(optional=True), prefix="--keepDiscordant", doc=InputDocumentation(doc="default, paired-end alignments with the properly-paired bit\nunset in the FLAG field are ignored. Note that the definition\nof concordant and discordant is based on your aligner\nsettings.")), ToolInput(tag="in_ignore_flags", input_type=Boolean(optional=True), prefix="--ignoreFlags", doc=InputDocumentation(doc="By deault, any alignment marked as secondary (bit 0x100),\nfailing QC (bit 0x200), a PCR/optical duplicate (0x400) or\nsupplemental (0x800) is ignored. This equates to a value of\n0xF00 or 3840 in decimal. If you would like to change that,\nyou can specify a new value here.\nignored. Specifying this causes them to be included.")), ToolInput(tag="in_txt", input_type=Boolean(optional=True), prefix="--txt", doc=InputDocumentation(doc="Output tab separated metrics to the screen. These can be\nimported into R or another program for manual plotting and\nanalysis.")), ToolInput(tag="in_no_svg", input_type=Boolean(optional=True), prefix="--noSVG", doc=InputDocumentation(doc="Don't produce the SVG files. This option implies --txt. Note\nthat an output prefix is no longer required with this option.")), ToolInput(tag="in_no_cpg", input_type=Boolean(optional=True), prefix="--noCpG", doc=InputDocumentation(doc="Do not output CpG methylation metrics")), ToolInput(tag="in_chg", input_type=Boolean(optional=True), prefix="--CHG", doc=InputDocumentation(doc="Output CHG methylation metrics")), ToolInput(tag="in_chh", input_type=Boolean(optional=True), prefix="--CHH", doc=InputDocumentation(doc="Output CHH methylation metrics")), ToolInput(tag="in_ref_dot_fa", input_type=String(), position=0, doc=InputDocumentation(doc="")), ToolInput(tag="in_sorted_alignments_dot_bam", input_type=String(), position=1, doc=InputDocumentation(doc="")), ToolInput(tag="in_output_dot_prefix", input_type=String(), position=2, doc=InputDocumentation(doc=""))], outputs=[ToolOutput(tag="out_bed_file_listing", output_type=File(optional=True), selector=InputSelector(input_to_select="in_bed_file_listing", type_hint=File()), doc=OutputDocumentation(doc="A BED file listing regions for inclusion. Note that unlike\nsamtools mpileup, this option will utilize the strand column\n(column 6) if present. Thus, if a region has a '+' in this\ncolumn, then only metrics from the top strand will be\noutput. Note that the -r option can be used to limit the\nregions of -l."))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Pileometh_Mbias_V0_1_0().translate("wdl", allow_empty_container=True)

