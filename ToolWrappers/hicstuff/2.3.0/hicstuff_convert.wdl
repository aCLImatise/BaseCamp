version 1.0

task HicstuffConvert {
  input {
    File? frags
    File? force
    File? chrom_s
    String? to
    String contact_map
    String prefix
  }
  command <<<
    hicstuff convert \
      ~{contact_map} \
      ~{prefix} \
      ~{if defined(frags) then ("--frags " +  '"' + frags + '"') else ""} \
      ~{if (force) then "--force" else ""} \
      ~{if defined(chrom_s) then ("--chroms " +  '"' + chrom_s + '"') else ""} \
      ~{if defined(to) then ("--to " +  '"' + to + '"') else ""}
  >>>
  runtime {
    docker: "None"
  }
  parameter_meta {
    frags: "Tab-separated file with headers,\\ncontaining columns id, chrom, start_pos,\\nend_pos size. This is the file\\n\\\"fragments_list.txt\\\" generated by\\nhicstuff pipeline. Required for graal\\nmatrices and recommended for bg2."
    force: "Write even if the output file already exists."
    chrom_s: "Tab-separated with headers, containing\\ncolumns contig, length, n_frags, cumul_length.\\nThis is the file \\\"info_contigs.txt\\\" generated\\nby hicstuff pipeline."
    to: "The format to which files should be\\nconverted. [default: cool]\\n"
    contact_map: "The file containing the contact frequencies."
    prefix: "The prefix path for output files. An extension\\nwill be added to the files depending on the\\noutput format."
  }
  output {
    File out_stdout = stdout()
    File out_force = "${in_force}"
  }
}