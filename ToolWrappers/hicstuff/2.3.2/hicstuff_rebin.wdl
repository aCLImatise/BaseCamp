version 1.0

task HicstuffRebin {
  input {
    Int? binning
    File? frags
    File? force
    File? chrom_s
    String contact_map
    String out_prefix
  }
  command <<<
    hicstuff rebin \
      ~{contact_map} \
      ~{out_prefix} \
      ~{if defined(binning) then ("--binning " +  '"' + binning + '"') else ""} \
      ~{if defined(frags) then ("--frags " +  '"' + frags + '"') else ""} \
      ~{if (force) then "--force" else ""} \
      ~{if defined(chrom_s) then ("--chroms " +  '"' + chrom_s + '"') else ""}
  >>>
  runtime {
    docker: "quay.io/biocontainers/hicstuff:2.3.2--py_0"
  }
  parameter_meta {
    binning: "[bp|kb|Mb|Gb]   Subsampling factor or fix value in\\nbasepairs to use for binning\\n[default: 1]."
    frags: "Tab-separated file with headers,\\ncontaining fragments start position in\\nthe 3rd column. This is the file\\n\\\"fragments_list.txt\\\" generated by\\nhicstuff pipeline. Required for graal\\nmatrices and recommended for bg2."
    force: "Write even if the output file already exists."
    chrom_s: "Tab-separated with headers, containing\\nchromosome names, size, number of\\nrestriction fragments. This is the file\\n\\\"info_contigs.txt\\\" generated by hicstuff\\npipeline.\\n"
    contact_map: "Sparse contact matrix in graal, cool or bg2 format."
    out_prefix: "Prefix path (without extension) for the output files."
  }
  output {
    File out_stdout = stdout()
    File out_force = "${in_force}"
  }
}