version 1.0

task Anvirunncbicogs {
  input {
    String? contigs_db
    Int? cog_version
    File? cog_data_dir
    Int? num_threads
    Boolean? sensitive
    File? temporary_dir_path
    String? search_with
    String functions
  }
  command <<<
    anvi_run_ncbi_cogs \
      ~{functions} \
      ~{if defined(contigs_db) then ("--contigs-db " +  '"' + contigs_db + '"') else ""} \
      ~{if defined(cog_version) then ("--cog-version " +  '"' + cog_version + '"') else ""} \
      ~{if defined(cog_data_dir) then ("--cog-data-dir " +  '"' + cog_data_dir + '"') else ""} \
      ~{if defined(num_threads) then ("--num-threads " +  '"' + num_threads + '"') else ""} \
      ~{if (sensitive) then "--sensitive" else ""} \
      ~{if defined(temporary_dir_path) then ("--temporary-dir-path " +  '"' + temporary_dir_path + '"') else ""} \
      ~{if defined(search_with) then ("--search-with " +  '"' + search_with + '"') else ""}
  >>>
  runtime {
    docker: "quay.io/biocontainers/anvio-minimal:7--py_0"
  }
  parameter_meta {
    contigs_db: "Anvi'o contigs database generated by 'anvi-gen-\\ncontigs-database' (default: None)"
    cog_version: "COG version. The default is the latest version, which\\nis COG20, meaning that anvi'o will use the NCBI's 2020\\nrelease of COGs to setup the database and run it on\\ncontigs databases. There is also an older version of\\nCOGs from 2014. If you would like anvi'o to work with\\nthat one, please use COG14 as a parameter. On a single\\ncomputer you can have both, and on a single contigs\\ndatabase you can run both. Cool and confusing. The\\nanvi'o way. (default: None)"
    cog_data_dir: "The directory path for your COG setup. Anvi'o will try\\nto use the default path if you do not specify\\nanything. (default: None)"
    num_threads: "Maximum number of threads to use for multithreading\\nwhenever possible. Very conservatively, the default is\\n1. It is a good idea to not exceed the number of CPUs\\n/ cores on your system. Plus, please be careful with\\nthis option if you are running your commands on a SGE\\n--if you are clusterizing your runs, and asking for\\nmultiple threads to use, you may deplete your\\nresources very fast. (default: 1)"
    sensitive: "DIAMOND sensitivity. With this flag you can instruct\\nDIAMOND to be 'sensitive', rather than 'fast' during\\nthe search. It is likely the search will take\\nremarkably longer. But, hey, if you are doing it for\\nyour final analysis, maybe it should take longer and\\nbe more accurate. This flag is only relevant if you\\nare running DIAMOND. (default: False)"
    temporary_dir_path: "If you don't provide anything here, this program will\\ncome up with a temporary directory path by itself to\\nstore intermediate files, and clean it later. If you\\nwant to have full control over this, you can use this\\nflag to define one. (default: None)"
    search_with: "What program to use for database searching. The\\ndefault search uses blastp. All available options\\ninclude: blastp. (default: blastp)"
    functions: "üç∫ More on `anvi-run-ncbi-cogs`:"
  }
  output {
    File out_stdout = stdout()
  }
}