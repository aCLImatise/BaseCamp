class: CommandLineTool
id: anvi_gen_variability_matrix.cwl
inputs:
- id: in_contigs_db
  doc: "Anvi'o contigs database generated by 'anvi-gen-\ncontigs-database' (default:\
    \ None)"
  type: string?
  inputBinding:
    prefix: --contigs-db
- id: in_splits_of_interest
  doc: "A file with split names. There should be only one\ncolumn in the file, and\
    \ each line should correspond to\na unique split name. (default: None)"
  type: File?
  inputBinding:
    prefix: --splits-of-interest
- id: in_samples_of_interest
  doc: "A file with samples names. There should be only one\ncolumn in the file, and\
    \ each line should correspond to\na unique sample name (without a column header).\n\
    (default: None)"
  type: File?
  inputBinding:
    prefix: --samples-of-interest
- id: in_num_positions_from_each_split
  doc: "Each split may have one or more variable positions. By\ndefault, anvi'o will\
    \ report every SNV position found\nin a given split. This parameter will help\
    \ you to\ndefine a cutoff for the maximum number of SNVs to be\nreported from\
    \ a split (if the number of SNVs is more\nthan the number you declare using this\
    \ parameter, the\npositions will be randomly subsampled). (default: 0)"
  type: long?
  inputBinding:
    prefix: --num-positions-from-each-split
- id: in_min_scatter
  doc: "This one is tricky. If you have N samples in your\ndataset, a given variable\
    \ position x in one of your\nsplits can split your N samples into `t` groups based\n\
    on the identity of the variation they harbor at\nposition x. For instance, `t`\
    \ would have been 1, if\nall samples had the same type of variation at position\n\
    x (which would not be very interesting, because in\nthis case position x would\
    \ have zero contribution to a\ndeeper understanding of how these samples differ\
    \ based\non variability. When `t` > 1, it would mean that\nidentities at position\
    \ x across samples do differ. But\nhow much scattering occurs based on position\
    \ x when t\n> 1? If t=2, how many samples ended in each group?\nObviously, even\
    \ distribution of samples across groups\nmay tell us something different than\
    \ uneven\ndistribution of samples across groups. So, this\nparameter filters out\
    \ any x if 'the number of samples\nin the second largest group' (=scatter) is\
    \ less than\n-m. Here is an example: let's assume you have 7\nsamples. While 5\
    \ of those have AG, 2 of them have TC\nat position x. This would mean scatter\
    \ of x is 2. If\nyou set -m to 2, this position would not be reported\nin your\
    \ output matrix. The default value for -m is 0,\nwhich means every `x` found in\
    \ the database and\nsurvived previous filtering criteria will be reported.\nNaturally,\
    \ -m cannot be more than half of the number\nof samples. Please refer to the user\
    \ documentation if\nthis is confusing."
  type: long?
  inputBinding:
    prefix: --min-scatter
- id: in_min_ratio_of_competing_s_nts
  doc: "Minimum ratio of the competing nucleotides at a given\nposition. Default is\
    \ 0."
  type: long?
  inputBinding:
    prefix: --min-ratio-of-competings-nts
- id: in_output_file
  doc: 'File path to store results. (default: variability.txt)'
  type: File?
  inputBinding:
    prefix: --output-file
outputs:
- id: out_stdout
  doc: Standard output stream
  type: stdout
- id: out_output_file
  doc: 'File path to store results. (default: variability.txt)'
  type: File?
  outputBinding:
    glob: $(inputs.in_output_file)
hints:
- class: DockerRequirement
  dockerPull: quay.io/biocontainers/anvio-minimal:7--py_0
cwlVersion: v1.1
baseCommand:
- anvi-gen-variability-matrix
