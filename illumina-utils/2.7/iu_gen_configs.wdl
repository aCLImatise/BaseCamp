version 1.0

task IuGenConfigs {
  input {
    String? r_one_prefix
    String? r_two_prefix
    String? e_mail
    Directory? output_dir
    File file
  }
  command <<<
    iu-gen-configs \
      ~{file} \
      ~{if defined(r_one_prefix) then ("--r1-prefix " +  '"' + r_one_prefix + '"') else ""} \
      ~{if defined(r_two_prefix) then ("--r2-prefix " +  '"' + r_two_prefix + '"') else ""} \
      ~{if defined(e_mail) then ("--e-mail " +  '"' + e_mail + '"') else ""} \
      ~{if defined(output_dir) then ("--output-dir " +  '"' + output_dir + '"') else ""}
  >>>
  parameter_meta {
    r_one_prefix: "Prefix for Read 1 to be put in every config file."
    r_two_prefix: "Prefix for Read 2."
    e_mail: "E-mail address (currently is not used for anything)"
    output_dir: "Directory for output storage. INI files will also be generated in this directory."
    file: "TAB-delimited file to describe where samples are. The header line should be \"sample\", \"r1\", and \"r2\". Each row should list the sample name in the first column, and full path for r1 and r2. This output is automatically generated by the iu-demultiplex script."
  }
}