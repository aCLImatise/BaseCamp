from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import String, File, Int, Boolean

Metaquant_V0_1_0 = CommandToolBuilder(tool="metaquant", base_command=["metaquant"], inputs=[ToolInput(tag="in_mode", input_type=String(optional=True), prefix="--mode", doc=InputDocumentation(doc="Analysis mode. If taxfun is chosen, both function and\ntaxonomy files must be provided")), ToolInput(tag="in_s_amps", input_type=File(optional=True), prefix="--samps", doc=InputDocumentation(doc="Give the column names in the intensity file that\ncorrespond to a given sample group. This can either be\nJSON formatted or be a path to a tabular file. JSON\nexample of two experimental groups and two samples in\neach group: {'A': ['A1', 'A2'], 'B': ['B1', 'B2']}")), ToolInput(tag="in_int_file", input_type=Int(optional=True), prefix="--int_file", doc=InputDocumentation(doc="Path to the file with intensity data. Must be tabular,\nhave a peptide sequence column, and be raw,\nuntransformed intensity values. Missing values can be\n0, NA, or NaN- transformed to NA for analysis")), ToolInput(tag="in_pep_colname", input_type=File(optional=True), prefix="--pep_colname", doc=InputDocumentation(doc="The column name within the intensity, function, and/or\ntaxonomy file that corresponds to the peptide\nsequences.")), ToolInput(tag="in_outfile", input_type=File(optional=True), prefix="--outfile", doc=InputDocumentation(doc="Output file")), ToolInput(tag="in_func_file", input_type=File(optional=True), prefix="--func_file", doc=InputDocumentation(doc="Path to file with function. The file must be tabular,\nwith a peptide sequence column and either a GO-term\ncolumn (named 'go') and/or a COG column (named 'cog').")), ToolInput(tag="in_ontology", input_type=String(optional=True), prefix="--ontology", doc=InputDocumentation(doc="Which functional terms to use. This also corresponds\nto the column name in func_file")), ToolInput(tag="in_obo_path", input_type=File(optional=True), prefix="--obo_path", doc=InputDocumentation(doc="Path to full obo. If obo_path does not exist, the file\nwill be downloaded.")), ToolInput(tag="in_slim_path", input_type=File(optional=True), prefix="--slim_path", doc=InputDocumentation(doc="Path to generic slim obo. If slim_path does not exist,\nthe file will be downloaded.")), ToolInput(tag="in_slim_down", input_type=Boolean(optional=True), prefix="--slim_down", doc=InputDocumentation(doc="Flag. If provided, terms are mapped from the full OBO\nto the slim OBO. Terms not in the full OBO will be\nskipped.")), ToolInput(tag="in_update_obo", input_type=Boolean(optional=True), prefix="--update_obo", doc=InputDocumentation(doc="Flag. If provided, the most recent OBO file is\ndownloaded to obo_path, and if slim_down, the most\nrecent generic slim is downloaded as well. Caution:\nwill overwrite anything at these locations.")), ToolInput(tag="in_tax_file", input_type=File(optional=True), prefix="--tax_file", doc=InputDocumentation(doc="Path to (tabular) file with taxonomy assignments.\nThere should be a peptide sequence column with name\npep_colname, and a taxonomy column with name\ntax_colname")), ToolInput(tag="in_tax_colname", input_type=File(optional=True), prefix="--tax_colname", doc=InputDocumentation(doc="Name of taxonomy column in tax file. The column must\nbe either NCBI taxids (strongly preferred) or taxonomy\nnames. Unipept name output is known to function well,\nbut other formats may not work.")), ToolInput(tag="in_test", input_type=Boolean(optional=True), prefix="--test", doc=InputDocumentation(doc="Perform t-tests on the summed intensities.FDR-\ncorrected q-values are returned.")), ToolInput(tag="in_paired", input_type=Boolean(optional=True), prefix="--paired", doc=InputDocumentation(doc="If --test and --paired are provided, perform paired")), ToolInput(tag="in_t_tests_dot", input_type=String(), position=0, doc=InputDocumentation(doc="--threshold THRESHOLD"))], outputs=[ToolOutput(tag="out_outfile", output_type=File(optional=True), selector=InputSelector(input_to_select="in_outfile", type_hint=File()), doc=OutputDocumentation(doc="Output file")), ToolOutput(tag="out_tax_colname", output_type=File(optional=True), selector=InputSelector(input_to_select="in_tax_colname", type_hint=File()), doc=OutputDocumentation(doc="Name of taxonomy column in tax file. The column must\nbe either NCBI taxids (strongly preferred) or taxonomy\nnames. Unipept name output is known to function well,\nbut other formats may not work."))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Metaquant_V0_1_0().translate("wdl", allow_empty_container=True)

