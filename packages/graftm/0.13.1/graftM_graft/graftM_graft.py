from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Array, String, File, Int, Float, Boolean, Directory

Graftm_Graft_V0_1_0 = CommandToolBuilder(tool="graftM_graft", base_command=["graftM", "graft"], inputs=[ToolInput(tag="in_forward", input_type=Array(t=String(), optional=True), prefix="--forward", doc=InputDocumentation(doc="Path to the reads you wish to run through GraftM, either in fasta (.fa) or fastq (.fq), optionally gzip-compressed (.gz). If you would like to run multiple samples at once, provide a space separated list of the file paths")), ToolInput(tag="in_reverse", input_type=String(optional=True), prefix="--reverse", doc=InputDocumentation(doc="read [reverse read ...]\nIf you have paired end data, you may wish to provide the reverse reads. If you are running more than one dataset, please ensure that the order of the files passed to the --forward and --reverse flags is consistent.")), ToolInput(tag="in_interleaved", input_type=Array(t=String(), optional=True), prefix="--interleaved", doc=InputDocumentation(doc="Path to the reads you wish to run through GraftM, either in fasta (.fa) or fastq (.fq), optionally gzip-compressed (.gz). If you would like to run multiple samples at once, provide a space separated list of the file paths")), ToolInput(tag="in_graft_m_package", input_type=File(optional=True), prefix="--graftm_package", doc=InputDocumentation(doc="Path to the gene specific GraftM package (gpkg).")), ToolInput(tag="in_threads", input_type=Int(optional=True), prefix="--threads", doc=InputDocumentation(doc="The number of threads to be used when running hmmsearch and pplacer (default: 5)")), ToolInput(tag="in_input_sequence_type", input_type=String(optional=True), prefix="--input_sequence_type", doc=InputDocumentation(doc="Specify whether the input sequence is 'nucleotide' or 'aminoacid' sequence data (default: guess)")), ToolInput(tag="in_filter_minimum", input_type=Int(optional=True), prefix="--filter_minimum", doc=InputDocumentation(doc="Minimum number of positions that must be aligned for a sequence to be placed in the phylogenetic tree (default: 95bp for nucleotide packages, 30 aa for protein packages)")), ToolInput(tag="in_evalue", input_type=Float(optional=True), prefix="--evalue", doc=InputDocumentation(doc="Specify the evalue cutoff for the hmmsearch, if you would like to use a cutoff different to the default or the trusted cutoff (TC) within the HMM. (default: 1e-5)")), ToolInput(tag="in_search_and_align_only", input_type=Boolean(optional=True), prefix="--search_and_align_only", doc=InputDocumentation(doc="Stop GraftM running after reads have been identified and aligned (i.e. no placement step)")), ToolInput(tag="in_search_only", input_type=Boolean(optional=True), prefix="--search_only", doc=InputDocumentation(doc="Stop GraftM running after reads have been identified (i.e. no alignment or placement steps)")), ToolInput(tag="in_e_uk_check", input_type=Boolean(optional=True), prefix="--euk_check", doc=InputDocumentation(doc="Cross check identified reads using an 18S specific HMM to help filter out eukaryotic ribosomal reads")), ToolInput(tag="in_search_method", input_type=Boolean(optional=True), prefix="--search_method", doc=InputDocumentation(doc="{hmmsearch,diamond,hmmsearch+diamond}\nSearch method (default: hmmsearch)")), ToolInput(tag="in_decoy_database", input_type=File(optional=True), prefix="--decoy_database", doc=InputDocumentation(doc="Path to a diamond database. Sequences with better hits to these proteins will be excluded.")), ToolInput(tag="in_maximum_range", input_type=String(optional=True), prefix="--maximum_range", doc=InputDocumentation(doc="Maximum range to use when searching for potentially linked reads (when searching contigs)")), ToolInput(tag="in_expand_search_contigs", input_type=Array(t=String(), optional=True), prefix="--expand_search_contigs", doc=InputDocumentation(doc="Provide an assembly of the sample being searched. This assembly will initially be searched for full length genes, from which a sample specific HMM model will be created and used in the search step of graftM.")), ToolInput(tag="in_search_hmm_files", input_type=Array(t=String(), optional=True), prefix="--search_hmm_files", doc=InputDocumentation(doc="Specify a list of paths to custom HMM(s) to search the data with.")), ToolInput(tag="in_search_hmm_list_file", input_type=File(optional=True), prefix="--search_hmm_list_file", doc=InputDocumentation(doc="a file containing a list of paths to custom HMM(s) to search the data with (one per line).")), ToolInput(tag="in_search_diamond_file", input_type=File(optional=True), prefix="--search_diamond_file", doc=InputDocumentation(doc="Specify a DIAMOND database with which to search/classify the reads.")), ToolInput(tag="in_aln_hmm_file", input_type=File(optional=True), prefix="--aln_hmm_file", doc=InputDocumentation(doc="Reads will be aligned to this HMM after identification. N.B. This option can only be used if no placement is required.")), ToolInput(tag="in_assignment_method", input_type=String(optional=True), prefix="--assignment_method", doc=InputDocumentation(doc="Taxonomic assignment method, either pplacer (phylogenetic) or DIAMOND (pairwise). default = pplacer (default: pplacer)")), ToolInput(tag="in_placements_cut_off", input_type=Float(optional=True), prefix="--placements_cutoff", doc=InputDocumentation(doc="This flag allows you to change the likelihood cutoff for phylogenetic placement of reads. (default: 0.75)")), ToolInput(tag="in_resolve_placements", input_type=Boolean(optional=True), prefix="--resolve_placements", doc=InputDocumentation(doc="Ignore the placements cutoff and simply use the best placement assigned to the read.")), ToolInput(tag="in_no_merge_reads", input_type=Boolean(optional=True), prefix="--no_merge_reads", doc=InputDocumentation(doc="When this flag is specified, the alignment of the forward and reverse reads will not be merged before placement. If paired reads are provided, pair with the most confident placement will be used for classification.")), ToolInput(tag="in_e_uk_hmm_file", input_type=File(optional=True), prefix="--euk_hmm_file", doc=InputDocumentation(doc="Use this flag to specify the HMM that is used in the Eukaryotic contamination screen")), ToolInput(tag="in_min_orf_length", input_type=Int(optional=True), prefix="--min_orf_length", doc=InputDocumentation(doc="Minimum number of nucleotides in an open reading frame (default: 96)")), ToolInput(tag="in_restrict_read_length", input_type=Int(optional=True), prefix="--restrict_read_length", doc=InputDocumentation(doc="Only use this many base pairs at the start of each sequence searched")), ToolInput(tag="in_verbosity", input_type=Int(optional=True), prefix="--verbosity", doc=InputDocumentation(doc="1 - 5, 1 being silent, 5 being noisy indeed. (default: 4)")), ToolInput(tag="in_log", input_type=File(optional=True), prefix="--log", doc=InputDocumentation(doc="Output logging information to this file")), ToolInput(tag="in_output_directory", input_type=Directory(optional=True), prefix="--output_directory", doc=InputDocumentation(doc="Output directory name (default: GraftM_output)")), ToolInput(tag="in_force", input_type=Directory(optional=True), prefix="--force", doc=InputDocumentation(doc="Force overwrite the output directory if one already exists with the same name")), ToolInput(tag="in_max_samples_for_krona", input_type=Int(optional=True), prefix="--max_samples_for_krona", doc=InputDocumentation(doc="If the number of samples is greater than this, do not output KRONA diagram (default: 100)"))], outputs=[ToolOutput(tag="out_log", output_type=File(optional=True), selector=InputSelector(input_to_select="in_log", type_hint=File()), doc=OutputDocumentation(doc="Output logging information to this file")), ToolOutput(tag="out_output_directory", output_type=Directory(optional=True), selector=InputSelector(input_to_select="in_output_directory", type_hint=File()), doc=OutputDocumentation(doc="Output directory name (default: GraftM_output)")), ToolOutput(tag="out_force", output_type=Directory(optional=True), selector=InputSelector(input_to_select="in_force", type_hint=File()), doc=OutputDocumentation(doc="Force overwrite the output directory if one already exists with the same name"))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Graftm_Graft_V0_1_0().translate("wdl", allow_empty_container=True)

