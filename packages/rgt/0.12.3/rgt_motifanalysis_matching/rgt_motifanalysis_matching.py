from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Directory, Float, Boolean, Array, File, String, Int

Rgt_Motifanalysis_Matching_V0_1_0 = CommandToolBuilder(tool="rgt_motifanalysis_matching", base_command=["rgt-motifanalysis", "matching"], inputs=[ToolInput(tag="in_organism", input_type=Directory(optional=True), prefix="--organism", doc=InputDocumentation(doc="Organism considered on the analysis. Must have been\nsetup in the RGTDATA folder. Common choices are hg19\nor hg38.")), ToolInput(tag="in_fpr", input_type=Float(optional=True), prefix="--fpr", doc=InputDocumentation(doc="False positive rate cutoff.")), ToolInput(tag="in_pseudo_counts", input_type=Float(optional=True), prefix="--pseudocounts", doc=InputDocumentation(doc="Pseudocounts to be added to raw counts of each PFM.")), ToolInput(tag="in_rand_proportion", input_type=Float(optional=True), prefix="--rand-proportion", doc=InputDocumentation(doc="If set, a random regions file will be created (eg, for\nlater enrichment analysis). The number of coordinates\nwill be equal to this value times the size of the\ninputregions. We advise you use a value of at least\n10.")), ToolInput(tag="in_norm_threshold", input_type=Boolean(optional=True), prefix="--norm-threshold", doc=InputDocumentation(doc="If this option is used, the thresholds for all PWMs\nwill be normalized by their length. In this scheme,\nthe threshold cutoff is evaluated in the regular way\nby the given fpr. Then, all thresholds are divided by\nthe length of the motif. The final threshold consists\nof the average between all normalized motif\nthresholds. This single threshold will be applied to\nall motifs.")), ToolInput(tag="in_motif_dbs", input_type=Array(t=File(), optional=True), prefix="--motif-dbs", doc=InputDocumentation(doc="New 'motif DB' folders to use instead of the ones\nwithin the RGTDATA folder. Each folder must contain\nPWM files.")), ToolInput(tag="in_remove_strand_duplicates", input_type=Boolean(optional=True), prefix="--remove-strand-duplicates", doc=InputDocumentation(doc="Certain motifs are 'palindromic', or more specifically\nthey have a palindromic consensus sequence. When this\nhappens, the output MPBS file will have duplicates:\nsame chromosome and initial and final position, but\nopposing strand. Select this option to only retain the\n'strand duplicate' with the highest score. Duplicates\ndue to overlapping input regions are NOT affected by\nthis.")), ToolInput(tag="in_rmd_up", input_type=Boolean(optional=True), prefix="--rmdup", doc=InputDocumentation(doc="Remove any duplicate region from the input BED files.")), ToolInput(tag="in_filter", input_type=String(optional=True), prefix="--filter", doc=InputDocumentation(doc="List of key-value patterns to select a subset of TFs\nusing the metadata (MTF files), e.g. for Mouse and\nHuman on Selex data use:\n'species:sapiens,mus;data_source:selex'. NB: the\nDATABASE values must be written in full - exact\nmatching is always performed.Valid key types are\n'name', 'gene_names', 'family', 'uniprot_ids',\n'data_source', 'tax_group', 'species', 'database',\n'name_file' and 'gene_names_file'")), ToolInput(tag="in_filter_type", input_type=String(optional=True), prefix="--filter-type", doc=InputDocumentation(doc="Only useful together with the --filter argument.Exact\nwill only match perfect matching of the value for each\nkey. Inexact will match in case the value pattern is\ncontained within the motif. Regex allows for a more\ncomplex pattern use.")), ToolInput(tag="in_input_matrix", input_type=String(optional=True), prefix="--input-matrix", doc=InputDocumentation(doc="The experimental matrix allows the specification of\ngene-association rules among input files (see online\ndocumentation for details).")), ToolInput(tag="in_promoters_only", input_type=Boolean(optional=True), prefix="--promoters-only", doc=InputDocumentation(doc="If you ONLY want to perform promoter matching without\nproviding any input file/matrix. If --target-genes is\nnot provided, then all available promoters will be\nmatched against. Note how this makes '--make-\nbackground' redundant.")), ToolInput(tag="in_input_files", input_type=Array(t=String(), optional=True), prefix="--input-files", doc=InputDocumentation(doc="BED files to perform motif matching on.")), ToolInput(tag="in_target_genes", input_type=File(optional=True), prefix="--target-genes", doc=InputDocumentation(doc="List of genes (one per line) to get the promoter\nregions from.")), ToolInput(tag="in_make_background", input_type=Boolean(optional=True), prefix="--make-background", doc=InputDocumentation(doc="If set, it will perform motif matching on the\n'background regions', composed of the promoters of all\navailable genes (minus the target genes, if\nspecified). It doesn't require --target-genes.")), ToolInput(tag="in_promoter_length", input_type=Int(optional=True), prefix="--promoter-length", doc=InputDocumentation(doc="Length of the promoter region (in bp) to be extracted\nfrom each gene.")), ToolInput(tag="in_output_location", input_type=File(optional=True), prefix="--output-location", doc=InputDocumentation(doc="Path where the output MPBS files will be written.\nDefaults to 'match' in the current directory.")), ToolInput(tag="in_big_bed", input_type=Boolean(optional=True), prefix="--bigbed", doc=InputDocumentation(doc="If this option is used, all bed files will be written\nas bigbed.")), ToolInput(tag="in_normalize_bit_score", input_type=Boolean(optional=True), prefix="--normalize-bitscore", doc=InputDocumentation(doc="In order to print bigbed files the scores need to be\nnormalized between 0 and 1000. Don't use this option\nif real bitscores should be printed in the resulting\nbed file. Without this option, bigbed files will never\nbe created.\n"))], outputs=[ToolOutput(tag="out_output_location", output_type=File(optional=True), selector=InputSelector(input_to_select="in_output_location", type_hint=File()), doc=OutputDocumentation(doc="Path where the output MPBS files will be written.\nDefaults to 'match' in the current directory."))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Rgt_Motifanalysis_Matching_V0_1_0().translate("wdl", allow_empty_container=True)

