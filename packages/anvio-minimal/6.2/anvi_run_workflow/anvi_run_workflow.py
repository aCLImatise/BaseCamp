from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import String, File, Boolean

Anvi_Run_Workflow_V0_1_0 = CommandToolBuilder(tool="anvi_run_workflow", base_command=["anvi-run-workflow"], inputs=[ToolInput(tag="in_workflow", input_type=String(optional=True), prefix="--workflow", doc=InputDocumentation(doc="You must specify a workflow name. To see a list of\navailable workflows run --list-workflows.")), ToolInput(tag="in_get_default_config", input_type=File(optional=True), prefix="--get-default-config", doc=InputDocumentation(doc="Store a json formatted config file with all the\ndefault settings of the workflow. This is a good draft\nyou could use in order to write your own config file.\nThis config file contains all parameters that could be\nconfigured for this workflow. NOTICE: the config file\nis provided with default values only for parameters\nthat are set by us in the workflow. The values for the\nrest of the parameters are determined by the relevant\nprogram.")), ToolInput(tag="in_list_workflows", input_type=Boolean(optional=True), prefix="--list-workflows", doc=InputDocumentation(doc="Print a list of available snakemake workflows")), ToolInput(tag="in_list_dependencies", input_type=File(optional=True), prefix="--list-dependencies", doc=InputDocumentation(doc="Print a list of the dependencies of this workflow. You\nmust provide a workflow name and a config file.\nsnakemake will figure out which rules need to be run\naccording to your config file, and according to the\nfiles available on your disk. According to the rules\nthat need to be run, we will let you know which\nprograms are going to be used, so that you can make\nsure you have all of them installed and loaded.")), ToolInput(tag="in_config_file", input_type=File(optional=True), prefix="--config-file", doc=InputDocumentation(doc="A JSON-formatted configuration file.")), ToolInput(tag="in_dry_run", input_type=Boolean(optional=True), prefix="--dry-run", doc=InputDocumentation(doc="Don't do anything real. Test everything, and stop\nright before wherever the developer said 'well, this\nis enough testing', and decided to print out results.")), ToolInput(tag="in_skip_dry_run", input_type=Boolean(optional=True), prefix="--skip-dry-run", doc=InputDocumentation(doc="Don't do anything real. Test everything, and stop\nright before wherever the developer said 'well, this\nis enough testing', and decided to print out results.")), ToolInput(tag="in_save_workflow_graph", input_type=Boolean(optional=True), prefix="--save-workflow-graph", doc=InputDocumentation(doc="Save a graph representation of the workflow. If you\nare using this flag and if your system is unable to\ngenerate such graph outputs, you will hear anvi'o\ncomplaining (still, totally worth trying).")), ToolInput(tag="in__additionalparams_additional", input_type=Boolean(optional=True), prefix="-A", doc=InputDocumentation(doc="..., --additional-params ...\nAdditional snakemake parameters to add when running\nsnakemake. NOTICE: --additional-params HAS TO BE THE\nLAST ARGUMENT THAT IS PASSED TO anvi-run-workflow,\nANYTHING THAT FOLLOWS WILL BE CONSIDERED AS PART OF\nTHE ADDITIONAL PARAMETERS THAT ARE PASSED TO\nSNAKEMAKE. Any parameter that is accepted by snakemake\nshould be fair game here, but it is your\nresponsibility to make sure that whatever you added\nmakes sense. To see what parameters are available\nplease refer to the snakemake documentation. For\nexample, you could use this to set up cluster\nsubmission using --additional-params --cluster 'YOUR-\nCLUSTER-SUBMISSION-CMD'.\n"))], outputs=[ToolOutput(tag="out_get_default_config", output_type=File(optional=True), selector=InputSelector(input_to_select="in_get_default_config", type_hint=File()), doc=OutputDocumentation(doc="Store a json formatted config file with all the\ndefault settings of the workflow. This is a good draft\nyou could use in order to write your own config file.\nThis config file contains all parameters that could be\nconfigured for this workflow. NOTICE: the config file\nis provided with default values only for parameters\nthat are set by us in the workflow. The values for the\nrest of the parameters are determined by the relevant\nprogram.")), ToolOutput(tag="out_list_dependencies", output_type=File(optional=True), selector=InputSelector(input_to_select="in_list_dependencies", type_hint=File()), doc=OutputDocumentation(doc="Print a list of the dependencies of this workflow. You\nmust provide a workflow name and a config file.\nsnakemake will figure out which rules need to be run\naccording to your config file, and according to the\nfiles available on your disk. According to the rules\nthat need to be run, we will let you know which\nprograms are going to be used, so that you can make\nsure you have all of them installed and loaded."))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Anvi_Run_Workflow_V0_1_0().translate("wdl", allow_empty_container=True)

