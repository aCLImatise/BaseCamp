from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import String, File, Boolean

Anvi_Merge_V0_1_0 = CommandToolBuilder(tool="anvi_merge", base_command=["anvi-merge"], inputs=[ToolInput(tag="in_contigs_db", input_type=String(optional=True), prefix="--contigs-db", doc=InputDocumentation(doc="Anvi'o contigs database generated by 'anvi-gen-\ncontigs'")), ToolInput(tag="in_output_dir", input_type=File(optional=True), prefix="--output-dir", doc=InputDocumentation(doc="Directory path for output files")), ToolInput(tag="in_sample_name", input_type=String(optional=True), prefix="--sample-name", doc=InputDocumentation(doc="It is important to set a sample name (using only ASCII\nletters and digits and without spaces) that is unique\n(considering all others). If you do not provide one,\nanvi'o will try to make up one for you based on other\ninformation, although, you should never let the\nsoftware to decide these things).")), ToolInput(tag="in_description", input_type=File(optional=True), prefix="--description", doc=InputDocumentation(doc="A plain text file that contains some description about\nthe project. You can use Markdwon syntax. The\ndescription text will be rendered and shown in all\nrelevant interfaces, including the anvi'o interactive\ninterface, or anvi'o summary outputs.")), ToolInput(tag="in_skip_hierarchical_clustering", input_type=Boolean(optional=True), prefix="--skip-hierarchical-clustering", doc=InputDocumentation(doc="If you are not planning to use the interactive\ninterface (or if you have other means to add a tree of\ncontigs in the database) you may skip the step where\nhierarchical clustering of your items are preformed\nbased on default clustering recipes matching to your\ndatabase type.")), ToolInput(tag="in_enforce_hierarchical_clustering", input_type=Boolean(optional=True), prefix="--enforce-hierarchical-clustering", doc=InputDocumentation(doc="If you have more than 25,000 splits in your merged\nprofile, anvi-merge will automatically skip the\nhierarchical clustering of splits (by setting --skip-\nhierarchical-clustering flag on). This is due to the\nfact that computational time required for hierarchical\nclustering increases exponentially with the number of\nitems being clustered. Based on our experience we\ndecided that 25,000 splits is about the maximum we\nshould try. However, this is not a theoretical limit,\nand you can overwrite this heuristic by using this\nflag, which would tell anvi'o to attempt to cluster\nsplits regardless.")), ToolInput(tag="in_distance", input_type=String(optional=True), prefix="--distance", doc=InputDocumentation(doc="The distance metric for the hierarchical clustering.\nIf you do not use this flag, the default distance\nmetric will be used for each clustering configuration\nwhich is 'euclidean'.")), ToolInput(tag="in_linkage", input_type=String(optional=True), prefix="--linkage", doc=InputDocumentation(doc="The same story with the `--distance`, except, the\nsystem default for this one is ward.")), ToolInput(tag="in_overwrite_output_destinations", input_type=Boolean(optional=True), prefix="--overwrite-output-destinations", doc=InputDocumentation(doc="Overwrite if the output files and/or directories\nexist.\n"))], outputs=[ToolOutput(tag="out_output_dir", output_type=File(optional=True), selector=InputSelector(input_to_select="in_output_dir", type_hint=File()), doc=OutputDocumentation(doc="Directory path for output files"))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Anvi_Merge_V0_1_0().translate("wdl", allow_empty_container=True)

