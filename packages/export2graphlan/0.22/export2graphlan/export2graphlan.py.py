from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Int, String, File, Float, Boolean

Export2Graphlan_Py_V0_1_0 = CommandToolBuilder(tool="export2graphlan.py", base_command=["export2graphlan.py"], inputs=[ToolInput(tag="in_annotations", input_type=Int(optional=True), prefix="--annotations", doc=InputDocumentation(doc="List which levels should be annotated in the tree. Use\na comma separate values form, e.g.,\n--annotation_levels 1,2,3. Default is None")), ToolInput(tag="in_external_annotations", input_type=Int(optional=True), prefix="--external_annotations", doc=InputDocumentation(doc="List which levels should use the external legend for\nthe annotation. Use a comma separate values form,\ne.g., --annotation_levels 1,2,3. Default is None")), ToolInput(tag="in_background_levels", input_type=Int(optional=True), prefix="--background_levels", doc=InputDocumentation(doc="List which levels should be highlight with a shaded\nbackground. Use a comma separate values form, e.g.,\n--background_levels 1,2,3. Default is None")), ToolInput(tag="in_background_clades", input_type=String(optional=True), prefix="--background_clades", doc=InputDocumentation(doc="Specify the clades that should be highlight with a\nshaded background. Use a comma separate values form\nand surround the string with ' if there are spaces.\nExample: --background_clades 'Bacteria.Actinobacteria,\nBacteria.Bacteroidetes.Bacteroidia,\nBacteria.Firmicutes.Clostridia.Clostridiales'. Default\nis None")), ToolInput(tag="in_background_colors", input_type=File(optional=True), prefix="--background_colors", doc=InputDocumentation(doc="Set the color to use for the shaded background. Colors\ncan be either in RGB or HSV (using a semi-colon to\nseparate values, surrounded with ()) format. Use a\ncomma separate values form and surround the string\nwith ' if it contains spaces. Example:\n--background_colors '#29cc36, (150; 100; 100), (280;\n80; 88)'. To use a fixed set of colors associated to a\nfixed set of clades, you can specify a mapping file in\na tab-separated format, where the first column is the\nclade (using the same format as for the '--\nbackground_clades' param) and the second colum is the\ncolor associated. Default is None")), ToolInput(tag="in_title", input_type=String(optional=True), prefix="--title", doc=InputDocumentation(doc="If specified set the title of the GraPhlAn plot.\nSurround the string with ' if it contains spaces,\ne.g., --title 'Title example'")), ToolInput(tag="in_title_font_size", input_type=Int(optional=True), prefix="--title_font_size", doc=InputDocumentation(doc="Set the title font size. Default is 15")), ToolInput(tag="in_def_clade_size", input_type=Int(optional=True), prefix="--def_clade_size", doc=InputDocumentation(doc="Set a default size for clades that are not found as\nbiomarkers by LEfSe. Default is 10")), ToolInput(tag="in_min_clade_size", input_type=Int(optional=True), prefix="--min_clade_size", doc=InputDocumentation(doc="Set the minimum value of clades that are biomarkers.\nDefault is 20")), ToolInput(tag="in_max_clade_size", input_type=Int(optional=True), prefix="--max_clade_size", doc=InputDocumentation(doc="Set the maximum value of clades that are biomarkers.\nDefault is 200")), ToolInput(tag="in_def_font_size", input_type=Int(optional=True), prefix="--def_font_size", doc=InputDocumentation(doc="Set a default font size. Default is 10")), ToolInput(tag="in_min_font_size", input_type=Int(optional=True), prefix="--min_font_size", doc=InputDocumentation(doc="Set the minimum font size to use. Default is 8")), ToolInput(tag="in_max_font_size", input_type=Int(optional=True), prefix="--max_font_size", doc=InputDocumentation(doc="Set the maximum font size. Default is 12")), ToolInput(tag="in_annotation_legend_font_size", input_type=Int(optional=True), prefix="--annotation_legend_font_size", doc=InputDocumentation(doc="Set the font size for the annotation legend. Default\nis 10")), ToolInput(tag="in_abundance_threshold", input_type=Float(optional=True), prefix="--abundance_threshold", doc=InputDocumentation(doc="Set the minimun abundace value for a clade to be\nannotated. Default is 20.0")), ToolInput(tag="in_most_abundant", input_type=Int(optional=True), prefix="--most_abundant", doc=InputDocumentation(doc="When only lefse_input is provided, you can specify how\nmany clades highlight. Since the biomarkers are\nmissing, they will be chosen from the most abundant.\nDefault is 10")), ToolInput(tag="in_least_biomarkers", input_type=Int(optional=True), prefix="--least_biomarkers", doc=InputDocumentation(doc="When only lefse_input is provided, you can specify the\nminimum number of biomarkers to extract. The taxonomy\nis parsed, and the level is choosen in order to have\nat least the specified number of biomarkers. Default\nis 3")), ToolInput(tag="in_discard_otus", input_type=Boolean(optional=True), prefix="--discard_otus", doc=InputDocumentation(doc="If specified the OTU ids will be discarde from the\ntaxonmy. Default is True, i.e. keep OTUs IDs in\ntaxonomy")), ToolInput(tag="in_internal_levels", input_type=Boolean(optional=True), prefix="--internal_levels", doc=InputDocumentation(doc="If specified sum-up from leaf to root the abundances\nvalues. Default is False, i.e. do not sum-up\nabundances on the internal nodes")), ToolInput(tag="in_biomarkers_two_colors", input_type=Int(optional=True), prefix="--biomarkers2colors", doc=InputDocumentation(doc="Mapping file that associates biomarkers to a specific\ncolor... I'll define later the specific format of this\nfile!")), ToolInput(tag="in_lefse_input", input_type=File(optional=True), prefix="--lefse_input", doc=InputDocumentation(doc="LEfSe input data. A file that can be given to LEfSe\nfor biomarkers analysis. It can be the result of a\nMetaPhlAn or HUMAnN analysis")), ToolInput(tag="in_lefse_output", input_type=File(optional=True), prefix="--lefse_output", doc=InputDocumentation(doc="LEfSe output result data. The result of LEfSe analysis\nperformed on the lefse_input file")), ToolInput(tag="in_tree", input_type=File(optional=True), prefix="--tree", doc=InputDocumentation(doc="Output filename where save the input tree for GraPhlAn")), ToolInput(tag="in_annotation", input_type=File(optional=True), prefix="--annotation", doc=InputDocumentation(doc="Output filename where save GraPhlAn annotation")), ToolInput(tag="in_out_table", input_type=File(optional=True), prefix="--out_table", doc=InputDocumentation(doc="Write processed data matrix to file")), ToolInput(tag="in_fname_row", input_type=Int(optional=True), prefix="--fname_row", doc=InputDocumentation(doc="row number containing the names of the features\n[default 0, specify -1 if no names are present in the\nmatrix")), ToolInput(tag="in_sname_row", input_type=Int(optional=True), prefix="--sname_row", doc=InputDocumentation(doc="column number containing the names of the samples\n[default 0, specify -1 if no names are present in the\nmatrix")), ToolInput(tag="in_metadata_rows", input_type=String(optional=True), prefix="--metadata_rows", doc=InputDocumentation(doc="Row numbers to use as metadata[default None, meaning\nno metadata")), ToolInput(tag="in_skip_rows", input_type=File(optional=True), prefix="--skip_rows", doc=InputDocumentation(doc="Row numbers to skip (0-indexed, comma separated) from\nthe input file[default None, meaning no rows skipped")), ToolInput(tag="in_s_perc", input_type=String(optional=True), prefix="--sperc", doc=InputDocumentation(doc="Percentile of sample value distribution for sample")), ToolInput(tag="in_f_top", input_type=Int(optional=True), prefix="--ftop", doc=InputDocumentation(doc="Number of top features to select (ordering based on\npercentile specified by --fperc)")), ToolInput(tag="in_def_na", input_type=String(optional=True), prefix="--def_na", doc=InputDocumentation(doc="Set the default value for missing values [default None\nwhich means no replacement]\n"))], outputs=[ToolOutput(tag="out_annotation", output_type=File(optional=True), selector=InputSelector(input_to_select="in_annotation", type_hint=File()), doc=OutputDocumentation(doc="Output filename where save GraPhlAn annotation"))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Export2Graphlan_Py_V0_1_0().translate("wdl", allow_empty_container=True)

