from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Boolean, String, Int, File

Bp_Unflatten_Seq_Pl_V0_1_0 = CommandToolBuilder(tool="bp_unflatten_seq.pl", base_command=["bp_unflatten_seq.pl"], inputs=[ToolInput(tag="in_input_fileinput_file", input_type=Boolean(optional=True), prefix="-i", doc=InputDocumentation(doc="|input FILE\ninput file (can also be specified as last argument)")), ToolInput(tag="in_from", input_type=String(optional=True), prefix="-from", doc=InputDocumentation(doc="input format (defaults to genbank)\nprobably doesn't make so much sense to use this for non-flat\nformats; ie other than embl/genbank")), ToolInput(tag="in_to", input_type=Int(optional=True), prefix="-to", doc=InputDocumentation(doc="output format (defaults to asciitree)\nshould really be a format that is nested SeqFeature aware; I think\nthis is only asciitree, chadoxml and gff3")), ToolInput(tag="in_gff", input_type=Boolean(optional=True), prefix="-gff", doc=InputDocumentation(doc="with export to GFF3 format (pre-3 GFFs make no sense with\nunflattened sequences, as they have no set way of representing\nfeature graphs)")), ToolInput(tag="in_output_fileoutfile_defaults", input_type=File(optional=True), prefix="-o", doc=InputDocumentation(doc="|output FILE\noutfile defaults to STDOUT")), ToolInput(tag="in_detail", input_type=Boolean(optional=True), prefix="-detail", doc=InputDocumentation(doc="show extra detail on features (asciitree mode only)")), ToolInput(tag="in_ethresh_intsets_threshold", input_type=Boolean(optional=True), prefix="-e", doc=InputDocumentation(doc="|ethresh INT\nsets the error threshold on unflattening\nby default this script will throw a wobbly if it encounters weird\nstuff in the genbank file - raise the error threshold to signal\nthese to be ignored (and reported on STDERR)")), ToolInput(tag="in_no_magic", input_type=Boolean(optional=True), prefix="-nomagic", doc=InputDocumentation(doc="suppress use_magic in unflattening (see\nBio::SeqFeature::Tools::Unflattener")), ToolInput(tag="in_no_typemap", input_type=Boolean(optional=True), prefix="-notypemap", doc=InputDocumentation(doc="suppress type mapping (see Bio::SeqFeature::Tools::TypeMapper")), ToolInput(tag="in_for_dot", input_type=String(), position=0, doc=InputDocumentation(doc="This is most easily illustrated with the default output format,")), ToolInput(tag="in_ascii_tree", input_type=String(), position=1, doc=InputDocumentation(doc="An unflattened genbank feature set may look like this (AB077698)\nSeq: AB077698\ndatabank_entry                                   1..2701[+]\ngene\nmRNA\nCDS hCHCR-G                                  80..1144[+]\nexon                                         80..1144[+]\nfive_prime_UTR                                 1..79[+]\nlocated_sequence_feature                       137..196[+]\nlocated_sequence_feature                       239..292[+]\nlocated_sequence_feature                       617..676[+]\nlocated_sequence_feature                       725..778[+]\nthree_prime_UTR                                1145..2659[+]\npolyA_site                                     1606..1606[+]\npolyA_site                                     2660..2660[+]")), ToolInput(tag="in_gene", input_type=String(), position=0, doc=InputDocumentation(doc="mRNA CG3320-RA                                 \nCDS CG3320-PA                                53126..54971[-]\nexon                                         52204..53323[-]\nexon                                         53404..53631[-]\nexon                                         53688..53735[-]\nexon                                         53798..53918[-]\nexon                                         54949..55287[-]\nmRNA CG3320-RB\nCDS CG3320-PB                                53383..54971[-]\nexon                                         52204..53631[-]\nexon                                         53688..53735[-]\nexon                                         53798..53918[-]\nexon                                         54949..55287[-]")), ToolInput(tag="in_type_mapper", input_type=String(), position=0, doc=InputDocumentation(doc="COMMAND LINE ARGUMENTS")), ToolInput(tag="in_bioperl_lat_bioperl_dot_org", input_type=String(), position=0, doc=InputDocumentation(doc="- General discussion"))], outputs=[ToolOutput(tag="out_output_fileoutfile_defaults", output_type=File(optional=True), selector=InputSelector(input_to_select="in_output_fileoutfile_defaults", type_hint=File()), doc=OutputDocumentation(doc="|output FILE\noutfile defaults to STDOUT"))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Bp_Unflatten_Seq_Pl_V0_1_0().translate("wdl", allow_empty_container=True)

