version 1.0

task RunSnpPipelinesh {
  input {
    Boolean? force
    Directory? mirror
    File? conf
    String? slurmtorque__queuemgr
    Directory? out_dir
    File? samples_dir
    File? samples_file
    Directory? purge
    Int? verbose
    String cfsan_snp_pipeline
    String run
  }
  command <<<
    run_snp_pipeline_sh \
      ~{cfsan_snp_pipeline} \
      ~{run} \
      ~{if (force) then "--force" else ""} \
      ~{if defined(mirror) then ("--mirror " +  '"' + mirror + '"') else ""} \
      ~{if defined(conf) then ("--conf " +  '"' + conf + '"') else ""} \
      ~{if defined(slurmtorque__queuemgr) then ("-Q " +  '"' + slurmtorque__queuemgr + '"') else ""} \
      ~{if defined(out_dir) then ("--out_dir " +  '"' + out_dir + '"') else ""} \
      ~{if defined(samples_dir) then ("--samples_dir " +  '"' + samples_dir + '"') else ""} \
      ~{if defined(samples_file) then ("--samples_file " +  '"' + samples_file + '"') else ""} \
      ~{if (purge) then "--purge" else ""} \
      ~{if defined(verbose) then ("--verbose " +  '"' + verbose + '"') else ""}
  >>>
  parameter_meta {
    force: "Force processing even when result files already exist\\nand are newer than inputs (default: False)"
    mirror: "Create a mirror copy of the reference directory and\\nall the sample directories.  Use this option to avoid\\npolluting the reference directory and sample\\ndirectories with the intermediate files generated by\\nthe snp pipeline.  A \\\"reference\\\" subdirectory and a\\n\\\"samples\\\" subdirectory are created under the output\\ndirectory (see the -o option).  One directory per\\nsample is created under the \\\"samples\\\" directory.\\nThree suboptions allow a choice of how the reference\\nand samples are mirrored.\\n-m soft : creates soft links to the fasta and fastq\\nfiles instead of copying\\n-m hard : creates hard links to the fasta and fastq\\nfiles instead of copying\\n-m copy : copies the fasta and fastq files\\n(default: None)"
    conf: "Relative or absolute path to a configuration file for\\noverriding defaults and defining extra parameters for\\nthe tools and scripts within the pipeline.\\nNote: A default parameter configuration file named\\n\\\"snppipeline.conf\\\" is used whenever the pipeline\\nis run without the -c option.  The configuration\\nfile used for each run is copied into the log\\ndirectory, capturing the parameters used during\\nthe run. (default: None)"
    slurmtorque__queuemgr: "|slurm|torque, --queue_mgr grid|slurm|torque\\nJob queue manager for remote parallel job execution in\\nan HPC environment. Currently \\\"grid\\\", \\\"slurm\\\", and\\n\\\"torque\\\" are supported. If not specified, the pipeline\\nwill execute locally. (default: None)"
    out_dir: "Output directory for the result files. Additional\\nsubdirectories are automatically created under the\\noutput directory for logs files and the mirrored\\nsamples and reference files (see the -m option). The\\noutput directory will be created if it does not\\nalready exist. If not specified, the output files are\\nwritten to the current working directory. If you re-\\nrun the pipeline on previously processed samples, and\\nspecify a different output directory, the pipeline\\nwill not rebuild everything unless you either force a\\nrebuild (see the -f option) or you request mirrored\\ninputs (see the -m option). (default: .)"
    samples_dir: "Relative or absolute path to the parent directory of\\nall the sample directories.  The -s option should be\\nused when all the sample directories are in\\nsubdirectories immediately below a parent directory.\\nNote: You must specify either the -s or -S option, but\\nnot both.\\nNote: The specified directory should contain only a\\ncollection of sample directories, nothing else.\\nNote: Unless you request mirrored inputs, see the\\n-m option, additional files will be written to\\neach of the sample directories during the\\nexecution of the SNP Pipeline (default: None)"
    samples_file: "Relative or absolute path to a file listing all of the\\nsample directories.  The -S option should be used when\\nthe samples are not under a common parent directory.\\nNote: If you are not mirroring the samples (see the\\n-m option), you can improve parallel processing\\nperformance by sorting the the list of\\ndirectories descending by size, largest first.\\nThe -m option automatically generates a sorted\\ndirectory list.\\nNote: You must specify either the -s or -S option, but\\nnot both.\\nNote: Unless you request mirrored inputs, see the\\n-m option, additional files will be written to\\neach of the sample directories during the\\nexecution of the SNP Pipeline (default: None)"
    purge: "Purge the intermediate output files (the entire\\n\\\"samples\\\" directory) when the pipeline completes\\nsuccessfully. (default: False)"
    verbose: "Verbose message level (0=no info, 5=lots) (default: 1)"
    cfsan_snp_pipeline: ""
    run: ""
  }
  output {
    File out_stdout = stdout()
    Directory out_mirror = "${in_mirror}"
    Directory out_purge = "${in_purge}"
  }
}