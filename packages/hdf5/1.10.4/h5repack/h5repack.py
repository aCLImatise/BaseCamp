from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Boolean, File, Int, String

H5Repack_V0_1_0 = CommandToolBuilder(tool="h5repack", base_command=["h5repack"], inputs=[ToolInput(tag="in_verbose", input_type=Boolean(optional=True), prefix="--verbose", doc=InputDocumentation(doc="Verbose mode, print object information")), ToolInput(tag="in_native", input_type=Boolean(optional=True), prefix="--native", doc=InputDocumentation(doc="Use a native HDF5 type when repacking")), ToolInput(tag="in_enable_error_stack", input_type=Boolean(optional=True), prefix="--enable-error-stack", doc=InputDocumentation(doc="Prints messages from the HDF5 error stack as they occur")), ToolInput(tag="in_latest", input_type=Boolean(optional=True), prefix="--latest", doc=InputDocumentation(doc="Use latest version of file format\nThis option will take precedence over the -j and -k options")), ToolInput(tag="in_low", input_type=File(optional=True), prefix="--low", doc=InputDocumentation(doc="The low bound for library release versions to use when creating\nobjects in the file (default is H5F_LIBVER_EARLIEST)")), ToolInput(tag="in_high", input_type=File(optional=True), prefix="--high", doc=InputDocumentation(doc="The high bound for library release versions to use when creating\nobjects in the file (default is H5F_LIBVER_LATEST)")), ToolInput(tag="in_compact", input_type=Int(optional=True), prefix="--compact", doc=InputDocumentation(doc="Maximum number of links in header messages")), ToolInput(tag="in_indexed", input_type=Int(optional=True), prefix="--indexed", doc=InputDocumentation(doc="Minimum number of links in the indexed format")), ToolInput(tag="in_shared_object_header", input_type=Int(optional=True), prefix="-s", doc=InputDocumentation(doc="[:F], --ssize=S[:F] Shared object header message minimum size")), ToolInput(tag="in_minimum", input_type=String(optional=True), prefix="--minimum", doc=InputDocumentation(doc="Do not apply the filter to datasets smaller than M")), ToolInput(tag="in_file", input_type=File(optional=True), prefix="--file", doc=InputDocumentation(doc="Name of file E with the -f and -l options")), ToolInput(tag="in_u_block", input_type=File(optional=True), prefix="--ublock", doc=InputDocumentation(doc="Name of file U with user block data to be added")), ToolInput(tag="in_block", input_type=Int(optional=True), prefix="--block", doc=InputDocumentation(doc="Size of user block to be added")), ToolInput(tag="in_metadata_block_size", input_type=Int(optional=True), prefix="--metadata_block_size", doc=InputDocumentation(doc="Metadata block size for H5Pset_meta_block_size")), ToolInput(tag="in_threshold", input_type=Int(optional=True), prefix="--threshold", doc=InputDocumentation(doc="Threshold value for H5Pset_alignment")), ToolInput(tag="in_alignment", input_type=Int(optional=True), prefix="--alignment", doc=InputDocumentation(doc="Alignment value for H5Pset_alignment")), ToolInput(tag="in_sort_by", input_type=String(optional=True), prefix="--sort_by", doc=InputDocumentation(doc="Sort groups and attributes by index Q")), ToolInput(tag="in_sort_order", input_type=String(optional=True), prefix="--sort_order", doc=InputDocumentation(doc="Sort groups and attributes by order Z")), ToolInput(tag="in_filter", input_type=String(optional=True), prefix="--filter", doc=InputDocumentation(doc="Filter type")), ToolInput(tag="in_layout", input_type=String(optional=True), prefix="--layout", doc=InputDocumentation(doc="Layout type")), ToolInput(tag="in_fs_strategy", input_type=File(optional=True), prefix="--fs_strategy", doc=InputDocumentation(doc="File space management strategy for H5Pset_file_space_strategy")), ToolInput(tag="in_fs_persist", input_type=Int(optional=True), prefix="--fs_persist", doc=InputDocumentation(doc="Persisting or not persisting free-space for H5Pset_file_space_strategy")), ToolInput(tag="in_fs_threshold", input_type=Int(optional=True), prefix="--fs_threshold", doc=InputDocumentation(doc="Free-space section threshold for H5Pset_file_space_strategy")), ToolInput(tag="in_fs_pagesize", input_type=Int(optional=True), prefix="--fs_pagesize", doc=InputDocumentation(doc="File space page size for H5Pset_file_space_page_size\nM - is an integer greater than 1, size of dataset in bytes (default is 0)\nE - is a filename.\nS - is an integer\nU - is a filename.\nT - is an integer\nA - is an integer greater than zero\nQ - is the sort index type for the input file. It can be 'name' or 'creation_order' (default)\nZ - is the sort order type for the input file. It can be 'descending' or 'ascending' (default)\nB - is the user block size, any value that is 512 or greater and is\na power of 2 (1024 default)\nF - is the shared object header message type, any of <dspace|dtype|fill|\npline|attr>. If F is not specified, S applies to all messages\nBOUND is an integer indicating the library release versions to use when creating\nobjects in the file (see H5Pset_libver_bounds()):\n0: This is H5F_LIBVER_EARLIEST in H5F_libver_t struct\n1: This is H5F_LIBVER_V18 in H5F_libver_t struct\n2: This is H5F_LIBVER_V110 in H5F_libver_t struct\n(H5F_LIBVER_LATEST is aliased to H5F_LIBVER_V110 for this release\nFS_STRATEGY is a string indicating the file space strategy used:\nFSM_AGGR:\nThe mechanisms used in managing file space are free-space managers, aggregators and virtual file driver.\nPAGE:\nThe mechanisms used in managing file space are free-space managers with embedded paged aggregation and virtual file driver.\nAGGR:\nThe mechanisms used in managing file space are aggregators and virtual file driver.\nNONE:\nThe mechanisms used in managing file space are virtual file driver.\nThe default strategy when not set is FSM_AGGR without persisting free-space.\nFS_PERSIST is 1 to persisting free-space or 0 to not persisting free-space.\nThe default when not set is not persisting free-space.\nThe value is ignored for AGGR and NONE strategies.\nFS_THRESHOLD is the minimum size (in bytes) of free-space sections to be tracked by the library.\nThe default when not set is 1.\nThe value is ignored for AGGR and NONE strategies.\nFS_PAGESIZE is the size (in bytes) >=512 that is used by the library when the file space strategy PAGE is used.\nThe default when not set is 4096.\nFILT - is a string with the format:\n<list of objects>:<name of filter>=<filter parameters>\n<list of objects> is a comma separated list of object names, meaning apply\ncompression only to those objects. If no names are specified, the filter\nis applied to all objects\n<name of filter> can be:\nGZIP, to apply the HDF5 GZIP filter (GZIP compression)\nSZIP, to apply the HDF5 SZIP filter (SZIP compression)\nSHUF, to apply the HDF5 shuffle filter\nFLET, to apply the HDF5 checksum filter\nNBIT, to apply the HDF5 NBIT filter (NBIT compression)\nSOFF, to apply the HDF5 Scale/Offset filter\nUD,   to apply a user defined filter\nNONE, to remove all filters\n<filter parameters> is optional filter parameter information\nGZIP=<deflation level> from 1-9\nSZIP=<pixels per block,coding> pixels per block is a even number in\n2-32 and coding method is either EC or NN\nSHUF (no parameter)\nFLET (no parameter)\nNBIT (no parameter)\nSOFF=<scale_factor,scale_type> scale_factor is an integer and scale_type\nis either IN or DS\nUD=<filter_number,filter_flag,cd_value_count,value_1[,value_2,...,value_N]>\nrequired values for filter_number,filter_flag,cd_value_count,value_1\noptional values for value_2 to value_N\nNONE (no parameter)\nLAYT - is a string with the format:\n<list of objects>:<layout type>=<layout parameters>\n<list of objects> is a comma separated list of object names, meaning that\nlayout information is supplied for those objects. If no names are\nspecified, the layout type is applied to all objects\n<layout type> can be:\nCHUNK, to apply chunking layout\nCOMPA, to apply compact layout\nCONTI, to apply contiguous layout\n<layout parameters> is optional layout information\nCHUNK=DIM[xDIM...xDIM], the chunk size of each dimension\nCOMPA (no parameter)\nCONTI (no parameter)")), ToolInput(tag="in_file_one", input_type=Int(), position=0, doc=InputDocumentation(doc="Input HDF5 File")), ToolInput(tag="in_file_two", input_type=Int(), position=1, doc=InputDocumentation(doc="Output HDF5 File")), ToolInput(tag="in_options", input_type=String(), position=2, doc=InputDocumentation(doc="-h, --help              Print a usage message and exit"))], outputs=[], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    H5Repack_V0_1_0().translate("wdl", allow_empty_container=True)

