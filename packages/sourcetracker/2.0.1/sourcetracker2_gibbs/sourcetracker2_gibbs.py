from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import File, Boolean, Int, Float, String

Sourcetracker2_Gibbs_V0_1_0 = CommandToolBuilder(tool="sourcetracker2_gibbs", base_command=["sourcetracker2", "gibbs"], inputs=[ToolInput(tag="in_table_fp", input_type=File(optional=True), prefix="--table_fp", doc=InputDocumentation(doc="Path to input BIOM table.  [required]")), ToolInput(tag="in_mapping_fp", input_type=File(optional=True), prefix="--mapping_fp", doc=InputDocumentation(doc="Path to sample metadata mapping file.\n[required]")), ToolInput(tag="in_output_dir", input_type=File(optional=True), prefix="--output_dir", doc=InputDocumentation(doc="Path to the output directory to be created.\n[required]")), ToolInput(tag="in_loo", input_type=Boolean(optional=True), prefix="--loo", doc=InputDocumentation(doc="Classify each sample in `sources` using a\nleave-one-out strategy. Replicates -s option\nin Knights et al. sourcetracker.  [default:\nFalse]")), ToolInput(tag="in_jobs", input_type=Int(optional=True), prefix="--jobs", doc=InputDocumentation(doc="Number of processes to launch.  [default: 1]")), ToolInput(tag="in_alpha_one", input_type=Float(optional=True), prefix="--alpha1", doc=InputDocumentation(doc="Prior counts of each species in the training\nenvironments. Higher values decrease the\ntrust in the training environments, and make\nthe source environment distrubitons over\ntaxa smoother. By default, this is set to\n0.001, which indicates reasonably high trust\nin all source environments, even those with\nfew training sequences. This is useful when\nonly a small number of biological samples\nare available from a source environment. A\nmore conservative value would be 0.01.\n[default: 0.001]")), ToolInput(tag="in_alpha_two", input_type=Float(optional=True), prefix="--alpha2", doc=InputDocumentation(doc="Prior counts of each species in Unknown\nenvironment. Higher values make the Unknown\nenvironment smoother and less prone to\noverfitting given a training sample.\n[default: 0.001]")), ToolInput(tag="in_beta", input_type=Int(optional=True), prefix="--beta", doc=InputDocumentation(doc="Count to be added to each species in each\nenvironment, including `unknown`.  [default:\n10]")), ToolInput(tag="in_source_rarefaction_depth", input_type=Int(optional=True), prefix="--source_rarefaction_depth", doc=InputDocumentation(doc="Depth at which to rarify sources. If 0, no\nrarefaction performed.  [default: 1000]")), ToolInput(tag="in_sink_rarefaction_depth", input_type=Int(optional=True), prefix="--sink_rarefaction_depth", doc=InputDocumentation(doc="Depth at which to rarify sinks. If 0, no\nrarefaction performed.  [default: 1000]")), ToolInput(tag="in_restarts", input_type=Int(optional=True), prefix="--restarts", doc=InputDocumentation(doc="Number of independent Markov chains to grow.\n`draws_per_restart` * `restarts` gives the\nnumber of samplings of the mixing\nproportions that will be generated.\n[default: 10]")), ToolInput(tag="in_draws_per_restart", input_type=Int(optional=True), prefix="--draws_per_restart", doc=InputDocumentation(doc="Number of times to sample the state of the\nMarkov chain for each independent chain\ngrown.  [default: 1]")), ToolInput(tag="in_burnin", input_type=Int(optional=True), prefix="--burnin", doc=InputDocumentation(doc="Number of passes (withdarawal and\nreassignment of every sequence in the sink)\nthat will be made before a sample (draw)\nwill be taken. Higher values allow more\nconvergence towards the true distribtion\nbefore draws are taken.  [default: 100]")), ToolInput(tag="in_delay", input_type=Int(optional=True), prefix="--delay", doc=InputDocumentation(doc="Number passes between each sampling (draw)\nof the Markov chain. Once the burnin passes\nhave been made, a sample will be taken every\n`delay` number of passes. This is also known\nas `thinning`. Thinning helps reduce the\nimpact of correlation between adjacent\nstates of the Markov chain.  [default: 10]")), ToolInput(tag="in_cluster_start_delay", input_type=Int(optional=True), prefix="--cluster_start_delay", doc=InputDocumentation(doc="When using multiple jobs, the script has to\nstart an `ipcluster`. If ipcluster does not\nrecognize that it has been successfully\nstarted, the jobs will not be successfully\nlaunched. If this is happening, increase\nthis parameter.  [default: 25]")), ToolInput(tag="in_source_sink_column", input_type=String(optional=True), prefix="--source_sink_column", doc=InputDocumentation(doc="Sample metadata column indicating which\nsamples should be treated as sources and\nwhich as sinks.  [default: SourceSink]")), ToolInput(tag="in_source_column_value", input_type=String(optional=True), prefix="--source_column_value", doc=InputDocumentation(doc="Value in source_sink_column indicating which\nsamples should be treated as sources.\n[default: source]")), ToolInput(tag="in_sink_column_value", input_type=String(optional=True), prefix="--sink_column_value", doc=InputDocumentation(doc="Value in source_sink_column indicating which\nsamples should be treated as sinks.\n[default: sink]")), ToolInput(tag="in_source_category_column", input_type=String(optional=True), prefix="--source_category_column", doc=InputDocumentation(doc="Sample metadata column indicating the type\nof each source sample.  [default: Env]"))], outputs=[ToolOutput(tag="out_output_dir", output_type=File(optional=True), selector=InputSelector(input_to_select="in_output_dir", type_hint=File()), doc=OutputDocumentation(doc="Path to the output directory to be created.\n[required]"))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Sourcetracker2_Gibbs_V0_1_0().translate("wdl", allow_empty_container=True)

