from datetime import datetime
from typing import List, Optional, Dict, Any

from janis_core import *
from janis_core.types.common_data_types import Int, Boolean, File

Eqtlbma_Bf_Parallel_Bash_V0_1_0 = CommandToolBuilder(tool="eqtlbma_bf_parallel.bash", base_command=["eqtlbma_bf_parallel.bash"], inputs=[ToolInput(tag="in_verbose", input_type=Int(optional=True), prefix="--verbose", doc=InputDocumentation(doc="level (0/default=1/2/3)")), ToolInput(tag="in_p_two_b", input_type=Boolean(optional=True), prefix="--p2b", doc=InputDocumentation(doc="path to the binary 'eqtlbma_bf'")), ToolInput(tag="in_gened", input_type=Boolean(optional=True), prefix="--geneD", doc=InputDocumentation(doc="directory with lists of features to analyze (BED files)\nfile names have to be like '<anything>_<batchId>.<anything>'")), ToolInput(tag="in_snp_d", input_type=Boolean(optional=True), prefix="--snpD", doc=InputDocumentation(doc="directory with lists of SNPs to analyze (optional)\nfile names have to be like '<anything>_<batchId>.<anything>'\neach SNP file should correspond to a feature file, in the same order")), ToolInput(tag="in_in_ssd", input_type=Boolean(optional=True), prefix="--inssD", doc=InputDocumentation(doc="directory with lists of files with absolute paths to files with summary statistics\nfile names have to be like '<anything>_<batchId>.<abything>'\nif --inssD is given, neither --geneD nor --snpD are used (nor --geno, --scoord, --exp, etc)")), ToolInput(tag="in_seed_f", input_type=Boolean(optional=True), prefix="--seedF", doc=InputDocumentation(doc="file with seeds (as many as files in --geneD)\noptional, default=list_seeds.txt.gz (should be gzipped)")), ToolInput(tag="in_task", input_type=Boolean(optional=True), prefix="--task", doc=InputDocumentation(doc="task identifier (not for SGE, for SLURM only)")), ToolInput(tag="in_geno", input_type=Boolean(optional=True), prefix="--geno", doc=InputDocumentation(doc="file with absolute paths to genotype files\ndefault=list_genotypes.txt")), ToolInput(tag="in_s_coord", input_type=Boolean(optional=True), prefix="--scoord", doc=InputDocumentation(doc="file with the SNP coordinates")), ToolInput(tag="in_exp", input_type=Boolean(optional=True), prefix="--exp", doc=InputDocumentation(doc="file with absolute paths to expression level files\ndefault=list_expressions.txt")), ToolInput(tag="in_anchor", input_type=Boolean(optional=True), prefix="--anchor", doc=InputDocumentation(doc="feature boundary(ies) for the cis region\ndefault=TSS")), ToolInput(tag="in_cis", input_type=Boolean(optional=True), prefix="--cis", doc=InputDocumentation(doc="length of half of the cis region (in bp)\ndefault=100000")), ToolInput(tag="in_out", input_type=Boolean(optional=True), prefix="--out", doc=InputDocumentation(doc="prefix for the output files\ndefault=out_eqtlbma")), ToolInput(tag="in_lik", input_type=Boolean(optional=True), prefix="--lik", doc=InputDocumentation(doc="likelihood to use (normal/poisson/quasipoisson)\ndefault=normal")), ToolInput(tag="in_analys", input_type=Boolean(optional=True), prefix="--analys", doc=InputDocumentation(doc="analysis to perform (sep/join)\ndefault=sep")), ToolInput(tag="in_out_ss", input_type=File(optional=True), prefix="--outss", doc=InputDocumentation(doc="write the output file with all summary statistics")), ToolInput(tag="in_out_w", input_type=File(optional=True), prefix="--outw", doc=InputDocumentation(doc="write the output file with the ABFs averaged over the grid")), ToolInput(tag="in_q_norm", input_type=Boolean(optional=True), prefix="--qnorm", doc=InputDocumentation(doc="quantile-normalize the expression levels to a N(0,1)")), ToolInput(tag="in_co_var", input_type=Boolean(optional=True), prefix="--covar", doc=InputDocumentation(doc="file with absolute paths to covariate files")), ToolInput(tag="in_grid_l", input_type=Boolean(optional=True), prefix="--gridL", doc=InputDocumentation(doc="file with a 'large' grid for prior variances\ndefault=grid_phi2_oma2_general.txt.gz")), ToolInput(tag="in_grids", input_type=Boolean(optional=True), prefix="--gridS", doc=InputDocumentation(doc="file with a 'small' grid for prior variances\ndefault=grid_phi2_oma2_with-configs.txt.gz")), ToolInput(tag="in_bfs", input_type=Boolean(optional=True), prefix="--bfs", doc=InputDocumentation(doc="which Bayes Factors to compute for the joint analysis\ndefault=gen")), ToolInput(tag="in_error", input_type=Boolean(optional=True), prefix="--error", doc=InputDocumentation(doc="model for the errors (uvlr/mvlr/hybrid)\ndefault=uvlr")), ToolInput(tag="in_fit_err", input_type=Boolean(optional=True), prefix="--fiterr", doc=InputDocumentation(doc="param used when estimating the variance of the errors\ndefault=0.5")), ToolInput(tag="in_n_perm", input_type=Boolean(optional=True), prefix="--nperm", doc=InputDocumentation(doc="number of permutations\ndefault=0")), ToolInput(tag="in_trick", input_type=Boolean(optional=True), prefix="--trick", doc=InputDocumentation(doc="apply trick to speed-up permutations\ndefault=2")), ToolInput(tag="in_tri_cut", input_type=Boolean(optional=True), prefix="--tricut", doc=InputDocumentation(doc="cutoff for the trick\ndefault=10")), ToolInput(tag="in_perm_sep", input_type=Int(optional=True), prefix="--permsep", doc=InputDocumentation(doc="permutation procedure for the separate analysis\ndefault=0")), ToolInput(tag="in_pbf", input_type=Boolean(optional=True), prefix="--pbf", doc=InputDocumentation(doc="which BF to use as the test statistic for the joint-analysis permutations\ndefault=none")), ToolInput(tag="in_max_bf", input_type=Boolean(optional=True), prefix="--maxbf", doc=InputDocumentation(doc="use the maximum ABF over SNPs as test statistic for permutations")), ToolInput(tag="in_thread", input_type=Boolean(optional=True), prefix="--thread", doc=InputDocumentation(doc="number of threads for the permutations\ndefault=1")), ToolInput(tag="in_sb_grp", input_type=Boolean(optional=True), prefix="--sbgrp", doc=InputDocumentation(doc="identifier of the subgroup to analyze"))], outputs=[ToolOutput(tag="out_out_ss", output_type=File(optional=True), selector=InputSelector(input_to_select="in_out_ss", type_hint=File()), doc=OutputDocumentation(doc="write the output file with all summary statistics")), ToolOutput(tag="out_out_w", output_type=File(optional=True), selector=InputSelector(input_to_select="in_out_w", type_hint=File()), doc=OutputDocumentation(doc="write the output file with the ABFs averaged over the grid"))], container=None, version="v0.1.0")


if __name__ == "__main__":
    # or "cwl"
    Eqtlbma_Bf_Parallel_Bash_V0_1_0().translate("wdl", allow_empty_container=True)

