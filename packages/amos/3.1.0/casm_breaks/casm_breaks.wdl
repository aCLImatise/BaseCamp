version 1.0

task Casmbreaks {
  input {
    String? bank_materead_info
    Int? number_concurring_signatures
    Int? set_fuzzy_equals
    File? output_read_paths_file_amos
    Float? set_minimum_default
    File? output_read_paths_file_wacky
    Int? set_random_seed
    Int? set_maximum_default
  }
  command <<<
    casm_breaks \
      ~{if defined(bank_materead_info) then ("-b " +  '"' + bank_materead_info + '"') else ""} \
      ~{if defined(number_concurring_signatures) then ("-c " +  '"' + number_concurring_signatures + '"') else ""} \
      ~{if defined(set_fuzzy_equals) then ("-f " +  '"' + set_fuzzy_equals + '"') else ""} \
      ~{if defined(output_read_paths_file_amos) then ("-F " +  '"' + output_read_paths_file_amos + '"') else ""} \
      ~{if defined(set_minimum_default) then ("-i " +  '"' + set_minimum_default + '"') else ""} \
      ~{if defined(output_read_paths_file_wacky) then ("-P " +  '"' + output_read_paths_file_wacky + '"') else ""} \
      ~{if defined(set_random_seed) then ("-s " +  '"' + set_random_seed + '"') else ""} \
      ~{if defined(set_maximum_default) then ("-t " +  '"' + set_maximum_default + '"') else ""}
  >>>
  parameter_meta {
    bank_materead_info: "Bank for mate/read info and layout/scaffold output"
    number_concurring_signatures: "Number of concurring signatures required, default 3"
    set_fuzzy_equals: "Set the fuzzy equals tolerance for break positions,\\ndefault 3"
    output_read_paths_file_amos: "Output read paths to file as AMOS features"
    set_minimum_default: "Set the minimum alignment identity, default 0"
    output_read_paths_file_wacky: "Output read paths to file in wacky format"
    set_random_seed: "Set random generator seed to unsigned int, default\\nseed is generated by the system clock"
    set_maximum_default: "Set maximum ignorable trim length, default 500"
  }
  output {
    File out_stdout = stdout()
    File out_output_read_paths_file_amos = "${in_output_read_paths_file_amos}"
    File out_output_read_paths_file_wacky = "${in_output_read_paths_file_wacky}"
  }
}