version 1.0

task Anviimportfunctions {
  input {
    String? contigs_db
    File? parser
    File? s_one_files
    Boolean? drop_previous_annotations
  }
  command <<<
    anvi_import_functions \
      ~{if defined(contigs_db) then ("--contigs-db " +  '"' + contigs_db + '"') else ""} \
      ~{if defined(parser) then ("--parser " +  '"' + parser + '"') else ""} \
      ~{if defined(s_one_files) then ("-i " +  '"' + s_one_files + '"') else ""} \
      ~{if (drop_previous_annotations) then "--drop-previous-annotations" else ""}
  >>>
  parameter_meta {
    contigs_db: "Anvi'o contigs database generated by 'anvi-gen-\\ncontigs'"
    parser: "Parser to make sense of the input files (if you need\\none). There are currently 1 parsers readily available:\\n['interproscan']. IT IS OK if you do not select a\\nparser if you have a standard, TAB-delimited input\\nfile for funcitonal annotation of genes. If this is\\nnot like 2018 and everything is already outdated, you\\nshould be able to go to this address and learn\\neverything you need like a boss:\\nhttp://merenlab.org/2016/06/18/importing-functions/"
    s_one_files: "(S) [FILE(S) ...], --input-files FILE(S) [FILE(S) ...]\\nOne or more input files should follow this parameter.\\nThe way these files will be handled will depend on\\nwhich parser you selected (if you did select any)."
    drop_previous_annotations: "Use this flag if you want anvi'o to remove ALL\\nprevious functional annotations for your genes, and\\nthen import the new data. The default behavior will\\nadd any annotation source into the db incrementally\\nunless there are already annotations from this source.\\nIn which case, it will first remove previous\\nannotations for that source only (i.e., if source X is\\nboth in the db and in the incoming annotations data,\\nit will replace the content of source X in the db).\\n"
  }
  output {
    File out_stdout = stdout()
  }
}