version 1.0

task AnviComputeCompleteness {
  input {
    File? splits_of_interest
    String? contigs_db
    String? min_e_value
    Boolean? list_completeness_sources
    String? completeness_source
  }
  command <<<
    anvi-compute-completeness \
      ~{if defined(splits_of_interest) then ("--splits-of-interest " +  '"' + splits_of_interest + '"') else ""} \
      ~{if defined(contigs_db) then ("--contigs-db " +  '"' + contigs_db + '"') else ""} \
      ~{if defined(min_e_value) then ("--min-e-value " +  '"' + min_e_value + '"') else ""} \
      ~{true="--list-completeness-sources" false="" list_completeness_sources} \
      ~{if defined(completeness_source) then ("--completeness-source " +  '"' + completeness_source + '"') else ""}
  >>>
  parameter_meta {
    splits_of_interest: "A file with split names. There should be only one column in the file, and each line should correspond to a unique split name."
    contigs_db: "Anvi'o contigs database generated by 'anvi-gen- contigs'"
    min_e_value: "Minimum significance score of an HMM find to be considered as a valid hit. Default is 1e-15."
    list_completeness_sources: "Show available sources and exit."
    completeness_source: "Single-copy gene source to use to estimate completeness."
  }
}