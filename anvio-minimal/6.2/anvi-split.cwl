#!/usr/bin/env cwl-runner

baseCommand:
- anvi-split
class: CommandLineTool
cwlVersion: v1.0
id: anvi-split
inputs:
- doc: Anvi'o pan or profile database (and even genes database in appropriate contexts).
  id: pan_or_profile_db
  inputBinding:
    prefix: --pan-or-profile-db
  type: string
- doc: Anvi'o contigs database generated by 'anvi-gen- contigs'
  id: contigs_db
  inputBinding:
    prefix: --contigs-db
  type: string
- doc: Anvi'o genomes storage file
  id: genomes_storage
  inputBinding:
    prefix: --genomes-storage
  type: string
- doc: Processing variability tables in profile database might take a very long time.
    With this flag you will be asking anvi'o to skip them.
  id: skip_variability_tables
  inputBinding:
    prefix: --skip-variability-tables
  type: boolean
- doc: When declared, the auxiliary data file in the resulting output will be compressed.
    This saves space, but it takes long. Also, if you are planning to compress the
    entire later using GZIP, it is even useless to do. But you are the boss!
  id: compress_auxiliary_data
  inputBinding:
    prefix: --compress-auxiliary-data
  type: boolean
- doc: Collection name.
  id: collection_name
  inputBinding:
    prefix: --collection-name
  type: string
- doc: Bin name you are interested in.
  id: bin_id
  inputBinding:
    prefix: --bin-id
  type: string
- doc: Directory path for output files
  id: output_dir
  inputBinding:
    prefix: --output-dir
  type: string
- doc: Show available collections and exit.
  id: list_collections
  inputBinding:
    prefix: --list-collections
  type: boolean
- doc: If you are not planning to use the interactive interface (or if you have other
    means to add a tree of contigs in the database) you may skip the step where hierarchical
    clustering of your items are preformed based on default clustering recipes matching
    to your database type.
  id: skip_hierarchical_clustering
  inputBinding:
    prefix: --skip-hierarchical-clustering
  type: boolean
- doc: If you have more than 25,000 splits in your merged profile, anvi-merge will
    automatically skip the hierarchical clustering of splits (by setting --skip- hierarchical-clustering
    flag on). This is due to the fact that computational time required for hierarchical
    clustering increases exponentially with the number of items being clustered. Based
    on our experience we decided that 25,000 splits is about the maximum we should
    try. However, this is not a theoretical limit, and you can overwrite this heuristic
    by using this flag, which would tell anvi'o to attempt to cluster splits regardless.
  id: enforce_hierarchical_clustering
  inputBinding:
    prefix: --enforce-hierarchical-clustering
  type: boolean
- doc: The distance metric for the hierarchical clustering. If you do not use this
    flag, the default distance metric will be used for each clustering configuration
    which is "euclidean".
  id: distance
  inputBinding:
    prefix: --distance
  type: string
- doc: The same story with the `--distance`, except, the system default for this one
    is ward.
  id: linkage
  inputBinding:
    prefix: --linkage
  type: string
