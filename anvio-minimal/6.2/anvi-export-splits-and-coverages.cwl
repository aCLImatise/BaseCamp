#!/usr/bin/env cwl-runner

baseCommand:
- anvi-export-splits-and-coverages
class: CommandLineTool
cwlVersion: v1.0
id: anvi-export-splits-and-coverages
inputs:
- doc: Anvi'o profile database
  id: profile_db
  inputBinding:
    prefix: --profile-db
  type: string
- doc: Anvi'o contigs database generated by 'anvi-gen- contigs'
  id: contigs_db
  inputBinding:
    prefix: --contigs-db
  type: string
- doc: Directory path for output files
  id: output_dir
  inputBinding:
    prefix: --output-dir
  type: string
- doc: A prefix to be used while naming the output files (no file type extensions
    please; just a prefix).
  id: output_file_prefix
  inputBinding:
    prefix: --output-file-prefix
  type: File
- doc: Specify this flag if you would like to output coverages of individual 'splits',
    rather than their 'parent' contig coverages.
  id: splits_mode
  inputBinding:
    prefix: --splits-mode
  type: boolean
- doc: By default this program reports sequences and their coverages for 'splits'.
    By using this flag, you can report contig sequences and coverages instead. For
    obvious reasons, you can't use this flag with `--splits-mode` flag.
  id: report_contigs
  inputBinding:
    prefix: --report-contigs
  type: boolean
- doc: By default this program reports the mean coverage of a split (or contig, see
    --report-contigs) for each sample. By using this flag, you can report the mean
    Q2Q3 coverage by excluding 25 percent of the nucleotide positions with the smallest
    coverage values, and 25 percent of the nucleotide positions with the largest coverage
    values. The hope is that this removes 'outlier' positions resulting from non-
    specific mapping, etc. that skew the mean coverage estimate.
  id: use_q2q3_coverages
  inputBinding:
    prefix: --use-Q2Q3-coverages
  type: boolean
