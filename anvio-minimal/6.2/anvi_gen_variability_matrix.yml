!Command
positional:
- !Positional
  description: Summary file
  position: 0
  name: SUMMARY_DICT
  optional: false
named:
- !Flag
  description: Anvi'o contigs database generated by 'anvi-gen- contigs'
  synonyms:
  - -c
  - --contigs-db
  args: !SimpleFlagArg
    name: CONTIGS_DB
  optional: true
- !Flag
  description: A file with split names. There should be only one column in the file,
    and each line should correspond to a unique split name.
  synonyms:
  - --splits-of-interest
  args: !SimpleFlagArg
    name: FILE
  optional: true
- !Flag
  description: A file with samples names. There should be only one column in the file,
    and each line should correspond to a unique sample name (without a column header).
  synonyms:
  - --samples-of-interest
  args: !SimpleFlagArg
    name: FILE
  optional: true
- !Flag
  description: Each split may have one or more variable positions. By default, anvi'o
    will report every SNV position found in a given split. This parameter will help
    you to define a cutoff for the maximum number of SNVs to be reported from a split
    (if the number of SNVs is more than the number you declare using this parameter,
    the positions will be randomly subsampled).
  synonyms:
  - --num-positions-from-each-split
  args: !SimpleFlagArg
    name: INT
  optional: true
- !Flag
  description: "This one is tricky. If you have N samples in your dataset, a given\
    \ variable position x in one of your splits can split your N samples into `t`\
    \ groups based on the identity of the variation they harbor at position x. For\
    \ instance, `t` would have been 1, if all samples had the same type of variation\
    \ at position x (which would not be very interesting, because in this case position\
    \ x would have zero contribution to a deeper understanding of how these samples\
    \ differ based on variability. When `t` > 1, it would mean that identities at\
    \ position x across samples do differ. But how much scattering occurs based on\
    \ position x when t > 1? If t=2, how many samples ended in each group? Obviously,\
    \ even distribution of samples across groups may tell us something different than\
    \ uneven distribution of samples across groups. So, this parameter filters out\
    \ any x if 'the number of samples in the second largest group' (=scatter) is less\
    \ than -m. Here is an example: let's assume you have 7 samples. While 5 of those\
    \ have AG, 2 of them have TC at position x. This would mean scatter of x is 2.\
    \ If you set -m to 2, this position would not be reported in your output matrix.\
    \ The default value for -m is 0, which means every `x` found in the database and\
    \ survived previous filtering criteria will be reported. Naturally, -m cannot\
    \ be more than half of the number of samples. Please refer to the user documentation\
    \ if this is confusing."
  synonyms:
  - -m
  - --min-scatter
  args: !SimpleFlagArg
    name: INT
  optional: true
- !Flag
  description: Minimum ratio of the competing nucleotides at a given position. Default
    is 0.
  synonyms:
  - -r
  - --min-ratio-of-competings-nts
  args: !SimpleFlagArg
    name: RATIO
  optional: true
- !Flag
  description: File path to store results.
  synonyms:
  - -o
  - --output-file
  args: !SimpleFlagArg
    name: FILE_PATH
  optional: true
command:
- anvi-gen-variability-matrix
parent:
subcommands: []
help_flag: !Flag
  description: show this help message and exit
  synonyms:
  - -h
  - --help
  args: !EmptyFlagArg {}
  optional: true
usage_flag:
version_flag:
help_text: "usage: anvi-gen-variability-matrix [-h] -c CONTIGS_DB --splits-of-interest\n\
  \                                   FILE [--samples-of-interest FILE]\n        \
  \                           [--num-positions-from-each-split INT]\n            \
  \                       [-m INT] [-r RATIO] [-o FILE_PATH]\n                   \
  \                SUMMARY_DICT\n\nGenerate a variability matrix (potentially outdated\
  \ program)\n\npositional arguments:\n  SUMMARY_DICT          Summary file\n\noptional\
  \ arguments:\n  -h, --help            show this help message and exit\n  -c CONTIGS_DB,\
  \ --contigs-db CONTIGS_DB\n                        Anvi'o contigs database generated\
  \ by 'anvi-gen-\n                        contigs'\n  --splits-of-interest FILE\n\
  \                        A file with split names. There should be only one\n   \
  \                     column in the file, and each line should correspond to\n \
  \                       a unique split name.\n  --samples-of-interest FILE\n   \
  \                     A file with samples names. There should be only one\n    \
  \                    column in the file, and each line should correspond to\n  \
  \                      a unique sample name (without a column header).\n  --num-positions-from-each-split\
  \ INT\n                        Each split may have one or more variable positions.\
  \ By\n                        default, anvi'o will report every SNV position found\n\
  \                        in a given split. This parameter will help you to\n   \
  \                     define a cutoff for the maximum number of SNVs to be\n   \
  \                     reported from a split (if the number of SNVs is more\n   \
  \                     than the number you declare using this parameter, the\n  \
  \                      positions will be randomly subsampled).\n  -m INT, --min-scatter\
  \ INT\n                        This one is tricky. If you have N samples in your\n\
  \                        dataset, a given variable position x in one of your\n \
  \                       splits can split your N samples into `t` groups based\n\
  \                        on the identity of the variation they harbor at\n     \
  \                   position x. For instance, `t` would have been 1, if\n      \
  \                  all samples had the same type of variation at position\n    \
  \                    x (which would not be very interesting, because in\n      \
  \                  this case position x would have zero contribution to a\n    \
  \                    deeper understanding of how these samples differ based\n  \
  \                      on variability. When `t` > 1, it would mean that\n      \
  \                  identities at position x across samples do differ. But\n    \
  \                    how much scattering occurs based on position x when t\n   \
  \                     > 1? If t=2, how many samples ended in each group?\n     \
  \                   Obviously, even distribution of samples across groups\n    \
  \                    may tell us something different than uneven\n             \
  \           distribution of samples across groups. So, this\n                  \
  \      parameter filters out any x if 'the number of samples\n                 \
  \       in the second largest group' (=scatter) is less than\n                 \
  \       -m. Here is an example: let's assume you have 7\n                      \
  \  samples. While 5 of those have AG, 2 of them have TC\n                      \
  \  at position x. This would mean scatter of x is 2. If\n                      \
  \  you set -m to 2, this position would not be reported\n                      \
  \  in your output matrix. The default value for -m is 0,\n                     \
  \   which means every `x` found in the database and\n                        survived\
  \ previous filtering criteria will be reported.\n                        Naturally,\
  \ -m cannot be more than half of the number\n                        of samples.\
  \ Please refer to the user documentation if\n                        this is confusing.\n\
  \  -r RATIO, --min-ratio-of-competings-nts RATIO\n                        Minimum\
  \ ratio of the competing nucleotides at a given\n                        position.\
  \ Default is 0.\n  -o FILE_PATH, --output-file FILE_PATH\n                     \
  \   File path to store results.\n"
generated_using:
- --help
